import{s as N,n as k,r as D,c as q,a as F}from"../chunks/scheduler.CE28Mlnp.js";import{S as E,i as R,e as b,s as w,c as g,d as C,h as L,g as v,w as f,j as z,k as h,C as y,x as P,v as H,m as U,t as $,n as M,a as S,o as O,p as T,q as B,r as j,u as A}from"../chunks/index.DI-vKZfI.js";import{f as V,a as W,b as x}from"../chunks/firebaseStore.uL8k1zFQ.js";import{b as G}from"../chunks/paths.BaTIH16z.js";import{g as J}from"../chunks/entry.BTvvhHjn.js";import{P as K}from"../chunks/ProgressBar.BImEwBUK.js";function I(a){let e,r="Wrong password!";return{c(){e=b("b"),e.textContent=r,this.h()},l(t){e=g(t,"B",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-1rh5isq"&&(e.textContent=r),this.h()},h(){f(e,"class","error svelte-dzxb86")},m(t,s){z(t,e,s)},d(t){t&&v(e)}}}function Q(a){let e,r,t,s,o,l,m,n,u,p,i=a[2]&&I();return{c(){e=b("div"),r=b("form"),t=b("input"),s=w(),o=b("input"),l=w(),i&&i.c(),m=w(),n=b("input"),this.h()},l(c){e=g(c,"DIV",{class:!0});var _=C(e);r=g(_,"FORM",{class:!0});var d=C(r);t=g(d,"INPUT",{class:!0,type:!0,placeholder:!0}),s=L(d),o=g(d,"INPUT",{class:!0,type:!0,placeholder:!0}),l=L(d),i&&i.l(d),m=L(d),n=g(d,"INPUT",{type:!0,class:!0}),d.forEach(v),_.forEach(v),this.h()},h(){f(t,"class","email svelte-dzxb86"),f(t,"type","email"),f(t,"placeholder","Email"),t.required=!0,f(o,"class","password svelte-dzxb86"),f(o,"type","password"),f(o,"placeholder","Password"),o.required=!0,f(n,"type","submit"),n.value="Login",f(n,"class","btn svelte-dzxb86"),f(r,"class","form svelte-dzxb86"),f(e,"class","form-container svelte-dzxb86")},m(c,_){z(c,e,_),h(e,r),h(r,t),y(t,a[0]),h(r,s),h(r,o),y(o,a[1]),h(r,l),i&&i.m(r,null),h(r,m),h(r,n),u||(p=[P(t,"input",a[5]),P(o,"input",a[6]),P(r,"submit",a[3])],u=!0)},p(c,[_]){_&1&&t.value!==c[0]&&y(t,c[0]),_&2&&o.value!==c[1]&&y(o,c[1]),c[2]?i||(i=I(),i.c(),i.m(r,m)):i&&(i.d(1),i=null)},i:k,o:k,d(c){c&&v(e),i&&i.d(),u=!1,D(p)}}}function X(a,e,r){let{onSuccessfulLogin:t=()=>{}}=e,s="",o="",l=!1;async function m(){try{r(2,l=!1),await V.login(s,o),t()}catch{console.log("Login failed!"),r(2,l=!0)}}function n(){s=this.value,r(0,s)}function u(){o=this.value,r(1,o)}return a.$$set=p=>{"onSuccessfulLogin"in p&&r(4,t=p.onSuccessfulLogin)},[s,o,l,m,t,n,u]}class Y extends E{constructor(e){super(),R(this,e,X,Q,N,{onSuccessfulLogin:4})}}function Z(a){let e,r;return e=new Y({props:{onSuccessfulLogin:a[1]}}),{c(){T(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,s){j(e,t,s),r=!0},p:k,i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){A(e,t)}}}function ee(a){let e,r;return e=new K({}),{c(){T(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,s){j(e,t,s),r=!0},p:k,i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){A(e,t)}}}function te(a){let e,r,t,s;const o=[ee,Z],l=[];function m(n,u){return n[0].currentUser?0:1}return e=m(a),r=l[e]=o[e](a),{c(){r.c(),t=U()},l(n){r.l(n),t=U()},m(n,u){l[e].m(n,u),z(n,t,u),s=!0},p(n,[u]){let p=e;e=m(n),e===p?l[e].p(n,u):(O(),$(l[p],1,1,()=>{l[p]=null}),M(),r=l[e],r?r.p(n,u):(r=l[e]=o[e](n),r.c()),S(r,1),r.m(t.parentNode,t))},i(n){s||(S(r),s=!0)},o(n){$(r),s=!1},d(n){n&&v(t),l[e].d(n)}}}function re(a,e,r){let t,s;q(a,W,l=>r(0,t=l)),q(a,x,l=>r(2,s=l));function o(){s==="/login/"&&F(x,s="/",s),J(G+s)}return a.$$.update=()=>{a.$$.dirty&1&&t.currentUser&&o()},[t,o]}class ue extends E{constructor(e){super(),R(this,e,re,te,N,{})}}export{ue as component};
