import{s as P,n as j,i as Y,r as tt,b as E,x as q}from"../chunks/scheduler.B3svg8oL.js";import{S as F,i as G,e as k,c as T,a as D,d as p,m as g,x as R,g as H,h as v,p as y,E as et,s as S,A,f as O,B as U,n as X,o as J,C as z,F as nt,w,u as W,D as N,y as it,v as lt,q as ot,G as B}from"../chunks/index.B48kWlNt.js";import{e as K}from"../chunks/each.D6YF6ztN.js";import{b as Z}from"../chunks/paths.DeZg6Kyd.js";function st(n){let t,e,i,r;return{c(){t=k("button"),e=k("div"),this.h()},l(o){t=T(o,"BUTTON",{class:!0});var s=D(t);e=T(s,"DIV",{class:!0,style:!0}),D(e).forEach(p),s.forEach(p),this.h()},h(){g(e,"class","icon svelte-w8cq5c"),R(e,"-webkit-mask","url("+n[1]+") no-repeat center / contain"),R(e,"mask","url("+n[1]+") no-repeat center / contain"),g(t,"class","svelte-w8cq5c")},m(o,s){H(o,t,s),v(t,e),i||(r=y(t,"click",et(function(){Y(n[0])&&n[0].apply(this,arguments)})),i=!0)},p(o,[s]){n=o,s&2&&R(e,"-webkit-mask","url("+n[1]+") no-repeat center / contain"),s&2&&R(e,"mask","url("+n[1]+") no-repeat center / contain")},i:j,o:j,d(o){o&&p(t),i=!1,r()}}}function at(n,t,e){let{onClick:i=()=>{}}=t,{url:r=""}=t;return n.$$set=o=>{"onClick"in o&&e(0,i=o.onClick),"url"in o&&e(1,r=o.url)},[i,r]}class x extends F{constructor(t){super(),G(this,t,at,st,P,{onClick:0,url:1})}}function rt(n){let t,e,i,r,o,s,_,b,d;return s=new x({props:{url:Z+"/images/svg/cancel.svg",onClick:n[2]}}),{c(){t=k("button"),e=k("div"),i=S(),r=k("input"),o=S(),A(s.$$.fragment),this.h()},l(c){t=T(c,"BUTTON",{class:!0});var a=D(t);e=T(a,"DIV",{class:!0}),D(e).forEach(p),i=O(a),r=T(a,"INPUT",{autocorrect:!0,autocomplete:!0,spellcheck:!0,type:!0,class:!0}),o=O(a),U(s.$$.fragment,a),a.forEach(p),this.h()},h(){g(e,"class","divider svelte-ow4o1a"),g(r,"autocorrect","off"),g(r,"autocomplete","off"),g(r,"spellcheck","false"),g(r,"type","text"),g(r,"class","svelte-ow4o1a"),g(t,"class","tab svelte-ow4o1a"),X(t,"lockMaxWidth",n[4]>0),X(t,"active",n[1])},m(c,a){H(c,t,a),v(t,e),v(t,i),v(t,r),n[7](r),J(r,n[0]),v(t,o),z(s,t,null),n[9](t),_=!0,b||(d=[y(r,"input",n[8]),y(t,"dblclick",nt(n[10])),y(t,"click",function(){Y(n[3])&&n[3].apply(this,arguments)})],b=!0)},p(c,[a]){n=c,a&1&&r.value!==n[0]&&J(r,n[0]);const m={};a&4&&(m.onClick=n[2]),s.$set(m),(!_||a&16)&&X(t,"lockMaxWidth",n[4]>0),(!_||a&2)&&X(t,"active",n[1])},i(c){_||(w(s.$$.fragment,c),_=!0)},o(c){W(s.$$.fragment,c),_=!1},d(c){c&&p(t),n[7](null),N(s),n[9](null),b=!1,tt(d)}}}function ct(n,t,e){let{title:i=""}=t,{active:r=!1}=t,{onClose:o=()=>{}}=t,{onClick:s=()=>{}}=t,{lockMaxWidth:_=0}=t,b,d;function c(l){E[l?"unshift":"push"](()=>{b=l,e(6,b)})}function a(){i=this.value,e(0,i)}function m(l){E[l?"unshift":"push"](()=>{d=l,e(5,d)})}const h=()=>b.select();return n.$$set=l=>{"title"in l&&e(0,i=l.title),"active"in l&&e(1,r=l.active),"onClose"in l&&e(2,o=l.onClose),"onClick"in l&&e(3,s=l.onClick),"lockMaxWidth"in l&&e(4,_=l.lockMaxWidth)},n.$$.update=()=>{n.$$.dirty&48&&d&&_>0&&d.style.setProperty("--max-width",`${_}px`)},[i,r,o,s,_,d,b,c,a,m,h]}class ut extends F{constructor(t){super(),G(this,t,ct,rt,P,{title:0,active:1,onClose:2,onClick:3,lockMaxWidth:4})}}function L(n,t,e){const i=n.slice();return i[15]=t[e],i[16]=t,i[17]=e,i}function Q(n){let t,e,i,r;function o(){return n[7](n[15])}function s(){return n[8](n[15])}function _(c){n[9](c,n[15])}function b(c){n[10](c)}let d={active:n[1]==n[15].id,onClose:o,onClick:s};return n[15].title!==void 0&&(d.title=n[15].title),n[3]!==void 0&&(d.lockMaxWidth=n[3]),t=new ut({props:d}),E.push(()=>B(t,"title",_)),E.push(()=>B(t,"lockMaxWidth",b)),{c(){A(t.$$.fragment)},l(c){U(t.$$.fragment,c)},m(c,a){z(t,c,a),r=!0},p(c,a){n=c;const m={};a&3&&(m.active=n[1]==n[15].id),a&1&&(m.onClose=o),a&1&&(m.onClick=s),!e&&a&1&&(e=!0,m.title=n[15].title,q(()=>e=!1)),!i&&a&8&&(i=!0,m.lockMaxWidth=n[3],q(()=>i=!1)),t.$set(m)},i(c){r||(w(t.$$.fragment,c),r=!0)},o(c){W(t.$$.fragment,c),r=!1},d(c){N(t,c)}}}function ft(n){let t,e,i,r,o,s,_,b,d,c=K(n[0]),a=[];for(let h=0;h<c.length;h+=1)a[h]=Q(L(n,c,h));const m=h=>W(a[h],1,1,()=>{a[h]=null});return s=new x({props:{url:Z+"/images/svg/plus.svg",onClick:n[5]}}),{c(){t=k("div"),e=k("div"),i=k("div");for(let h=0;h<a.length;h+=1)a[h].c();r=S(),o=k("div"),A(s.$$.fragment),_=S(),b=k("div"),this.h()},l(h){t=T(h,"DIV",{});var l=D(t);e=T(l,"DIV",{class:!0});var u=D(e);i=T(u,"DIV",{class:!0});var I=D(i);for(let f=0;f<a.length;f+=1)a[f].l(I);I.forEach(p),r=O(u),o=T(u,"DIV",{class:!0});var M=D(o);U(s.$$.fragment,M),M.forEach(p),u.forEach(p),_=O(l),b=T(l,"DIV",{class:!0}),D(b).forEach(p),l.forEach(p),this.h()},h(){g(i,"class","tabs svelte-185rz3b"),g(o,"class","buttons"),g(e,"class","toolbar svelte-185rz3b"),g(b,"class","separator svelte-185rz3b")},m(h,l){H(h,t,l),v(t,e),v(e,i);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(i,null);n[11](i),v(e,r),v(e,o),z(s,o,null),v(t,_),v(t,b),d=!0},p(h,[l]){if(l&91){c=K(h[0]);let u;for(u=0;u<c.length;u+=1){const I=L(h,c,u);a[u]?(a[u].p(I,l),w(a[u],1)):(a[u]=Q(I),a[u].c(),w(a[u],1),a[u].m(i,null))}for(it(),u=c.length;u<a.length;u+=1)m(u);lt()}},i(h){if(!d){for(let l=0;l<c.length;l+=1)w(a[l]);w(s.$$.fragment,h),d=!0}},o(h){a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)W(a[l]);W(s.$$.fragment,h),d=!1},d(h){h&&p(t),ot(a,h),n[11](null),N(s)}}}function ht(n,t,e){let{tabs:i}=t,{activeTabID:r}=t,o=i.map(f=>f.id),s,_=0;const b=(f,C=300)=>{let V;return(...$)=>{clearTimeout(V),V=setTimeout(()=>{f.apply(void 0,$)},C)}},d=f=>{let C=o.indexOf(f);e(3,_=s.children[0].clientWidth),c(),e(0,i=i.filter(V=>V.id!=f)),o=o.filter(V=>V!=f),r==f&&m(o[Math.min(C,o.length-1)])},c=b(()=>{console.log("debounced closing tabs..."),e(3,_=0)},700),a=()=>{let f=Date.now().toString();i.push({id:f,title:"Untitled"}),o.push(f),e(0,i),m(f)},m=f=>{e(1,r=f),!(_>0)&&setTimeout(()=>{var C;(C=s.querySelector(".tab.active"))==null||C.scrollIntoView({behavior:"smooth"})})},h=f=>d(f.id),l=f=>m(f.id);function u(f,C){n.$$.not_equal(C.title,f)&&(C.title=f,e(0,i))}function I(f){_=f,e(3,_)}function M(f){E[f?"unshift":"push"](()=>{s=f,e(2,s)})}return n.$$set=f=>{"tabs"in f&&e(0,i=f.tabs),"activeTabID"in f&&e(1,r=f.activeTabID)},[i,r,s,_,d,a,m,h,l,u,I,M]}class dt extends F{constructor(t){super(),G(this,t,ht,ft,P,{tabs:0,activeTabID:1})}}function _t(n){let t,e,i,r;return{c(){t=k("div"),e=k("textarea"),this.h()},l(o){t=T(o,"DIV",{id:!0,class:!0});var s=D(t);e=T(s,"TEXTAREA",{spellcheck:!0,name:!0,id:!0,class:!0}),D(e).forEach(p),s.forEach(p),this.h()},h(){g(e,"spellcheck","false"),g(e,"name","editor"),g(e,"id","text"),g(e,"class","svelte-7cpmmf"),g(t,"id","editor"),g(t,"class","svelte-7cpmmf")},m(o,s){H(o,t,s),v(t,e),J(e,n[0]),i||(r=y(e,"input",n[1]),i=!0)},p(o,[s]){s&1&&J(e,o[0])},i:j,o:j,d(o){o&&p(t),i=!1,r()}}}function bt(n,t,e){let{text:i}=t;function r(){i=this.value,e(0,i)}return n.$$set=o=>{"text"in o&&e(0,i=o.text)},[i,r]}class mt extends F{constructor(t){super(),G(this,t,bt,_t,P,{text:0})}}function gt(n){let t,e,i,r,o,s,_,b;function d(l){n[3](l)}function c(l){n[4](l)}let a={};n[0]!==void 0&&(a.tabs=n[0]),n[1]!==void 0&&(a.activeTabID=n[1]),e=new dt({props:a}),E.push(()=>B(e,"tabs",d)),E.push(()=>B(e,"activeTabID",c));function m(l){n[5](l)}let h={};return n[2].text!==void 0&&(h.text=n[2].text),s=new mt({props:h}),E.push(()=>B(s,"text",m)),{c(){t=k("div"),A(e.$$.fragment),o=S(),A(s.$$.fragment),this.h()},l(l){t=T(l,"DIV",{class:!0});var u=D(t);U(e.$$.fragment,u),o=O(u),U(s.$$.fragment,u),u.forEach(p),this.h()},h(){g(t,"class","container svelte-16qa0xo")},m(l,u){H(l,t,u),z(e,t,null),v(t,o),z(s,t,null),b=!0},p(l,[u]){const I={};!i&&u&1&&(i=!0,I.tabs=l[0],q(()=>i=!1)),!r&&u&2&&(r=!0,I.activeTabID=l[1],q(()=>r=!1)),e.$set(I);const M={};!_&&u&4&&(_=!0,M.text=l[2].text,q(()=>_=!1)),s.$set(M)},i(l){b||(w(e.$$.fragment,l),w(s.$$.fragment,l),b=!0)},o(l){W(e.$$.fragment,l),W(s.$$.fragment,l),b=!1},d(l){l&&p(t),N(e),N(s)}}}function pt(n,t,e){let i,r=[{id:Date.now().toString(),title:"Hello ðŸ‘‹",text:"Welcome to notep... not notepad. Something completely different (Microsoft, don't sue me). v0.7"}],o=r[0].id;function s(d){r=d,e(0,r)}function _(d){o=d,e(1,o)}function b(d){n.$$.not_equal(i.text,d)&&(i.text=d,e(2,i),e(0,r),e(1,o))}return n.$$.update=()=>{n.$$.dirty&3&&e(2,i=r.find(d=>d.id==o)||{text:"Click the âž• above to create a new tab."})},[r,o,i,s,_,b]}class It extends F{constructor(t){super(),G(this,t,pt,gt,P,{})}}export{It as component};
