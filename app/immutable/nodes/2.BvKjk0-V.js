import{s as ne,a as Ve,n as P,r as Ce,j as ve,y as Qe,b as K,c as ke,o as De,z as Ze,A as Je}from"../chunks/scheduler.aSSXveB9.js";import{S as se,i as le,e as E,s as V,c as I,a as A,k as ee,f as R,d as T,l as v,C as F,g as N,h as y,D as x,m as M,E as de,F as Ie,G as xe,x as ae,y as ie,z as re,v as Te,q as Ee,r as B,p as S,A as oe,H as $e,o as te}from"../chunks/index.BxL2oB2Q.js";import{e as ye,u as Re,o as Ue,a as Le,c as he,b as He}from"../chunks/animate.CNqNxcFs.js";import{e as Oe,b as qe}from"../chunks/authStore.C-Ejhejk.js";import{b as $}from"../chunks/paths.UJJrHjwr.js";import{w as et}from"../chunks/index.DjYgQ-sS.js";import{_ as tt}from"../chunks/preload-helper.D6kgxu3v.js";function nt(s){let e,t,n="",a,l,o,u,i,h=`<span class="close-icon svelte-5tvkop" style="-webkit-mask: url(${$}/images/svg/cancel.svg) no-repeat center / contain; mask: url(${$}/images/svg/cancel.svg) no-repeat center / contain;"></span>`,p,d;return{c(){e=E("div"),t=E("button"),t.innerHTML=n,a=V(),l=E("div"),o=E("input"),u=V(),i=E("button"),i.innerHTML=h,this.h()},l(c){e=I(c,"DIV",{class:!0});var f=A(e);t=I(f,"BUTTON",{class:!0,draggable:!0,"data-svelte-h":!0}),ee(t)!=="svelte-190ilm5"&&(t.innerHTML=n),a=R(f),l=I(f,"DIV",{class:!0});var b=A(l);o=I(b,"INPUT",{autocorrect:!0,autocomplete:!0,spellcheck:!0,type:!0,class:!0}),u=R(b),i=I(b,"BUTTON",{class:!0,draggable:!0,"data-svelte-h":!0}),ee(i)!=="svelte-1x3debq"&&(i.innerHTML=h),b.forEach(T),f.forEach(T),this.h()},h(){v(t,"class","tab svelte-5tvkop"),v(t,"draggable","true"),F(t,"active",s[1]),v(o,"autocorrect","off"),v(o,"autocomplete","off"),v(o,"spellcheck","false"),v(o,"type","text"),v(o,"class","svelte-5tvkop"),v(i,"class","close-button svelte-5tvkop"),v(i,"draggable","true"),v(l,"class","tab-wrapper svelte-5tvkop"),v(e,"class","container svelte-5tvkop"),F(e,"preventHover",s[2])},m(c,f){N(c,e,f),y(e,t),y(e,a),y(e,l),y(l,o),s[10](o),x(o,s[0]),y(l,u),y(l,i),p||(d=[Ve(st.call(null,t)),M(t,"longpress",de(Ie(xe(s[8])))),M(t,"dblclick",de(s[9])),M(t,"mousedown",de(function(){ve(s[4])&&s[4].apply(this,arguments)})),M(t,"touchstart",de(function(){ve(s[4])&&s[4].apply(this,arguments)})),M(t,"dragstart",de(function(){ve(s[5])&&s[5].apply(this,arguments)})),M(o,"input",s[11]),M(i,"click",Ie(function(){ve(s[3])&&s[3].apply(this,arguments)})),M(i,"dragstart",Ie(s[7]))],p=!0)},p(c,[f]){s=c,f&2&&F(t,"active",s[1]),f&1&&o.value!==s[0]&&x(o,s[0]),f&4&&F(e,"preventHover",s[2])},i:P,o:P,d(c){c&&T(e),s[10](null),p=!1,Ce(d)}}}function st(s,e=500){const t=()=>{const n=setTimeout(()=>{s.dispatchEvent(new CustomEvent("longpress"))},e),a=()=>{clearTimeout(n),s.removeEventListener("touchmove",a),s.removeEventListener("touchend",a)};s.addEventListener("touchstart",a),s.addEventListener("touchend",a)};return s.addEventListener("touchstart",t),{destroy(){s.removeEventListener("touchstart",t)}}}function lt(s,e,t){let{title:n=""}=e,{active:a=!1}=e,{preventHover:l=!1}=e,{onClose:o=()=>{}}=e,{onPointerdown:u=g=>{}}=e,{onDragstart:i=g=>{}}=e,h;function p(g){Qe.call(this,s,g)}const d=()=>h.select(),c=()=>h.select();function f(g){K[g?"unshift":"push"](()=>{h=g,t(6,h)})}function b(){n=this.value,t(0,n)}return s.$$set=g=>{"title"in g&&t(0,n=g.title),"active"in g&&t(1,a=g.active),"preventHover"in g&&t(2,l=g.preventHover),"onClose"in g&&t(3,o=g.onClose),"onPointerdown"in g&&t(4,u=g.onPointerdown),"onDragstart"in g&&t(5,i=g.onDragstart)},[n,a,l,o,u,i,h,p,d,c,f,b]}class We extends se{constructor(e){super(),le(this,e,lt,nt,ne,{title:0,active:1,preventHover:2,onClose:3,onPointerdown:4,onDragstart:5})}}let at=0;const W=et({tabs:[],activeIndex:-1,placeholderIndex:-1}),O={newTab:s=>{const{data:e={id:at++,title:"Untitled",ops:[]},index:t=-1,callback:n=()=>{}}=s||{};W.update(a=>(a.tabs.some(l=>l.id==e.id)||(t<0?(a.tabs.push(e),a.activeIndex=a.tabs.length-1):(a.tabs.splice(t,0,e),a.activeIndex=t)),a)),n()},removeTab:s=>{W.update(e=>(s<0||s>=e.tabs.length||(e.placeholderIndex==s&&(e.placeholderIndex=-1),e.tabs.splice(s,1),s==e.activeIndex-1?e.activeIndex=Math.max(0,s):e.activeIndex=Math.min(e.activeIndex,e.tabs.length-1)),e))},setActiveIndex:s=>{W.update(e=>(s<0?e.activeIndex=0:s>e.tabs.length?e.activeIndex=e.tabs.length-1:e.activeIndex=s,e))},setPlaceholderIndex:s=>{W.update(e=>(e.placeholderIndex=s===void 0||s<0||s>=e.tabs.length?-1:s,e))},moveTab:(s,e,t=()=>{})=>{s!=e&&(W.update(n=>{if(s<0||s>=n.tabs.length||e<0||e>=n.tabs.length)return n;const a=n.tabs[s];return n.tabs.splice(s,1),n.tabs.splice(e,0,a),n.activeIndex==s&&(n.activeIndex=e),n.placeholderIndex==s&&(n.placeholderIndex=e),n}),t())}};function Ae(s,e,t){const n=s.slice();return n[38]=e[t],n[39]=e,n[40]=t,n}function Pe(s,e){let t,n,a,l,o=e[40],u,i,h;function p(){return e[15](e[40])}function d(...w){return e[16](e[40],...w)}function c(w){e[17](w,e[40])}let f={active:e[9].activeIndex==e[40],preventHover:e[8],onClose:p,onPointerdown:d,onDragstart:e[13]};e[9].tabs[e[40]].title!==void 0&&(f.title=e[9].tabs[e[40]].title),n=new We({props:f}),K.push(()=>$e(n,"title",c));const b=()=>e[18](t,o),g=()=>e[18](null,o);return{key:s,first:null,c(){t=E("div"),ae(n.$$.fragment),l=V(),this.h()},l(w){t=I(w,"DIV",{class:!0});var D=A(t);ie(n.$$.fragment,D),l=R(D),D.forEach(T),this.h()},h(){v(t,"class","tab-container svelte-n2wlg2"),F(t,"placeholder",e[9].placeholderIndex==e[40]),this.first=t},m(w,D){N(w,t,D),re(n,t,null),y(t,l),b(),u=!0,i||(h=Ve(e[12].call(null,t)),i=!0)},p(w,D){e=w;const q={};D[0]&512&&(q.active=e[9].activeIndex==e[40]),D[0]&256&&(q.preventHover=e[8]),D[0]&512&&(q.onClose=p),D[0]&512&&(q.onPointerdown=d),!a&&D[0]&512&&(a=!0,q.title=e[9].tabs[e[40]].title,Ze(()=>a=!1)),n.$set(q),o!==e[40]&&(g(),o=e[40],b()),(!u||D[0]&512)&&F(t,"placeholder",e[9].placeholderIndex==e[40])},i(w){u||(B(n.$$.fragment,w),u=!0)},o(w){S(n.$$.fragment,w),u=!1},d(w){w&&T(t),oe(n),g(),i=!1,h()}}}function it(s){let e,t,n,a=[],l=new Map,o,u,i,h=`<span class="button-icon svelte-n2wlg2" style="-webkit-mask: url(${$}/images/svg/plus.svg) no-repeat center / contain; mask: url(${$}/images/svg/plus.svg) no-repeat center / contain;"></span>`,p,d,c,f=`<span class="button-icon svelte-n2wlg2" style="-webkit-mask: url(${$}/images/svg/logout.svg) no-repeat center / contain; mask: url(${$}/images/svg/logout.svg) no-repeat center / contain;"></span>`,b,g,w,D,q,U,j,me,G=ye(s[9].tabs);const ue=L=>L[38];for(let L=0;L<G.length;L+=1){let k=Ae(s,G,L),C=ue(k);l.set(C,a[L]=Pe(C,k))}return w=new We({props:{title:s[4],active:!s[6],preventHover:!0}}),{c(){e=E("div"),t=E("div"),n=E("div");for(let L=0;L<a.length;L+=1)a[L].c();o=V(),u=E("div"),i=E("button"),i.innerHTML=h,p=V(),d=E("div"),c=E("button"),c.innerHTML=f,b=V(),g=E("div"),ae(w.$$.fragment),D=V(),q=E("div"),this.h()},l(L){e=I(L,"DIV",{});var k=A(e);t=I(k,"DIV",{class:!0});var C=A(t);n=I(C,"DIV",{class:!0});var be=A(n);for(let Z=0;Z<a.length;Z+=1)a[Z].l(be);be.forEach(T),o=R(C),u=I(C,"DIV",{class:!0});var _e=A(u);i=I(_e,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(i)!=="svelte-g0ls06"&&(i.innerHTML=h),_e.forEach(T),p=R(C),d=I(C,"DIV",{class:!0});var Y=A(d);c=I(Y,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(c)!=="svelte-1df52fh"&&(c.innerHTML=f),Y.forEach(T),b=R(C),g=I(C,"DIV",{class:!0});var Q=A(g);ie(w.$$.fragment,Q),Q.forEach(T),C.forEach(T),D=R(k),q=I(k,"DIV",{class:!0}),A(q).forEach(T),k.forEach(T),this.h()},h(){v(n,"class","tabs svelte-n2wlg2"),v(i,"class","button svelte-n2wlg2"),v(u,"class","new-tab-container svelte-n2wlg2"),v(c,"class","logout button svelte-n2wlg2"),v(d,"class","logout-container svelte-n2wlg2"),v(g,"class","clone svelte-n2wlg2"),F(g,"dragging",s[1]),v(t,"class","tabbar svelte-n2wlg2"),v(q,"class","separator svelte-n2wlg2")},m(L,k){N(L,e,k),y(e,t),y(t,n);for(let C=0;C<a.length;C+=1)a[C]&&a[C].m(n,null);s[19](n),y(t,o),y(t,u),y(u,i),y(t,p),y(t,d),y(d,c),y(t,b),y(t,g),re(w,g,null),s[20](g),y(e,D),y(e,q),s[21](e),U=!0,j||(me=[M(i,"click",s[10]),M(c,"click",function(){ve(s[0])&&s[0].apply(this,arguments)})],j=!0)},p(L,k){s=L,k[0]&27400&&(G=ye(s[9].tabs),Te(),a=Re(a,k,ue,1,s,G,l,n,Ue,Pe,null,Ae),Ee());const C={};k[0]&16&&(C.title=s[4]),k[0]&64&&(C.active=!s[6]),w.$set(C),(!U||k[0]&2)&&F(g,"dragging",s[1])},i(L){if(!U){for(let k=0;k<G.length;k+=1)B(a[k]);B(w.$$.fragment,L),U=!0}},o(L){for(let k=0;k<a.length;k+=1)S(a[k]);S(w.$$.fragment,L),U=!1},d(L){L&&T(e);for(let k=0;k<a.length;k+=1)a[k].d();s[19](null),oe(w),s[20](null),s[21](null),j=!1,Ce(me)}}}const rt=12,we=140,pe=70,ge=200,ot=1600,Me=.3;function ut(s,e,t){let n;ke(s,W,r=>t(9,n=r));let{logout:a=()=>{}}=e,l,o=[],u=0,i=null,h=-1,p="",d,c,f,b=!1,g=!1,w=0,D=0,q=0,U,j=!1;const me=(r,m=300)=>{let _;return(...H)=>{clearTimeout(_),_=setTimeout(()=>{r.apply(void 0,H)},m)}};function G(){O.newTab()}const ue=r=>{if(!o[r]){console.warn("Cannot close tab!");return}u=o[r].getBoundingClientRect().width,r<n.tabs.length-1&&(l.style.setProperty("--tab-max-width",`${u}px`),L()),r==n.tabs.length-1?O.setActiveIndex(r-1):r==n.activeIndex&&O.setActiveIndex(r+1),Le({duration:ge,easing:he,onStep:(m,_)=>{r==0?t(2,l.style.gridTemplateColumns=`minmax(${_*pe}px, ${_*u}px)`,l):t(2,l.style.gridTemplateColumns=`repeat(${r}, minmax(var(--tab-min-width), var(--tab-max-width))) minmax(${_*pe}px, ${_*u}px)`,l)},onEnd:()=>{t(2,l.style.gridTemplateColumns="",l),O.removeTab(r)}})},L=me(()=>{l&&(l.style.setProperty("--tab-max-width",`${we}px`),Le({duration:ge,easing:he,onStep:(r,m)=>{l.style.setProperty("--tab-max-width",`${u+r*(we-u)}px`)},onEnd:()=>{l.style.setProperty("--tab-max-width",`${we}px`)}}))},ot);function k(r){if(!l)return;const m=r.getBoundingClientRect().width;Le({duration:ge,easing:he,onStep:(_,H)=>{n.tabs.length==1?t(2,l.style.gridTemplateColumns=`minmax(${_*pe}px, ${_*m}px)`,l):t(2,l.style.gridTemplateColumns=`repeat(${n.tabs.length-1}, minmax(var(--tab-min-width), var(--tab-max-width))) minmax(${_*pe}px, ${_*m}px)`,l),t(2,l.scrollLeft=l.scrollWidth,l)},onEnd:()=>{t(2,l.style.gridTemplateColumns="",l)}})}const C=(r,m)=>{const _=o[0].getBoundingClientRect().width;O.moveTab(r,m,()=>{if(r>m)for(let H=m;H<r;H++)He(o[H],{duration:ge,easing:he,css:(ce,X)=>`transform: translateX(-${X*_}px);`});if(r<m)for(let H=m;H>r;H--)He(o[H],{duration:ge,easing:he,css:(ce,X)=>`transform: translateX(${X*_}px);`})})};function be(r){!r.target||!r.dataTransfer||(r.dataTransfer.setData("text/plain",h.toString()),r.dataTransfer.setDragImage(new Image,0,0))}function _e(r,m){if(r==0&&m==0){t(5,f.style.left="-1000px",f),t(5,f.style.top="-1000px",f);return}let _=U.getBoundingClientRect();if(r<_.left||r>_.right||m<_.top||m>_.bottom){g||(q=0),t(5,f.style.left=`${r+w}px`,f),t(5,f.style.top=`${m+D}px`,f),t(6,g=!0);return}g&&t(6,g=!1),t(5,f.style.left=`${r+w}px`,f),t(5,f.style.top=`${c.top}px`,f);const H=-l.scrollLeft,ce=o[0].getBoundingClientRect().width;let X=-1;if(r>H+n.tabs.length*ce)X=n.tabs.length-1;else for(let fe=0;fe<n.tabs.length;fe++)if(r>H+fe*ce&&r<H+(fe+1)*ce){X=fe;break}r<20?(q=-Me,requestAnimationFrame(Q)):r>l.clientWidth-10?(q=Me,requestAnimationFrame(Q)):q=0,!(X==-1||X==n.placeholderIndex)&&C(n.placeholderIndex,X)}let Y=0;function Q(r){if(!b||q==0){Y=0;return}Y==0&&(Y=r);const m=r-Y;Y=r,l.scrollBy({left:q*m}),requestAnimationFrame(Q)}function Z(r,m){if(!r.target)return;let _,H;r instanceof TouchEvent?(_=r.touches[0].clientX,H=r.touches[0].clientY):(_=r.clientX,H=r.clientY),window.addEventListener("touchmove",J,{passive:!1}),window.addEventListener("touchend",z),window.addEventListener("mousemove",J),window.addEventListener("mouseup",z),window.addEventListener("drag",J),window.addEventListener("dragend",z),window.addEventListener("blur",z),O.setActiveIndex(m),d=r.target,c=d.getBoundingClientRect(),i=[_,H],w=c.left-_,D=c.top-H,t(5,f.style.width=`${c.width}px`,f),t(5,f.style.left=`${c.left}px`,f),t(5,f.style.top=`${c.top}px`,f),h=m,t(4,p=n.tabs[m].title)}function J(r){let m,_;if(r instanceof TouchEvent?(m=r.touches[0].clientX,_=r.touches[0].clientY,r.preventDefault()):(m=r.clientX,_=r.clientY),b){_e(m,_);return}i===null||Math.hypot(i[0]-m,i[1]-_)<rt||(t(1,b=!0),O.setPlaceholderIndex(h),O.setActiveIndex(h))}function z(){window.removeEventListener("touchmove",J),window.removeEventListener("touchend",z),window.removeEventListener("mousemove",J),window.removeEventListener("mouseup",z),window.removeEventListener("drag",J),window.removeEventListener("dragend",z),window.removeEventListener("blur",z),i=null,t(6,g=!1),h=-1,w=0,D=0,O.setPlaceholderIndex(),t(1,b=!1)}De(()=>{l.style.setProperty("--tab-max-width",`${we}px`),l.style.setProperty("--tab-min-width",`${pe}px`)});const Fe=r=>ue(r),Xe=(r,m)=>Z(m,r);function Ye(r,m){s.$$.not_equal(n.tabs[m].title,r)&&(n.tabs[m].title=r,W.set(n))}function ze(r,m){K[r?"unshift":"push"](()=>{o[m]=r,t(3,o)})}function je(r){K[r?"unshift":"push"](()=>{l=r,t(2,l)})}function Ge(r){K[r?"unshift":"push"](()=>{f=r,t(5,f)})}function Ke(r){K[r?"unshift":"push"](()=>{U=r,t(7,U)})}return s.$$set=r=>{"logout"in r&&t(0,a=r.logout)},s.$$.update=()=>{s.$$.dirty[0]&2&&(b?t(8,j=!0):setTimeout(()=>t(8,j=!1),20))},[a,b,l,o,p,f,g,U,j,n,G,ue,k,be,Z,Fe,Xe,Ye,ze,je,Ge,Ke]}class ct extends se{constructor(e){super(),le(this,e,ut,it,ne,{logout:0},null,[-1,-1])}}function ft(s){let e,t;return{c(){e=E("div"),t=E("div"),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=A(e);t=I(a,"DIV",{class:!0}),A(t).forEach(T),a.forEach(T),this.h()},h(){v(t,"class","quill-editor svelte-1kerahx"),v(e,"class","quill-editor-wrapper svelte-1kerahx"),F(e,"disabled",s[0])},m(n,a){N(n,e,a),y(e,t),s[3](t)},p(n,[a]){a&1&&F(e,"disabled",n[0])},i:P,o:P,d(n){n&&T(e),s[3](null)}}}function dt(s,e,t){let n;ke(s,W,c=>t(4,n=c));let{disabled:a=!1}=e,l,o;function u(){l&&l.setContents(n.tabs[n.activeIndex].ops)}function i(){l&&Je(W,n.tabs[n.activeIndex].ops=l.getContents().ops,n)}function h(c,f,b){b==="user"&&i()}async function p(){const{default:c}=await tt(()=>import("../chunks/quill.BqYzQad1.js"),[],import.meta.url);t(2,l=new c(o,{formats:["bold","italic","underline","strike","code"],placeholder:"Enter text here"})),u(),l.on("text-change",h),l.keyboard.addBinding({key:"/",altKey:!0},()=>{l.format("code",!l.getFormat().code)}),l.keyboard.addBinding({key:"-",altKey:!0},()=>{l.format("strike",!l.getFormat().strike)})}De(()=>{p()});function d(c){K[c?"unshift":"push"](()=>{o=c,t(1,o)})}return s.$$set=c=>{"disabled"in c&&t(0,a=c.disabled)},s.$$.update=()=>{s.$$.dirty&5&&(a?l==null||l.disable():l==null||l.enable())},[a,o,l,d]}class ht extends se{constructor(e){super(),le(this,e,dt,ft,ne,{disabled:0})}}function Be(s){let e,t="Wrong password!";return{c(){e=E("b"),e.textContent=t,this.h()},l(n){e=I(n,"B",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1rh5isq"&&(e.textContent=t),this.h()},h(){v(e,"class","error svelte-gqaqy8")},m(n,a){N(n,e,a)},d(n){n&&T(e)}}}function pt(s){let e,t,n,a,l,o,u,i,h,p,d=s[2]&&Be();return{c(){e=E("div"),t=E("form"),n=E("input"),a=V(),l=E("input"),o=V(),d&&d.c(),u=V(),i=E("input"),this.h()},l(c){e=I(c,"DIV",{class:!0});var f=A(e);t=I(f,"FORM",{class:!0});var b=A(t);n=I(b,"INPUT",{class:!0,type:!0,placeholder:!0}),a=R(b),l=I(b,"INPUT",{class:!0,type:!0,placeholder:!0}),o=R(b),d&&d.l(b),u=R(b),i=I(b,"INPUT",{type:!0,class:!0}),b.forEach(T),f.forEach(T),this.h()},h(){v(n,"class","email svelte-gqaqy8"),v(n,"type","email"),v(n,"placeholder","Email"),n.required=!0,v(l,"class","password svelte-gqaqy8"),v(l,"type","password"),v(l,"placeholder","Password"),l.required=!0,v(i,"type","submit"),i.value="Login",v(i,"class","btn svelte-gqaqy8"),v(t,"class","form svelte-gqaqy8"),v(e,"class","form-container svelte-gqaqy8")},m(c,f){N(c,e,f),y(e,t),y(t,n),x(n,s[0]),y(t,a),y(t,l),x(l,s[1]),y(t,o),d&&d.m(t,null),y(t,u),y(t,i),h||(p=[M(n,"input",s[4]),M(l,"input",s[5]),M(t,"submit",s[3])],h=!0)},p(c,[f]){f&1&&n.value!==c[0]&&x(n,c[0]),f&2&&l.value!==c[1]&&x(l,c[1]),c[2]?d||(d=Be(),d.c(),d.m(t,u)):d&&(d.d(1),d=null)},i:P,o:P,d(c){c&&T(e),d&&d.d(),h=!1,Ce(p)}}}function gt(s,e,t){let n="",a="",l=!1;async function o(){try{t(2,l=!1),await Oe.login(n,a)}catch{console.log("Login failed!"),t(2,l=!0)}}function u(){n=this.value,t(0,n)}function i(){a=this.value,t(1,a)}return[n,a,l,o,u,i]}class vt extends se{constructor(e){super(),le(this,e,gt,pt,ne,{})}}function mt(s){let e,t='<span class="spinner svelte-1qqzqd5"></span>';return{c(){e=E("div"),e.innerHTML=t,this.h()},l(n){e=I(n,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1ofjtkb"&&(e.innerHTML=t),this.h()},h(){v(e,"class","spinner-container svelte-1qqzqd5")},m(n,a){N(n,e,a)},p:P,i:P,o:P,d(n){n&&T(e)}}}class bt extends se{constructor(e){super(),le(this,e,null,mt,ne,{})}}function Se(s,e,t){const n=s.slice();return n[7]=e[t],n[9]=t,n}function _t(s){let e,t;return e=new vt({}),{c(){ae(e.$$.fragment)},l(n){ie(e.$$.fragment,n)},m(n,a){re(e,n,a),t=!0},p:P,i(n){t||(B(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){oe(e,n)}}}function wt(s){let e,t;return e=new bt({}),{c(){ae(e.$$.fragment)},l(n){ie(e.$$.fragment,n)},m(n,a){re(e,n,a),t=!0},p:P,i(n){t||(B(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){oe(e,n)}}}function kt(s){let e,t,n,a,l,o;t=new ct({props:{logout:Oe.logout}});const u=[Tt,yt],i=[];function h(p,d){return p[1].tabs.length>0?0:1}return a=h(s),l=i[a]=u[a](s),{c(){e=E("div"),ae(t.$$.fragment),n=V(),l.c(),this.h()},l(p){e=I(p,"DIV",{class:!0});var d=A(e);ie(t.$$.fragment,d),n=R(d),l.l(d),d.forEach(T),this.h()},h(){v(e,"class","container svelte-fhhrsl")},m(p,d){N(p,e,d),re(t,e,null),y(e,n),i[a].m(e,null),o=!0},p(p,d){let c=a;a=h(p),a===c?i[a].p(p,d):(Te(),S(i[c],1,1,()=>{i[c]=null}),Ee(),l=i[a],l?l.p(p,d):(l=i[a]=u[a](p),l.c()),B(l,1),l.m(e,null))},i(p){o||(B(t.$$.fragment,p),B(l),o=!0)},o(p){S(t.$$.fragment,p),S(l),o=!1},d(p){p&&T(e),oe(t),i[a].d()}}}function yt(s){let e;return{c(){e=E("div"),this.h()},l(t){e=I(t,"DIV",{class:!0}),A(e).forEach(T),this.h()},h(){v(e,"class","editor-placeholder svelte-fhhrsl")},m(t,n){N(t,e,n)},p:P,i:P,o:P,d(t){t&&T(e)}}}function Tt(s){let e=[],t=new Map,n,a,l=ye(s[1].tabs);const o=u=>u[7];for(let u=0;u<l.length;u+=1){let i=Se(s,l,u),h=o(i);t.set(h,e[u]=Ne(h,i))}return{c(){for(let u=0;u<e.length;u+=1)e[u].c();n=te()},l(u){for(let i=0;i<e.length;i+=1)e[i].l(u);n=te()},m(u,i){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(u,i);N(u,n,i),a=!0},p(u,i){i&2&&(l=ye(u[1].tabs),Te(),e=Re(e,i,o,1,u,l,t,n.parentNode,Ue,Ne,n,Se),Ee())},i(u){if(!a){for(let i=0;i<l.length;i+=1)B(e[i]);a=!0}},o(u){for(let i=0;i<e.length;i+=1)S(e[i]);a=!1},d(u){u&&T(n);for(let i=0;i<e.length;i+=1)e[i].d(u)}}}function Ne(s,e){let t,n,a;return n=new ht({props:{disabled:e[9]!==e[1].activeIndex}}),{key:s,first:null,c(){t=te(),ae(n.$$.fragment),this.h()},l(l){t=te(),ie(n.$$.fragment,l),this.h()},h(){this.first=t},m(l,o){N(l,t,o),re(n,l,o),a=!0},p(l,o){e=l;const u={};o&2&&(u.disabled=e[9]!==e[1].activeIndex),n.$set(u)},i(l){a||(B(n.$$.fragment,l),a=!0)},o(l){S(n.$$.fragment,l),a=!1},d(l){l&&T(t),oe(n,l)}}}function Et(s){let e,t,n,a;const l=[kt,wt,_t],o=[];function u(i,h){return i[0].currentUser?0:i[0].isLoading?1:2}return e=u(s),t=o[e]=l[e](s),{c(){t.c(),n=te()},l(i){t.l(i),n=te()},m(i,h){o[e].m(i,h),N(i,n,h),a=!0},p(i,[h]){let p=e;e=u(i),e===p?o[e].p(i,h):(Te(),S(o[p],1,1,()=>{o[p]=null}),Ee(),t=o[e],t?t.p(i,h):(t=o[e]=l[e](i),t.c()),B(t,1),t.m(n.parentNode,n))},i(i){a||(B(t),a=!0)},o(i){S(t),a=!1},d(i){i&&T(n),o[e].d(i)}}}function It(s,e,t){let n,a;ke(s,qe,o=>t(0,n=o)),ke(s,W,o=>t(1,a=o)),qe.subscribe(o=>{o.currentUser&&o.currentUser,o.data&&o.data});function l(){O.newTab({data:{id:-1,title:"Hello 👋",ops:[{insert:"Welcome to Not Notepad 🎉"}]}})}return De(()=>{l()}),[n,a]}class Mt extends se{constructor(e){super(),le(this,e,It,Et,ne,{})}}export{Mt as component};
