import{s as ae,n as X,r as Pe,i as me,x as je,b as J,c as _e,o as Ve,y as Qe,z as ze,A as Ge}from"../chunks/scheduler.cfeIpFhx.js";import{S as we,i as Te,e as L,s as F,c as S,d as M,v as le,h as W,g as E,w,y as H,j as Y,k as y,C as Ee,z as q,F as ve,G as Ie,I as Je,p as ie,q as oe,r as ue,o as ce,n as fe,a as B,t as P,u as de,J as Ke,m as Z,A as Ze}from"../chunks/index.CYgsW0Pc.js";import{e as ke,u as xe,o as $e}from"../chunks/each.Dy4BqcP7.js";import{b as U}from"../chunks/paths.C34Vadu8.js";import{a as x,t as O}from"../chunks/tabsStore.DRX0qT0K.js";import{g as et}from"../chunks/entry.B6pO5MCG.js";import{_ as tt}from"../chunks/preload-helper.D6kgxu3v.js";import{S as nt}from"../chunks/Spinner.D1SjQTEs.js";import{a as De,f as st}from"../chunks/firebaseStore.DyXcdWP_.js";function rt(r){let t,e,s="",n,l,a,u,i,g=`<span class="close-icon svelte-1llhxt2" style="-webkit-mask: url(${U}/images/svg/cancel.svg) no-repeat center / contain; mask: url(${U}/images/svg/cancel.svg) no-repeat center / contain;"></span>`,v,p;return{c(){t=L("div"),e=L("button"),e.innerHTML=s,n=F(),l=L("div"),a=L("input"),u=F(),i=L("button"),i.innerHTML=g,this.h()},l(c){t=S(c,"DIV",{class:!0});var d=M(t);e=S(d,"BUTTON",{class:!0,draggable:!0,"data-svelte-h":!0}),le(e)!=="svelte-1m2idpq"&&(e.innerHTML=s),n=W(d),l=S(d,"DIV",{class:!0});var f=M(l);a=S(f,"INPUT",{autocorrect:!0,autocomplete:!0,spellcheck:!0,type:!0,class:!0}),u=W(f),i=S(f,"BUTTON",{class:!0,draggable:!0,"data-svelte-h":!0}),le(i)!=="svelte-97uq8h"&&(i.innerHTML=g),f.forEach(E),d.forEach(E),this.h()},h(){w(e,"class","tab svelte-1llhxt2"),w(e,"draggable","true"),H(e,"active",r[1]),w(a,"autocorrect","off"),w(a,"autocomplete","off"),w(a,"spellcheck","false"),w(a,"type","text"),w(a,"class","svelte-1llhxt2"),w(i,"class","close-button svelte-1llhxt2"),w(i,"draggable","true"),w(l,"class","tab-wrapper svelte-1llhxt2"),w(t,"class","container svelte-1llhxt2"),H(t,"preventHover",r[2])},m(c,d){Y(c,t,d),y(t,e),y(t,n),y(t,l),y(l,a),r[9](a),Ee(a,r[0]),y(l,u),y(l,i),v||(p=[q(e,"dblclick",ve(r[8])),q(e,"mousedown",ve(function(){me(r[4])&&r[4].apply(this,arguments)})),q(e,"touchstart",ve(function(){me(r[4])&&r[4].apply(this,arguments)})),q(e,"dragstart",ve(function(){me(r[5])&&r[5].apply(this,arguments)})),q(a,"input",r[10]),q(i,"click",Ie(function(){me(r[3])&&r[3].apply(this,arguments)})),q(i,"dragstart",Ie(Je(r[7])))],v=!0)},p(c,[d]){r=c,d&2&&H(e,"active",r[1]),d&1&&a.value!==r[0]&&Ee(a,r[0]),d&4&&H(t,"preventHover",r[2])},i:X,o:X,d(c){c&&E(t),r[9](null),v=!1,Pe(p)}}}function lt(r,t,e){let{title:s=""}=t,{active:n=!1}=t,{preventHover:l=!1}=t,{onClose:a=()=>{}}=t,{onPointerdown:u=f=>{}}=t,{onDragstart:i=f=>{}}=t,g;function v(f){je.call(this,r,f)}const p=()=>g.select();function c(f){J[f?"unshift":"push"](()=>{g=f,e(6,g)})}function d(){s=this.value,e(0,s)}return r.$$set=f=>{"title"in f&&e(0,s=f.title),"active"in f&&e(1,n=f.active),"preventHover"in f&&e(2,l=f.preventHover),"onClose"in f&&e(3,a=f.onClose),"onPointerdown"in f&&e(4,u=f.onPointerdown),"onDragstart"in f&&e(5,i=f.onDragstart)},[s,n,l,a,u,i,g,v,p,c,d]}class Ne extends we{constructor(t){super(),Te(this,t,lt,rt,ae,{title:0,active:1,preventHover:2,onClose:3,onPointerdown:4,onDragstart:5})}}function G(r){return r<.5?4*r*r*r:.5*Math.pow(2*r-2,3)+1}const Ce=(r,t)=>{const{duration:e=300,easing:s=G,onEnd:n=()=>{},onStep:l=()=>{},css:a}=t;let u;function i(g){if(!r){console.warn("Cannot find element to animate");return}u===void 0&&(u=g);const v=s((g-u)/e),p=1-v;v<1?(r.style.cssText=a(v,p),l(v,p),requestAnimationFrame(i)):(r.style.cssText="",n())}requestAnimationFrame(i)},ye=r=>{const{duration:t=300,easing:e=G,onEnd:s=()=>{},onStep:n=()=>{}}=r;let l;function a(u){l===void 0&&(l=u);const i=e((u-l)/t),g=1-i;i<1?(n(i,g),requestAnimationFrame(a)):s()}requestAnimationFrame(a)};function Le(r,t,e){const s=r.slice();return s[38]=t[e],s[39]=t,s[40]=e,s}function Se(r,t){let e,s,n,l,a=t[40],u,i,g;function v(){return t[14](t[40])}function p(..._){return t[15](t[40],..._)}function c(_){t[16](_,t[40])}let d={active:t[8].activeIndex==t[40],preventHover:t[7],onClose:v,onPointerdown:p,onDragstart:t[12]};t[8].tabs[t[40]].title!==void 0&&(d.title=t[8].tabs[t[40]].title),s=new Ne({props:d}),J.push(()=>Ke(s,"title",c));const f=()=>t[17](e,a),D=()=>t[17](null,a);return{key:r,first:null,c(){e=L("div"),ie(s.$$.fragment),l=F(),this.h()},l(_){e=S(_,"DIV",{class:!0});var T=M(e);oe(s.$$.fragment,T),l=W(T),T.forEach(E),this.h()},h(){w(e,"class","tab-container svelte-1is7u8k"),H(e,"placeholder",t[8].placeholderIndex==t[40]),this.first=e},m(_,T){Y(_,e,T),ue(s,e,null),y(e,l),f(),u=!0,i||(g=Qe(t[11].call(null,e)),i=!0)},p(_,T){t=_;const A={};T[0]&256&&(A.active=t[8].activeIndex==t[40]),T[0]&128&&(A.preventHover=t[7]),T[0]&256&&(A.onClose=v),T[0]&256&&(A.onPointerdown=p),!n&&T[0]&256&&(n=!0,A.title=t[8].tabs[t[40]].title,ze(()=>n=!1)),s.$set(A),a!==t[40]&&(D(),a=t[40],f()),(!u||T[0]&256)&&H(e,"placeholder",t[8].placeholderIndex==t[40])},i(_){u||(B(s.$$.fragment,_),u=!0)},o(_){P(s.$$.fragment,_),u=!1},d(_){_&&E(e),de(s),D(),i=!1,g()}}}function at(r){let t,e,s,n=[],l=new Map,a,u,i,g=`<span class="button-icon svelte-1is7u8k" style="-webkit-mask: url(${U}/images/svg/plus.svg) no-repeat center / contain; mask: url(${U}/images/svg/plus.svg) no-repeat center / contain;"></span>`,v,p,c,d=`<span class="button-icon svelte-1is7u8k" style="-webkit-mask: url(${U}/images/svg/gear.svg) no-repeat center / contain; mask: url(${U}/images/svg/gear.svg) no-repeat center / contain;"></span>`,f,D,_,T,A,N,$,ge,j=ke(r[8].tabs);const pe=k=>k[38];for(let k=0;k<j.length;k+=1){let b=Le(r,j,k),I=pe(b);l.set(I,n[k]=Se(I,b))}return _=new Ne({props:{title:r[3],active:!r[5],preventHover:!0}}),{c(){t=L("div"),e=L("div"),s=L("div");for(let k=0;k<n.length;k+=1)n[k].c();a=F(),u=L("div"),i=L("button"),i.innerHTML=g,v=F(),p=L("div"),c=L("button"),c.innerHTML=d,f=F(),D=L("div"),ie(_.$$.fragment),T=F(),A=L("div"),this.h()},l(k){t=S(k,"DIV",{class:!0});var b=M(t);e=S(b,"DIV",{class:!0});var I=M(e);s=S(I,"DIV",{class:!0});var he=M(s);for(let V=0;V<n.length;V+=1)n[V].l(he);he.forEach(E),a=W(I),u=S(I,"DIV",{class:!0});var Q=M(u);i=S(Q,"BUTTON",{class:!0,"data-svelte-h":!0}),le(i)!=="svelte-g0ls06"&&(i.innerHTML=g),Q.forEach(E),v=W(I),p=S(I,"DIV",{class:!0});var K=M(p);c=S(K,"BUTTON",{class:!0,"data-svelte-h":!0}),le(c)!=="svelte-1yu8fv7"&&(c.innerHTML=d),K.forEach(E),f=W(I),D=S(I,"DIV",{class:!0});var ee=M(D);oe(_.$$.fragment,ee),ee.forEach(E),I.forEach(E),T=W(b),A=S(b,"DIV",{class:!0}),M(A).forEach(E),b.forEach(E),this.h()},h(){w(s,"class","tabs svelte-1is7u8k"),w(i,"class","button svelte-1is7u8k"),w(u,"class","new-tab-container svelte-1is7u8k"),w(c,"class","logout button svelte-1is7u8k"),w(p,"class","logout-container svelte-1is7u8k"),w(D,"class","clone svelte-1is7u8k"),H(D,"dragging",r[0]),w(e,"class","tabbar svelte-1is7u8k"),w(A,"class","separator svelte-1is7u8k"),w(t,"class","svelte-1is7u8k")},m(k,b){Y(k,t,b),y(t,e),y(e,s);for(let I=0;I<n.length;I+=1)n[I]&&n[I].m(s,null);r[18](s),y(e,a),y(e,u),y(u,i),y(e,v),y(e,p),y(p,c),y(e,f),y(e,D),ue(_,D,null),r[20](D),y(t,T),y(t,A),r[21](t),N=!0,$||(ge=[q(i,"click",r[9]),q(c,"click",r[19])],$=!0)},p(k,b){b[0]&13700&&(j=ke(k[8].tabs),ce(),n=xe(n,b,pe,1,k,j,l,s,$e,Se,null,Le),fe());const I={};b[0]&8&&(I.title=k[3]),b[0]&32&&(I.active=!k[5]),_.$set(I),(!N||b[0]&1)&&H(D,"dragging",k[0])},i(k){if(!N){for(let b=0;b<j.length;b+=1)B(n[b]);B(_.$$.fragment,k),N=!0}},o(k){for(let b=0;b<n.length;b+=1)P(n[b]);P(_.$$.fragment,k),N=!1},d(k){k&&E(t);for(let b=0;b<n.length;b+=1)n[b].d();r[18](null),de(_),r[20](null),r[21](null),$=!1,Pe(ge)}}}const it=12,be=140,se=70,re=200,ot=1600,Ae=.3;function ut(r,t,e){let s;_e(r,x,o=>e(8,s=o));let n,l=[],a=0,u=null,i=-1,g="",v,p,c,d=!1,f=!1,D=0,_=0,T=0,A,N=!1;const $=(o,h=300)=>{let m;return(...C)=>{clearTimeout(m),m=setTimeout(()=>{o.apply(this,C)},h)}};function ge(){O.newTab()}const j=o=>{if(!l[o]){console.warn("Cannot close tab!");return}a=l[o].getBoundingClientRect().width,o<s.tabs.length-1&&(n.style.setProperty("--tab-max-width",`${a}px`),pe()),o==s.tabs.length-1?O.setActiveIndex(o-1):o==s.activeIndex&&O.setActiveIndex(o+1),ye({duration:re,easing:G,onStep:(h,m)=>{o==0?e(1,n.style.gridTemplateColumns=`minmax(${m*se}px, ${m*a}px)`,n):e(1,n.style.gridTemplateColumns=`repeat(${o}, minmax(var(--tab-min-width), var(--tab-max-width))) minmax(${m*se}px, ${m*a}px)`,n)},onEnd:()=>{e(1,n.style.gridTemplateColumns="",n),O.removeTab(o)}})},pe=$(()=>{n&&(n.style.setProperty("--tab-max-width",`${be}px`),ye({duration:re,easing:G,onStep:(o,h)=>{n.style.setProperty("--tab-max-width",`${a+o*(be-a)}px`)},onEnd:()=>{n.style.setProperty("--tab-max-width",`${be}px`)}}))},ot);function k(o){if(!n)return;const h=o.getBoundingClientRect().width;ye({duration:re,easing:G,onStep:(m,C)=>{s.tabs.length==1?e(1,n.style.gridTemplateColumns=`minmax(${m*se}px, ${m*h}px)`,n):e(1,n.style.gridTemplateColumns=`repeat(${s.tabs.length-1}, minmax(var(--tab-min-width), var(--tab-max-width))) minmax(${m*se}px, ${m*h}px)`,n),e(1,n.scrollLeft=n.scrollWidth,n)},onEnd:()=>{e(1,n.style.gridTemplateColumns="",n)}})}const b=(o,h)=>{const m=l[0].getBoundingClientRect().width;O.moveTab(o,h,()=>{if(o>h)for(let C=h;C<o;C++)Ce(l[C],{duration:re,easing:G,css:(te,R)=>`transform: translateX(-${R*m}px);`});if(o<h)for(let C=h;C>o;C--)Ce(l[C],{duration:re,easing:G,css:(te,R)=>`transform: translateX(${R*m}px);`})})};function I(o){!o.target||!o.dataTransfer||(o.dataTransfer.setData("text/plain",i.toString()),o.dataTransfer.setDragImage(new Image,0,0))}function he(o,h){if(o==0&&h==0){e(4,c.style.left="-1000px",c),e(4,c.style.top="-1000px",c);return}let m=A.getBoundingClientRect();if(o<m.left||o>m.right||h<m.top||h>m.bottom){f||(T=0),e(4,c.style.left=`${o+D}px`,c),e(4,c.style.top=`${h+_}px`,c),e(5,f=!0);return}f&&e(5,f=!1),e(4,c.style.left=`${o+D}px`,c),e(4,c.style.top=`${p.top}px`,c);const C=-n.scrollLeft,te=l[0].getBoundingClientRect().width;let R=-1;if(o>C+s.tabs.length*te)R=s.tabs.length-1;else for(let ne=0;ne<s.tabs.length;ne++)if(o>C+ne*te&&o<C+(ne+1)*te){R=ne;break}o<20?(T=-Ae,requestAnimationFrame(K)):o>n.clientWidth-10?(T=Ae,requestAnimationFrame(K)):T=0,!(R==-1||R==s.placeholderIndex)&&b(s.placeholderIndex,R)}let Q=0;function K(o){if(!d||T==0){Q=0;return}Q==0&&(Q=o);const h=o-Q;Q=o,n.scrollBy({left:T*h}),requestAnimationFrame(K)}function ee(o,h){if(!o.target)return;let m,C;o instanceof TouchEvent?(m=o.touches[0].clientX,C=o.touches[0].clientY):(m=o.clientX,C=o.clientY),window.addEventListener("touchmove",V,{passive:!1}),window.addEventListener("touchend",z),window.addEventListener("mousemove",V),window.addEventListener("mouseup",z),window.addEventListener("drag",V),window.addEventListener("dragend",z),window.addEventListener("blur",z),O.setActiveIndex(h),v=o.target,p=v.getBoundingClientRect(),u=[m,C],D=p.left-m,_=p.top-C,e(4,c.style.width=`${p.width}px`,c),e(4,c.style.left=`${p.left}px`,c),e(4,c.style.top=`${p.top}px`,c),i=h,e(3,g=s.tabs[h].title)}function V(o){let h,m;if(o instanceof TouchEvent?(h=o.touches[0].clientX,m=o.touches[0].clientY,o.preventDefault()):(h=o.clientX,m=o.clientY),d){he(h,m);return}u===null||Math.hypot(u[0]-h,u[1]-m)<it||(e(0,d=!0),O.setPlaceholderIndex(i),O.setActiveIndex(i))}function z(){window.removeEventListener("touchmove",V),window.removeEventListener("touchend",z),window.removeEventListener("mousemove",V),window.removeEventListener("mouseup",z),window.removeEventListener("drag",V),window.removeEventListener("dragend",z),window.removeEventListener("blur",z),u=null,e(5,f=!1),i=-1,D=0,_=0,O.setPlaceholderIndex(),e(0,d=!1)}Ve(()=>{n.style.setProperty("--tab-max-width",`${be}px`),n.style.setProperty("--tab-min-width",`${se}px`)});const Re=o=>j(o),Oe=(o,h)=>ee(h,o);function qe(o,h){r.$$.not_equal(s.tabs[h].title,o)&&(s.tabs[h].title=o,x.set(s))}function Fe(o,h){J[o?"unshift":"push"](()=>{l[h]=o,e(2,l)})}function We(o){J[o?"unshift":"push"](()=>{n=o,e(1,n)})}const Ue=()=>et(U+"/settings");function Xe(o){J[o?"unshift":"push"](()=>{c=o,e(4,c)})}function Ye(o){J[o?"unshift":"push"](()=>{A=o,e(6,A)})}return r.$$.update=()=>{r.$$.dirty[0]&1&&(d?e(7,N=!0):setTimeout(()=>e(7,N=!1),20))},[d,n,l,g,c,f,A,N,s,ge,j,k,I,ee,Re,Oe,qe,Fe,We,Ue,Xe,Ye]}class ct extends we{constructor(t){super(),Te(this,t,ut,at,ae,{},null,[-1,-1])}}function ft(r){let t,e;return{c(){t=L("div"),e=L("div"),this.h()},l(s){t=S(s,"DIV",{class:!0});var n=M(t);e=S(n,"DIV",{class:!0}),M(e).forEach(E),n.forEach(E),this.h()},h(){w(e,"class","quill-editor svelte-1kerahx"),w(t,"class","quill-editor-wrapper svelte-1kerahx"),H(t,"disabled",r[0])},m(s,n){Y(s,t,n),y(t,e),r[3](e)},p(s,[n]){n&1&&H(t,"disabled",s[0])},i:X,o:X,d(s){s&&E(t),r[3](null)}}}function dt(r,t,e){let s;_e(r,x,c=>e(4,s=c));let{disabled:n=!1}=t,l,a;function u(){l&&l.setContents(s.tabs[s.activeIndex].ops)}function i(){l&&Ge(x,s.tabs[s.activeIndex].ops=l.getContents().ops,s)}function g(c,d,f){f==="user"&&i()}async function v(){const{default:c}=await tt(async()=>{const{default:d}=await import("../chunks/quill.k3P2vbB8.js");return{default:d}},[],import.meta.url);e(2,l=new c(a,{formats:["bold","italic","underline","strike","code"],placeholder:"Enter text here"})),u(),l.on("text-change",g),l.keyboard.addBinding({key:"/",altKey:!0},()=>{l.format("code",!l.getFormat().code)}),l.keyboard.addBinding({key:"-",altKey:!0},()=>{l.format("strike",!l.getFormat().strike)})}Ve(()=>{v()});function p(c){J[c?"unshift":"push"](()=>{a=c,e(1,a)})}return r.$$set=c=>{"disabled"in c&&e(0,n=c.disabled)},r.$$.update=()=>{r.$$.dirty&5&&(n?l==null||l.disable():l==null||l.enable())},[n,a,l,p]}class gt extends we{constructor(t){super(),Te(this,t,dt,ft,ae,{disabled:0})}}function He(r,t,e){const s=r.slice();return s[2]=t[e],s[4]=e,s}function pt(r){let t,e;return t=new nt({}),{c(){ie(t.$$.fragment)},l(s){oe(t.$$.fragment,s)},m(s,n){ue(t,s,n),e=!0},p:X,i(s){e||(B(t.$$.fragment,s),e=!0)},o(s){P(t.$$.fragment,s),e=!1},d(s){de(t,s)}}}function ht(r){let t,e,s,n,l,a,u,i=`<span class="status-icon svelte-1aolk3j" style="-webkit-mask: url(${U}/images/svg/double-checkmark.svg) no-repeat center / contain; mask: url(${U}/images/svg/double-checkmark.svg) no-repeat center / contain;"></span>`,g;e=new ct({});const v=[vt,mt],p=[];function c(d,f){return d[0].tabs.length>0?0:1}return n=c(r),l=p[n]=v[n](r),{c(){t=L("div"),ie(e.$$.fragment),s=F(),l.c(),a=F(),u=L("div"),u.innerHTML=i,this.h()},l(d){t=S(d,"DIV",{class:!0});var f=M(t);oe(e.$$.fragment,f),s=W(f),l.l(f),a=W(f),u=S(f,"DIV",{class:!0,"data-svelte-h":!0}),le(u)!=="svelte-1suu8lh"&&(u.innerHTML=i),f.forEach(E),this.h()},h(){w(u,"class","status svelte-1aolk3j"),H(u,"saving",r[1].savingStatus==="saving"),H(u,"saved",r[1].savingStatus==="saved"),H(u,"error",r[1].savingStatus==="error"),w(t,"class","container svelte-1aolk3j")},m(d,f){Y(d,t,f),ue(e,t,null),y(t,s),p[n].m(t,null),y(t,a),y(t,u),g=!0},p(d,f){let D=n;n=c(d),n===D?p[n].p(d,f):(ce(),P(p[D],1,1,()=>{p[D]=null}),fe(),l=p[n],l?l.p(d,f):(l=p[n]=v[n](d),l.c()),B(l,1),l.m(t,a)),(!g||f&2)&&H(u,"saving",d[1].savingStatus==="saving"),(!g||f&2)&&H(u,"saved",d[1].savingStatus==="saved"),(!g||f&2)&&H(u,"error",d[1].savingStatus==="error")},i(d){g||(B(e.$$.fragment,d),B(l),g=!0)},o(d){P(e.$$.fragment,d),P(l),g=!1},d(d){d&&E(t),de(e),p[n].d()}}}function mt(r){let t;return{c(){t=L("div"),this.h()},l(e){t=S(e,"DIV",{class:!0}),M(t).forEach(E),this.h()},h(){w(t,"class","editor-placeholder svelte-1aolk3j")},m(e,s){Y(e,t,s)},p:X,i:X,o:X,d(e){e&&E(t)}}}function vt(r){let t=r[0].activeIndex,e,s,n=Me(r);return{c(){n.c(),e=Z()},l(l){n.l(l),e=Z()},m(l,a){n.m(l,a),Y(l,e,a),s=!0},p(l,a){a&1&&ae(t,t=l[0].activeIndex)?(ce(),P(n,1,1,X),fe(),n=Me(l),n.c(),B(n,1),n.m(e.parentNode,e)):n.p(l,a)},i(l){s||(B(n),s=!0)},o(l){P(n),s=!1},d(l){l&&E(e),n.d(l)}}}function Be(r){let t,e;return t=new gt({props:{disabled:r[4]!==r[0].activeIndex}}),{c(){ie(t.$$.fragment)},l(s){oe(t.$$.fragment,s)},m(s,n){ue(t,s,n),e=!0},p(s,n){const l={};n&1&&(l.disabled=s[4]!==s[0].activeIndex),t.$set(l)},i(s){e||(B(t.$$.fragment,s),e=!0)},o(s){P(t.$$.fragment,s),e=!1},d(s){de(t,s)}}}function Me(r){let t,e,s=ke(r[0].tabs),n=[];for(let a=0;a<s.length;a+=1)n[a]=Be(He(r,s,a));const l=a=>P(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=Z()},l(a){for(let u=0;u<n.length;u+=1)n[u].l(a);t=Z()},m(a,u){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(a,u);Y(a,t,u),e=!0},p(a,u){if(u&1){s=ke(a[0].tabs);let i;for(i=0;i<s.length;i+=1){const g=He(a,s,i);n[i]?(n[i].p(g,u),B(n[i],1)):(n[i]=Be(g),n[i].c(),B(n[i],1),n[i].m(t.parentNode,t))}for(ce(),i=s.length;i<n.length;i+=1)l(i);fe()}},i(a){if(!e){for(let u=0;u<s.length;u+=1)B(n[u]);e=!0}},o(a){n=n.filter(Boolean);for(let u=0;u<n.length;u+=1)P(n[u]);e=!1},d(a){a&&E(t),Ze(n,a)}}}function bt(r){let t,e,s,n;const l=[ht,pt],a=[];function u(i,g){return i[1].currentUser?0:1}return t=u(r),e=a[t]=l[t](r),{c(){e.c(),s=Z()},l(i){e.l(i),s=Z()},m(i,g){a[t].m(i,g),Y(i,s,g),n=!0},p(i,[g]){let v=t;t=u(i),t===v?a[t].p(i,g):(ce(),P(a[v],1,1,()=>{a[v]=null}),fe(),e=a[t],e?e.p(i,g):(e=a[t]=l[t](i),e.c()),B(e,1),e.m(s.parentNode,s))},i(i){n||(B(e),n=!0)},o(i){P(e),n=!1},d(i){i&&E(s),a[t].d(i)}}}function _t(r,t,e){let s,n;return _e(r,x,l=>e(0,s=l)),_e(r,De,l=>e(1,n=l)),x.subscribe(l=>{const a=l.tabs.map(u=>JSON.stringify(u));De.update(u=>({...u,data:{activeIndex:s.activeIndex,tabs:a}})),st.publish()}),[s,n]}class St extends we{constructor(t){super(),Te(this,t,_t,bt,ae,{})}}export{St as component};
