import{r as ne,s as x,n as X,i as se,b as K,c as ae,x as ie}from"../chunks/scheduler.B3svg8oL.js";import{l as $,n as y,S as z,i as F,e as w,c as C,a as I,d as b,o as _,p as W,g as B,h as k,z as U,A as re,s as A,u as N,f as M,v as H,B as Y,C as j,w as O,D as ue,x as P,q as fe,m as de,E as le}from"../chunks/index.Cm1nNox8.js";import{b as oe,w as he}from"../chunks/paths.DrmsS4JE.js";function Z(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function ve(n,e){$(n,1,1,()=>{e.delete(n.key)})}function me(n,e,t,s,i,a,l,h,c,f,v,r){let u=n.length,m=a.length,o=u;const d={};for(;o--;)d[n[o].key]=o;const p=[],D=new Map,V=new Map,q=[];for(o=m;o--;){const g=r(i,a,o),E=t(g);let T=l.get(E);T?q.push(()=>T.p(g,e)):(T=f(E,g),T.c()),D.set(E,p[o]=T),E in d&&V.set(E,Math.abs(o-d[E]))}const L=new Set,Q=new Set;function J(g){y(g,1),g.m(h,v),l.set(g.key,g),v=g.first,m--}for(;u&&m;){const g=p[m-1],E=n[u-1],T=g.key,R=E.key;g===E?(v=g.first,u--,m--):D.has(R)?!l.has(T)||L.has(T)?J(g):Q.has(R)?u--:V.get(T)>V.get(R)?(Q.add(T),J(g)):(L.add(R),u--):(c(E,l),u--)}for(;u--;){const g=n[u];D.has(g.key)||c(g,l)}for(;m;)J(p[m-1]);return ne(q),p}function _e(n){let e,t,s,i;return{c(){e=w("button"),t=w("div"),this.h()},l(a){e=C(a,"BUTTON",{class:!0});var l=I(e);t=C(l,"DIV",{class:!0,style:!0}),I(t).forEach(b),l.forEach(b),this.h()},h(){_(t,"class","icon svelte-fsrv9v"),W(t,"-webkit-mask","url("+n[1]+") no-repeat center / contain"),W(t,"mask","url("+n[1]+") no-repeat center / contain"),_(e,"class","svelte-fsrv9v")},m(a,l){B(a,e,l),k(e,t),s||(i=U(e,"click",re(function(){se(n[0])&&n[0].apply(this,arguments)})),s=!0)},p(a,[l]){n=a,l&2&&W(t,"-webkit-mask","url("+n[1]+") no-repeat center / contain"),l&2&&W(t,"mask","url("+n[1]+") no-repeat center / contain")},i:X,o:X,d(a){a&&b(e),s=!1,i()}}}function be(n,e,t){let{onClick:s=()=>{}}=e,{url:i=""}=e;return n.$$set=a=>{"onClick"in a&&t(0,s=a.onClick),"url"in a&&t(1,i=a.url)},[s,i]}class ce extends z{constructor(e){super(),F(this,e,be,_e,x,{onClick:0,url:1})}}function ge(n){let e,t,s,i,a,l,h,c,f,v,r;return c=new ce({props:{url:oe+"/images/svg/cancel.svg",onClick:n[2]}}),{c(){e=w("div"),t=w("button"),s=w("div"),i=A(),a=w("input"),l=A(),h=w("div"),N(c.$$.fragment),this.h()},l(u){e=C(u,"DIV",{class:!0});var m=I(e);t=C(m,"BUTTON",{class:!0});var o=I(t);s=C(o,"DIV",{class:!0}),I(s).forEach(b),i=M(o),a=C(o,"INPUT",{autocorrect:!0,autocomplete:!0,spellcheck:!0,type:!0,class:!0}),l=M(o),h=C(o,"DIV",{class:!0});var d=I(h);H(c.$$.fragment,d),d.forEach(b),o.forEach(b),m.forEach(b),this.h()},h(){_(s,"class","divider svelte-3iaqf2"),_(a,"autocorrect","off"),_(a,"autocomplete","off"),_(a,"spellcheck","false"),_(a,"type","text"),_(a,"class","svelte-3iaqf2"),_(h,"class","close-button svelte-3iaqf2"),_(t,"class","tab svelte-3iaqf2"),Y(t,"active",n[1]),_(e,"class","tab-container svelte-3iaqf2")},m(u,m){B(u,e,m),k(e,t),k(t,s),k(t,i),k(t,a),n[5](a),j(a,n[0]),k(t,l),k(t,h),O(c,h,null),f=!0,v||(r=[U(a,"input",n[6]),U(t,"dblclick",ue(n[7])),U(t,"click",function(){se(n[3])&&n[3].apply(this,arguments)})],v=!0)},p(u,[m]){n=u,m&1&&a.value!==n[0]&&j(a,n[0]);const o={};m&4&&(o.onClick=n[2]),c.$set(o),(!f||m&2)&&Y(t,"active",n[1])},i(u){f||(y(c.$$.fragment,u),f=!0)},o(u){$(c.$$.fragment,u),f=!1},d(u){u&&b(e),n[5](null),P(c),v=!1,ne(r)}}}function pe(n,e,t){let{title:s=""}=e,{active:i=!1}=e,{onClose:a=()=>{}}=e,{onClick:l=()=>{}}=e,h;function c(r){K[r?"unshift":"push"](()=>{h=r,t(4,h)})}function f(){s=this.value,t(0,s)}const v=()=>h.select();return n.$$set=r=>{"title"in r&&t(0,s=r.title),"active"in r&&t(1,i=r.active),"onClose"in r&&t(2,a=r.onClose),"onClick"in r&&t(3,l=r.onClick)},[s,i,a,l,h,c,f,v]}class ke extends z{constructor(e){super(),F(this,e,pe,ge,x,{title:0,active:1,onClose:2,onClick:3})}}const S=he({tabs:[],activeIndex:0}),G={newTab:({title:n="Untitled",text:e=""}={})=>{S.update(t=>(t.tabs.push({title:n,text:e}),t.activeIndex=t.tabs.length-1,t))},removeTab:n=>{S.update(e=>(e.tabs.splice(n,1),e.activeIndex=Math.min(e.activeIndex,e.tabs.length-1),e))},setActiveTab:n=>{S.update(e=>(n<0||n>=e.tabs.length||(e.activeIndex=n),e))}};function ee(n,e,t){const s=n.slice();return s[5]=e[t],s[6]=e,s[7]=t,s}function te(n,e){let t,s,i,a,l;function h(){return e[2](e[7])}function c(){return e[3](e[7])}function f(r){e[4](r,e[7])}let v={active:e[0].activeIndex==e[7],onClose:h,onClick:c};return e[0].tabs[e[7]].title!==void 0&&(v.title=e[0].tabs[e[7]].title),s=new ke({props:v}),K.push(()=>le(s,"title",f)),{key:n,first:null,c(){t=w("div"),N(s.$$.fragment),a=A(),this.h()},l(r){t=C(r,"DIV",{class:!0});var u=I(t);H(s.$$.fragment,u),a=M(u),u.forEach(b),this.h()},h(){_(t,"class","tab-container svelte-91dcx5"),this.first=t},m(r,u){B(r,t,u),O(s,t,null),k(t,a),l=!0},p(r,u){e=r;const m={};u&1&&(m.active=e[0].activeIndex==e[7]),u&1&&(m.onClose=h),u&1&&(m.onClick=c),!i&&u&1&&(i=!0,m.title=e[0].tabs[e[7]].title,ie(()=>i=!1)),s.$set(m)},i(r){l||(y(s.$$.fragment,r),l=!0)},o(r){$(s.$$.fragment,r),l=!1},d(r){r&&b(t),P(s)}}}function we(n){let e,t,s,i=[],a=new Map,l,h,c,f,v,r,u=Z(n[0].tabs);const m=o=>o[5];for(let o=0;o<u.length;o+=1){let d=ee(n,u,o),p=m(d);a.set(p,i[o]=te(p,d))}return c=new ce({props:{url:oe+"/images/svg/plus.svg",onClick:G.newTab}}),{c(){e=w("div"),t=w("div"),s=w("div");for(let o=0;o<i.length;o+=1)i[o].c();l=A(),h=w("div"),N(c.$$.fragment),f=A(),v=w("div"),this.h()},l(o){e=C(o,"DIV",{});var d=I(e);t=C(d,"DIV",{class:!0});var p=I(t);s=C(p,"DIV",{class:!0});var D=I(s);for(let q=0;q<i.length;q+=1)i[q].l(D);D.forEach(b),l=M(p),h=C(p,"DIV",{class:!0});var V=I(h);H(c.$$.fragment,V),V.forEach(b),p.forEach(b),f=M(d),v=C(d,"DIV",{class:!0}),I(v).forEach(b),d.forEach(b),this.h()},h(){_(s,"class","tabs svelte-91dcx5"),_(h,"class","buttons svelte-91dcx5"),_(t,"class","toolbar svelte-91dcx5"),_(v,"class","separator svelte-91dcx5")},m(o,d){B(o,e,d),k(e,t),k(t,s);for(let p=0;p<i.length;p+=1)i[p]&&i[p].m(s,null);k(t,l),k(t,h),O(c,h,null),k(e,f),k(e,v),r=!0},p(o,[d]){d&3&&(u=Z(o[0].tabs),fe(),i=me(i,d,m,1,o,u,a,s,ve,te,null,ee),de())},i(o){if(!r){for(let d=0;d<u.length;d+=1)y(i[d]);y(c.$$.fragment,o),r=!0}},o(o){for(let d=0;d<i.length;d+=1)$(i[d]);$(c.$$.fragment,o),r=!1},d(o){o&&b(e);for(let d=0;d<i.length;d+=1)i[d].d();P(c)}}}function Ce(n,e,t){let s;ae(n,S,c=>t(0,s=c));function i(c){G.setActiveTab(c)}const a=c=>G.removeTab(c),l=c=>i(c);function h(c,f){n.$$.not_equal(s.tabs[f].title,c)&&(s.tabs[f].title=c,S.set(s))}return[s,i,a,l,h]}class Ie extends z{constructor(e){super(),F(this,e,Ce,we,x,{})}}function Ee(n){let e,t,s,i;return{c(){e=w("div"),t=w("textarea"),this.h()},l(a){e=C(a,"DIV",{id:!0,class:!0});var l=I(e);t=C(l,"TEXTAREA",{spellcheck:!0,name:!0,id:!0,class:!0}),I(t).forEach(b),l.forEach(b),this.h()},h(){_(t,"spellcheck","false"),_(t,"name","editor"),_(t,"id","text"),_(t,"class","svelte-7cpmmf"),_(e,"id","editor"),_(e,"class","svelte-7cpmmf")},m(a,l){B(a,e,l),k(e,t),j(t,n[0]),s||(i=U(t,"input",n[1]),s=!0)},p(a,[l]){l&1&&j(t,a[0])},i:X,o:X,d(a){a&&b(e),s=!1,i()}}}function Te(n,e,t){let{text:s}=e;function i(){s=this.value,t(0,s)}return n.$$set=a=>{"text"in a&&t(0,s=a.text)},[s,i]}class $e extends z{constructor(e){super(),F(this,e,Te,Ee,x,{text:0})}}function ye(n){let e,t,s,i,a,l;t=new Ie({});function h(f){n[1](f)}let c={};return n[0]!==void 0&&(c.text=n[0]),i=new $e({props:c}),K.push(()=>le(i,"text",h)),{c(){e=w("div"),N(t.$$.fragment),s=A(),N(i.$$.fragment),this.h()},l(f){e=C(f,"DIV",{class:!0});var v=I(e);H(t.$$.fragment,v),s=M(v),H(i.$$.fragment,v),v.forEach(b),this.h()},h(){_(e,"class","container svelte-16qa0xo")},m(f,v){B(f,e,v),O(t,e,null),k(e,s),O(i,e,null),l=!0},p(f,[v]){const r={};!a&&v&1&&(a=!0,r.text=f[0],ie(()=>a=!1)),i.$set(r)},i(f){l||(y(t.$$.fragment,f),y(i.$$.fragment,f),l=!0)},o(f){$(t.$$.fragment,f),$(i.$$.fragment,f),l=!1},d(f){f&&b(e),P(t),P(i)}}}function De(n,e,t){let s;ae(n,S,l=>t(2,s=l)),G.newTab({title:"Hello ðŸ‘‹",text:"Welcome to notep... not notepad. Something completely different (Microsoft, don't sue me). v0.11"});let i=s.tabs[s.activeIndex].text||"Click the âž• above to create a new tab.";function a(l){i=l,t(0,i)}return[i,a]}class Ae extends z{constructor(e){super(),F(this,e,De,ye,x,{})}}export{Ae as component};
