import{s as I,n as k,r as j,c as q}from"../chunks/scheduler.CNrmCPBX.js";import{S as N,i as E,e as h,s as C,c as b,d as L,h as S,g,w as u,j as w,k as _,D as $,x as z,v as R,m as P,t as y,n as A,a as x,o as B,p as T,q as D,r as F,u as H}from"../chunks/index.B8RT_JvN.js";import{f as M,b as O,a as V}from"../chunks/firebaseStore.CcHa8g13.js";import{S as W}from"../chunks/Spinner.C-DkDqlJ.js";import{b as G}from"../chunks/paths.DWs4I9ao.js";import{g as J}from"../chunks/entry.Bf3qtP1I.js";function U(l){let e,r="Wrong password!";return{c(){e=h("b"),e.textContent=r,this.h()},l(t){e=b(t,"B",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1rh5isq"&&(e.textContent=r),this.h()},h(){u(e,"class","error svelte-dzxb86")},m(t,s){w(t,e,s)},d(t){t&&g(e)}}}function K(l){let e,r,t,s,a,i,f,n,p,v,o=l[2]&&U();return{c(){e=h("div"),r=h("form"),t=h("input"),s=C(),a=h("input"),i=C(),o&&o.c(),f=C(),n=h("input"),this.h()},l(c){e=b(c,"DIV",{class:!0});var d=L(e);r=b(d,"FORM",{class:!0});var m=L(r);t=b(m,"INPUT",{class:!0,type:!0,placeholder:!0}),s=S(m),a=b(m,"INPUT",{class:!0,type:!0,placeholder:!0}),i=S(m),o&&o.l(m),f=S(m),n=b(m,"INPUT",{type:!0,class:!0}),m.forEach(g),d.forEach(g),this.h()},h(){u(t,"class","email svelte-dzxb86"),u(t,"type","email"),u(t,"placeholder","Email"),t.required=!0,u(a,"class","password svelte-dzxb86"),u(a,"type","password"),u(a,"placeholder","Password"),a.required=!0,u(n,"type","submit"),n.value="Login",u(n,"class","btn svelte-dzxb86"),u(r,"class","form svelte-dzxb86"),u(e,"class","form-container svelte-dzxb86")},m(c,d){w(c,e,d),_(e,r),_(r,t),$(t,l[0]),_(r,s),_(r,a),$(a,l[1]),_(r,i),o&&o.m(r,null),_(r,f),_(r,n),p||(v=[z(t,"input",l[4]),z(a,"input",l[5]),z(r,"submit",l[3])],p=!0)},p(c,[d]){d&1&&t.value!==c[0]&&$(t,c[0]),d&2&&a.value!==c[1]&&$(a,c[1]),c[2]?o||(o=U(),o.c(),o.m(r,f)):o&&(o.d(1),o=null)},i:k,o:k,d(c){c&&g(e),o&&o.d(),p=!1,j(v)}}}function Q(l,e,r){let t="",s="",a=!1;async function i(){try{r(2,a=!1),await M.login(t,s)}catch{console.log("Login failed!"),r(2,a=!0)}}function f(){t=this.value,r(0,t)}function n(){s=this.value,r(1,s)}return[t,s,a,i,f,n]}class X extends N{constructor(e){super(),E(this,e,Q,K,I,{})}}function Y(l){let e,r;return e=new X({}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,s){F(e,t,s),r=!0},i(t){r||(x(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){H(e,t)}}}function Z(l){let e,r="Loading from Firestore";return{c(){e=h("h1"),e.textContent=r,this.h()},l(t){e=b(t,"H1",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-kvsufd"&&(e.textContent=r),this.h()},h(){u(e,"class","svelte-9k5trb")},m(t,s){w(t,e,s)},i:k,o:k,d(t){t&&g(e)}}}function ee(l){let e,r;return e=new W({}),{c(){T(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,s){F(e,t,s),r=!0},i(t){r||(x(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){H(e,t)}}}function te(l){let e,r,t,s;const a=[ee,Z,Y],i=[];function f(n,p){return n[0].currentUser?0:n[0].isLoading?1:2}return e=f(l),r=i[e]=a[e](l),{c(){r.c(),t=P()},l(n){r.l(n),t=P()},m(n,p){i[e].m(n,p),w(n,t,p),s=!0},p(n,[p]){let v=e;e=f(n),e!==v&&(B(),y(i[v],1,1,()=>{i[v]=null}),A(),r=i[e],r||(r=i[e]=a[e](n),r.c()),x(r,1),r.m(t.parentNode,t))},i(n){s||(x(r),s=!0)},o(n){y(r),s=!1},d(n){n&&g(t),i[e].d(n)}}}function re(l,e,r){let t,s;return q(l,O,a=>r(1,t=a)),q(l,V,a=>r(0,s=a)),l.$$.update=()=>{l.$$.dirty&3&&s.currentUser&&J(G+t)},[s,t]}class ue extends N{constructor(e){super(),E(this,e,re,te,I,{})}}export{ue as component};
