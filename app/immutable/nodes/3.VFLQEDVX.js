import{n as x,x as F,i as H,s as L,o as Y,b as M}from"../chunks/scheduler.DvlNEcs7.js";import{B as Z,d as w,C as G,S as J,i as K,e as k,s as A,c as T,a as C,f as O,k as q,l as $,g as W,h as b,m as U,t as Q,b as X,j as tt}from"../chunks/index.ClDJnzeU.js";import{c as et,e as N,u as st,f as nt,a as it,b as lt}from"../chunks/animate.DXadzH7U.js";const j=typeof window<"u";let ot=j?()=>window.performance.now():()=>Date.now(),R=j?s=>requestAnimationFrame(s):x;const E=new Set;function z(s){E.forEach(t=>{t.c(s)||(E.delete(t),t.f())}),E.size!==0&&R(z)}function at(s){let t;return E.size===0&&R(z),{promise:new Promise(e=>{E.add(t={c:s,f:e})}),abort(){E.delete(t)}}}const I=new Map;let B=0;function rt(s){let t=5381,e=s.length;for(;e--;)t=(t<<5)-t^s.charCodeAt(e);return t>>>0}function ct(s,t){const e={stylesheet:G(t),rules:{}};return I.set(s,e),e}function ut(s,t,e,o,n,u,c,r=0){const f=16.666/o;let g=`{
`;for(let l=0;l<=1;l+=f){const m=t+(e-t)*u(l);g+=l*100+`%{${c(m,1-m)}}
`}const p=g+`100% {${c(e,1-e)}}
}`,d=`__svelte_${rt(p)}_${r}`,_=Z(s),{stylesheet:h,rules:a}=I.get(_)||ct(_,s);a[d]||(a[d]=!0,h.insertRule(`@keyframes ${d} ${p}`,h.cssRules.length));const i=s.style.animation||"";return s.style.animation=`${i?`${i}, `:""}${d} ${o}ms linear ${n}ms 1 both`,B+=1,d}function ft(s,t){const e=(s.style.animation||"").split(", "),o=e.filter(t?u=>u.indexOf(t)<0:u=>u.indexOf("__svelte")===-1),n=e.length-o.length;n&&(s.style.animation=o.join(", "),B-=n,B||dt())}function dt(){R(()=>{B||(I.forEach(s=>{const{ownerNode:t}=s.stylesheet;t&&w(t)}),I.clear())})}function ht(s,t,e,o){if(!t)return x;const n=s.getBoundingClientRect();if(t.left===n.left&&t.right===n.right&&t.top===n.top&&t.bottom===n.bottom)return x;const{delay:u=0,duration:c=300,easing:r=F,start:f=ot()+u,end:g=f+c,tick:p=x,css:d}=e(s,{from:t,to:n},o);let _=!0,h=!1,a;function i(){d&&(a=ut(s,0,1,c,u,r,d)),u||(h=!0)}function l(){d&&ft(s,a),_=!1}return at(m=>{if(!h&&m>=f&&(h=!0),h&&m>=g&&(p(1,0),l()),!_)return!1;if(h){const y=m-f,v=0+1*r(y/c);p(v,1-v)}return!0}),i(),p(0,1),l}function pt(s){const t=getComputedStyle(s);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:e,height:o}=t,n=s.getBoundingClientRect();s.style.position="absolute",s.style.width=e,s.style.height=o,_t(s,n)}}function _t(s,t){const e=s.getBoundingClientRect();if(t.left!==e.left||t.top!==e.top){const o=getComputedStyle(s),n=o.transform==="none"?"":o.transform;s.style.transform=`${n} translate(${t.left-e.left}px, ${t.top-e.top}px)`}}function gt(s,{from:t,to:e},o={}){const n=getComputedStyle(s),u=n.transform==="none"?"":n.transform,[c,r]=n.transformOrigin.split(" ").map(parseFloat),f=t.left+t.width*c/e.width-(e.left+c),g=t.top+t.height*r/e.height-(e.top+r),{delay:p=0,duration:d=h=>Math.sqrt(h)*120,easing:_=et}=o;return{delay:p,duration:H(d)?d(Math.sqrt(f*f+g*g)):d,easing:_,css:(h,a)=>{const i=a*f,l=a*g,m=h+a*t.width/e.width,y=h+a*t.height/e.height;return`transform: ${u} translate(${i}px, ${l}px) scale(${m}, ${y});`}}}function P(s,t,e){const o=s.slice();return o[14]=t[e],o[15]=t,o[16]=e,o}function V(s,t){let e,o,n=t[14]+"",u,c,r,f="❌",g,p=t[16],d,_=x,h,a;function i(){return t[5](t[16])}const l=()=>t[6](e,p),m=()=>t[6](null,p);return{key:s,first:null,c(){e=k("div"),o=k("div"),u=Q(n),c=A(),r=k("button"),r.textContent=f,g=A(),this.h()},l(y){e=T(y,"DIV",{class:!0});var v=C(e);o=T(v,"DIV",{});var S=C(o);u=X(S,n),S.forEach(w),c=O(v),r=T(v,"BUTTON",{class:!0,"data-svelte-h":!0}),q(r)!=="svelte-h0c75d"&&(r.textContent=f),g=O(v),v.forEach(w),this.h()},h(){$(r,"class","closeTab"),$(e,"class","tab svelte-1vyd0gl"),this.first=e},m(y,v){W(y,e,v),b(e,o),b(o,u),b(e,c),b(e,r),b(e,g),l(),h||(a=U(r,"click",i),h=!0)},p(y,v){t=y,v&1&&n!==(n=t[14]+"")&&tt(u,n),p!==t[16]&&(m(),p=t[16],l())},r(){d=e.getBoundingClientRect()},f(){pt(e),_()},a(){_(),_=ht(e,d,gt,{})},d(y){y&&w(e),m(),h=!1,a()}}}function mt(s){let t,e,o,n=[],u=new Map,c,r,f,g="➕",p,d,_=N(s[0]);const h=a=>a[14];for(let a=0;a<_.length;a+=1){let i=P(s,_,a),l=h(i);u.set(l,n[a]=V(l,i))}return{c(){t=k("div"),e=k("div"),o=k("div");for(let a=0;a<n.length;a+=1)n[a].c();c=A(),r=k("div"),f=k("button"),f.textContent=g,this.h()},l(a){t=T(a,"DIV",{class:!0});var i=C(t);e=T(i,"DIV",{class:!0});var l=C(e);o=T(l,"DIV",{class:!0});var m=C(o);for(let v=0;v<n.length;v+=1)n[v].l(m);m.forEach(w),c=O(l),r=T(l,"DIV",{class:!0});var y=C(r);f=T(y,"BUTTON",{class:!0,"data-svelte-h":!0}),q(f)!=="svelte-126ysco"&&(f.textContent=g),y.forEach(w),l.forEach(w),i.forEach(w),this.h()},h(){$(o,"class","tabs svelte-1vyd0gl"),$(f,"class","newTab"),$(r,"class","buttons svelte-1vyd0gl"),$(e,"class","toolbar svelte-1vyd0gl"),$(t,"class","main svelte-1vyd0gl")},m(a,i){W(a,t,i),b(t,e),b(e,o);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(o,null);s[7](o),b(e,c),b(e,r),b(r,f),p||(d=U(f,"click",s[3]),p=!0)},p(a,[i]){if(i&19){_=N(a[0]);for(let l=0;l<n.length;l+=1)n[l].r();n=st(n,i,h,1,a,_,u,o,nt,V,null,P);for(let l=0;l<n.length;l+=1)n[l].a()}},i:x,o:x,d(a){a&&w(t);for(let i=0;i<n.length;i+=1)n[i].d();s[7](null),p=!1,d()}}}const D=140,yt=70,vt=2e3,bt=1600;function wt(s,t,e){let o=0,n=["test2","test"],u=[],c,r=0;Y(()=>{c.style.setProperty("--tab-width",`${D}px`),c.style.setProperty("--tab-min-width",`${yt}px`)});const f=(i,l=300)=>{let m;return(...y)=>{clearTimeout(m),m=setTimeout(()=>{i.apply(this,y)},l)}};function g(){n.push("new"+o++),e(0,n)}const p=f(()=>{c&&it({duration:vt,easing:lt,onStep:(i,l)=>{c.style.setProperty("--tab-width",`${r+i*(D-r)}px`)},onEnd:()=>{c.style.setProperty("--tab-width",`${D}px`)}})},bt);function d(i){r=u[i].getBoundingClientRect().width,console.log(r),i<n.length-1&&(c.style.setProperty("--tab-width",`${r}px`),p()),n.splice(i,1),e(0,n)}const _=i=>d(i);function h(i,l){M[i?"unshift":"push"](()=>{u[l]=i,e(1,u)})}function a(i){M[i?"unshift":"push"](()=>{c=i,e(2,c)})}return[n,u,c,g,d,_,h,a]}class xt extends J{constructor(t){super(),K(this,t,wt,mt,L,{})}}export{xt as component};
