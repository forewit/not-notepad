import{s as P,i as Z,n as J,r as et,b as W,x as S}from"../chunks/scheduler.B3svg8oL.js";import{S as F,i as R,e as D,c as I,a as C,d as v,m as p,x as z,g as X,h as T,p as w,s as O,A,f as H,B as U,n as G,o as K,C as j,E as y,w as M,u as V,D as N,y as nt,v as it,q as lt,F as B}from"../chunks/index.B0sbfZXq.js";import{e as L}from"../chunks/each.D6YF6ztN.js";import{b as x}from"../chunks/paths.C4SA3Hdz.js";function st(e){let t,n,i,o;return{c(){t=D("button"),n=D("div"),this.h()},l(l){t=I(l,"BUTTON",{class:!0});var a=C(t);n=I(a,"DIV",{class:!0,style:!0}),C(n).forEach(v),a.forEach(v),this.h()},h(){p(n,"class","icon svelte-w8cq5c"),z(n,"-webkit-mask","url("+e[1]+") no-repeat center / contain"),z(n,"mask","url("+e[1]+") no-repeat center / contain"),p(t,"class","svelte-w8cq5c")},m(l,a){X(l,t,a),T(t,n),i||(o=w(t,"click",function(){Z(e[0])&&e[0].apply(this,arguments)}),i=!0)},p(l,[a]){e=l,a&2&&z(n,"-webkit-mask","url("+e[1]+") no-repeat center / contain"),a&2&&z(n,"mask","url("+e[1]+") no-repeat center / contain")},i:J,o:J,d(l){l&&v(t),i=!1,o()}}}function at(e,t,n){let{onClick:i=()=>{}}=t,{url:o=""}=t;return e.$$set=l=>{"onClick"in l&&n(0,i=l.onClick),"url"in l&&n(1,o=l.url)},[i,o]}class $ extends F{constructor(t){super(),R(this,t,at,st,P,{onClick:0,url:1})}}function ot(e){let t,n,i,o,l,a,h,g,_;return a=new $({props:{url:x+"/images/svg/cancel.svg",onClick:e[2]}}),{c(){t=D("button"),n=D("div"),i=O(),o=D("input"),l=O(),A(a.$$.fragment),this.h()},l(c){t=I(c,"BUTTON",{class:!0});var s=C(t);n=I(s,"DIV",{class:!0}),C(n).forEach(v),i=H(s),o=I(s,"INPUT",{autocorrect:!0,autocomplete:!0,spellcheck:!0,type:!0,class:!0}),l=H(s),U(a.$$.fragment,s),s.forEach(v),this.h()},h(){p(n,"class","divider svelte-1ht5lm8"),p(o,"autocorrect","off"),p(o,"autocomplete","off"),p(o,"spellcheck","false"),p(o,"type","text"),p(o,"class","svelte-1ht5lm8"),p(t,"class","tab svelte-1ht5lm8"),G(t,"lockMaxWidth",e[4]>0),G(t,"active",e[1])},m(c,s){X(c,t,s),T(t,n),T(t,i),T(t,o),e[10](o),K(o,e[0]),T(t,l),j(a,t,null),e[12](t),h=!0,g||(_=[w(o,"input",e[11]),w(t,"dblclick",y(e[13])),w(t,"click",y(function(){Z(e[3])&&e[3].apply(this,arguments)})),w(t,"dragstart",y(e[7])),w(t,"dragover",y(e[8])),w(t,"dragend",y(e[9]))],g=!0)},p(c,[s]){e=c,s&1&&o.value!==e[0]&&K(o,e[0]);const m={};s&4&&(m.onClick=e[2]),a.$set(m),(!h||s&16)&&G(t,"lockMaxWidth",e[4]>0),(!h||s&2)&&G(t,"active",e[1])},i(c){h||(M(a.$$.fragment,c),h=!0)},o(c){V(a.$$.fragment,c),h=!1},d(c){c&&v(t),e[10](null),N(a),e[12](null),g=!1,et(_)}}}function rt(e,t,n){let{title:i=""}=t,{active:o=!1}=t,{onClose:l=()=>{}}=t,{onClick:a=()=>{}}=t,{lockMaxWidth:h=0}=t;const g=b=>{console.log("dragstart")},_=b=>{console.log("dragover")},c=b=>{console.log("dragend")};let s,m;function d(b){W[b?"unshift":"push"](()=>{s=b,n(6,s)})}function r(){i=this.value,n(0,i)}function u(b){W[b?"unshift":"push"](()=>{m=b,n(5,m)})}const k=()=>s.select();return e.$$set=b=>{"title"in b&&n(0,i=b.title),"active"in b&&n(1,o=b.active),"onClose"in b&&n(2,l=b.onClose),"onClick"in b&&n(3,a=b.onClick),"lockMaxWidth"in b&&n(4,h=b.lockMaxWidth)},e.$$.update=()=>{e.$$.dirty&48&&m&&h>0&&m.style.setProperty("--max-width",`${h}px`)},[i,o,l,a,h,m,s,g,_,c,d,r,u,k]}class ct extends F{constructor(t){super(),R(this,t,rt,ot,P,{title:0,active:1,onClose:2,onClick:3,lockMaxWidth:4})}}function Q(e,t,n){const i=e.slice();return i[15]=t[n],i[16]=t,i[17]=n,i}function Y(e){let t,n,i,o;function l(){return e[7](e[15])}function a(){return e[8](e[15])}function h(c){e[9](c,e[15])}function g(c){e[10](c)}let _={active:e[1]==e[15].id,onClose:l,onClick:a};return e[15].title!==void 0&&(_.title=e[15].title),e[3]!==void 0&&(_.lockMaxWidth=e[3]),t=new ct({props:_}),W.push(()=>B(t,"title",h)),W.push(()=>B(t,"lockMaxWidth",g)),{c(){A(t.$$.fragment)},l(c){U(t.$$.fragment,c)},m(c,s){j(t,c,s),o=!0},p(c,s){e=c;const m={};s&3&&(m.active=e[1]==e[15].id),s&1&&(m.onClose=l),s&1&&(m.onClick=a),!n&&s&1&&(n=!0,m.title=e[15].title,S(()=>n=!1)),!i&&s&8&&(i=!0,m.lockMaxWidth=e[3],S(()=>i=!1)),t.$set(m)},i(c){o||(M(t.$$.fragment,c),o=!0)},o(c){V(t.$$.fragment,c),o=!1},d(c){N(t,c)}}}function ut(e){let t,n,i,o,l,a,h,g,_,c=L(e[0]),s=[];for(let d=0;d<c.length;d+=1)s[d]=Y(Q(e,c,d));const m=d=>V(s[d],1,1,()=>{s[d]=null});return a=new $({props:{url:x+"/images/svg/plus.svg",onClick:e[5]}}),{c(){t=D("div"),n=D("div"),i=D("div");for(let d=0;d<s.length;d+=1)s[d].c();o=O(),l=D("div"),A(a.$$.fragment),h=O(),g=D("div"),this.h()},l(d){t=I(d,"DIV",{});var r=C(t);n=I(r,"DIV",{class:!0});var u=C(n);i=I(u,"DIV",{class:!0});var k=C(i);for(let f=0;f<s.length;f+=1)s[f].l(k);k.forEach(v),o=H(u),l=I(u,"DIV",{class:!0});var b=C(l);U(a.$$.fragment,b),b.forEach(v),u.forEach(v),h=H(r),g=I(r,"DIV",{class:!0}),C(g).forEach(v),r.forEach(v),this.h()},h(){p(i,"class","tabs svelte-1khjnrf"),p(l,"class","buttons"),p(n,"class","toolbar svelte-1khjnrf"),p(g,"class","separator svelte-1khjnrf")},m(d,r){X(d,t,r),T(t,n),T(n,i);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(i,null);e[11](i),T(n,o),T(n,l),j(a,l,null),T(t,h),T(t,g),_=!0},p(d,[r]){if(r&91){c=L(d[0]);let u;for(u=0;u<c.length;u+=1){const k=Q(d,c,u);s[u]?(s[u].p(k,r),M(s[u],1)):(s[u]=Y(k),s[u].c(),M(s[u],1),s[u].m(i,null))}for(nt(),u=c.length;u<s.length;u+=1)m(u);it()}},i(d){if(!_){for(let r=0;r<c.length;r+=1)M(s[r]);M(a.$$.fragment,d),_=!0}},o(d){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)V(s[r]);V(a.$$.fragment,d),_=!1},d(d){d&&v(t),lt(s,d),e[11](null),N(a)}}}function ft(e,t,n){let{tabs:i}=t,{activeTabID:o}=t,l=i.map(f=>f.id),a,h=0;const g=(f,E=300)=>{let q;return(...tt)=>{clearTimeout(q),q=setTimeout(()=>{f.apply(void 0,tt)},E)}},_=f=>{let E=l.indexOf(f);n(3,h=a.children[0].clientWidth),c(),n(0,i=i.filter(q=>q.id!=f)),l=l.filter(q=>q!=f),m(l[Math.min(E,l.length-1)])},c=g(()=>{console.log("debounced closing tabs..."),n(3,h=0)},700),s=()=>{let f=Date.now().toString();i.push({id:f,title:"Untitled"}),l.push(f),n(0,i),m(f)},m=f=>{n(1,o=f),!(h>0)&&setTimeout(()=>{var E;(E=a.querySelector(".tab.active"))==null||E.scrollIntoView({behavior:"smooth"})})},d=f=>_(f.id),r=f=>m(f.id);function u(f,E){e.$$.not_equal(E.title,f)&&(E.title=f,n(0,i))}function k(f){h=f,n(3,h)}function b(f){W[f?"unshift":"push"](()=>{a=f,n(2,a)})}return e.$$set=f=>{"tabs"in f&&n(0,i=f.tabs),"activeTabID"in f&&n(1,o=f.activeTabID)},[i,o,a,h,_,s,m,d,r,u,k,b]}class dt extends F{constructor(t){super(),R(this,t,ft,ut,P,{tabs:0,activeTabID:1})}}function ht(e){let t,n,i,o;return{c(){t=D("div"),n=D("textarea"),this.h()},l(l){t=I(l,"DIV",{id:!0,class:!0});var a=C(t);n=I(a,"TEXTAREA",{spellcheck:!0,name:!0,id:!0,class:!0}),C(n).forEach(v),a.forEach(v),this.h()},h(){p(n,"spellcheck","false"),p(n,"name","editor"),p(n,"id","text"),p(n,"class","svelte-7cpmmf"),p(t,"id","editor"),p(t,"class","svelte-7cpmmf")},m(l,a){X(l,t,a),T(t,n),K(n,e[0]),i||(o=w(n,"input",e[1]),i=!0)},p(l,[a]){a&1&&K(n,l[0])},i:J,o:J,d(l){l&&v(t),i=!1,o()}}}function _t(e,t,n){let{text:i}=t;function o(){i=this.value,n(0,i)}return e.$$set=l=>{"text"in l&&n(0,i=l.text)},[i,o]}class bt extends F{constructor(t){super(),R(this,t,_t,ht,P,{text:0})}}function mt(e){let t,n,i,o,l,a,h,g;function _(r){e[3](r)}function c(r){e[4](r)}let s={};e[0]!==void 0&&(s.tabs=e[0]),e[1]!==void 0&&(s.activeTabID=e[1]),n=new dt({props:s}),W.push(()=>B(n,"tabs",_)),W.push(()=>B(n,"activeTabID",c));function m(r){e[5](r)}let d={};return e[2].text!==void 0&&(d.text=e[2].text),a=new bt({props:d}),W.push(()=>B(a,"text",m)),{c(){t=D("div"),A(n.$$.fragment),l=O(),A(a.$$.fragment),this.h()},l(r){t=I(r,"DIV",{class:!0});var u=C(t);U(n.$$.fragment,u),l=H(u),U(a.$$.fragment,u),u.forEach(v),this.h()},h(){p(t,"class","container svelte-16qa0xo")},m(r,u){X(r,t,u),j(n,t,null),T(t,l),j(a,t,null),g=!0},p(r,[u]){const k={};!i&&u&1&&(i=!0,k.tabs=r[0],S(()=>i=!1)),!o&&u&2&&(o=!0,k.activeTabID=r[1],S(()=>o=!1)),n.$set(k);const b={};!h&&u&4&&(h=!0,b.text=r[2].text,S(()=>h=!1)),a.$set(b)},i(r){g||(M(n.$$.fragment,r),M(a.$$.fragment,r),g=!0)},o(r){V(n.$$.fragment,r),V(a.$$.fragment,r),g=!1},d(r){r&&v(t),N(n),N(a)}}}function gt(e,t,n){let i,o=[{id:Date.now().toString(),title:"Hello ðŸ‘‹",text:"Welcome to notep... not notepad. Something completely different (Microsoft, don't sue me). v0.1"}],l=o[0].id;function a(_){o=_,n(0,o)}function h(_){l=_,n(1,l)}function g(_){e.$$.not_equal(i.text,_)&&(i.text=_,n(2,i),n(0,o),n(1,l))}return e.$$.update=()=>{e.$$.dirty&3&&n(2,i=o.find(_=>_.id==l)||{text:"Click the âž• above to create a new tab."})},[o,l,i,a,h,g]}class Dt extends F{constructor(t){super(),R(this,t,gt,mt,P,{})}}export{Dt as component};
