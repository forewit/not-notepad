import{r as Ie,s as ue,n as Y,i as re,x as Qe,b as Z,c as we,o as Ne,y as Ge,z as Ke,A as ze}from"../chunks/scheduler.CdDHOodP.js";import{l as P,n as B,S as ye,i as Te,e as A,s as U,c as H,a as V,v as oe,f as X,d as L,w as T,C as M,g as j,h as C,x as De,A as W,D as be,E as Ce,p as ce,q as fe,r as de,o as ge,m as he,u as me,F as Je,k as te,G as Ze}from"../chunks/index.BdLLFpJ9.js";import{f as Le,a as Re}from"../chunks/firebaseStore.B73rKN3v.js";import{b as K}from"../chunks/paths.CYZ_8d8l.js";import{a as ne,t as F}from"../chunks/tabsStore.DNrclrNc.js";import{_ as xe}from"../chunks/preload-helper.D6kgxu3v.js";import{S as $e}from"../chunks/Spinner.C3gqSWTO.js";function ke(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function et(s,t){P(s,1,1,()=>{t.delete(s.key)})}function tt(s,t,e,n,a,l,i,u,r,g,b,_){let d=s.length,c=l.length,f=d;const k={};for(;f--;)k[s[f].key]=f;const v=[],E=new Map,D=new Map,N=[];for(f=c;f--;){const I=_(a,l,f),m=e(I);let h=i.get(m);h?N.push(()=>h.p(I,t)):(h=g(m,I),h.c()),E.set(m,v[f]=h),m in k&&D.set(m,Math.abs(f-k[m]))}const O=new Set,z=new Set;function R(I){B(I,1),I.m(u,b),i.set(I.key,I),b=I.first,c--}for(;d&&c;){const I=v[c-1],m=s[d-1],h=I.key,y=m.key;I===m?(b=I.first,d--,c--):E.has(y)?!i.has(h)||O.has(h)?R(I):z.has(y)?d--:D.get(h)>D.get(y)?(z.add(h),R(I)):(O.add(y),d--):(r(m,i),d--)}for(;d--;){const I=s[d];E.has(I.key)||r(I,i)}for(;c;)R(v[c-1]);return Ie(N),v}function nt(s){let t,e,n="",a,l,i,u,r,g=`<span class="close-icon svelte-1yt14my" style="-webkit-mask: url(${K}/images/svg/cancel.svg) no-repeat center / contain; mask: url(${K}/images/svg/cancel.svg) no-repeat center / contain;"></span>`,b,_;return{c(){t=A("div"),e=A("button"),e.innerHTML=n,a=U(),l=A("div"),i=A("input"),u=U(),r=A("button"),r.innerHTML=g,this.h()},l(d){t=H(d,"DIV",{class:!0});var c=V(t);e=H(c,"BUTTON",{class:!0,draggable:!0,"data-svelte-h":!0}),oe(e)!=="svelte-1m2idpq"&&(e.innerHTML=n),a=X(c),l=H(c,"DIV",{class:!0});var f=V(l);i=H(f,"INPUT",{autocorrect:!0,autocomplete:!0,spellcheck:!0,type:!0,class:!0}),u=X(f),r=H(f,"BUTTON",{class:!0,draggable:!0,"data-svelte-h":!0}),oe(r)!=="svelte-1x3debq"&&(r.innerHTML=g),f.forEach(L),c.forEach(L),this.h()},h(){T(e,"class","tab svelte-1yt14my"),T(e,"draggable","true"),M(e,"active",s[1]),T(i,"autocorrect","off"),T(i,"autocomplete","off"),T(i,"spellcheck","false"),T(i,"type","text"),T(i,"class","svelte-1yt14my"),T(r,"class","close-button svelte-1yt14my"),T(r,"draggable","true"),T(l,"class","tab-wrapper svelte-1yt14my"),T(t,"class","container svelte-1yt14my"),M(t,"preventHover",s[2])},m(d,c){j(d,t,c),C(t,e),C(t,a),C(t,l),C(l,i),s[9](i),De(i,s[0]),C(l,u),C(l,r),b||(_=[W(e,"dblclick",be(s[8])),W(e,"mousedown",be(function(){re(s[4])&&s[4].apply(this,arguments)})),W(e,"touchstart",be(function(){re(s[4])&&s[4].apply(this,arguments)})),W(e,"dragstart",be(function(){re(s[5])&&s[5].apply(this,arguments)})),W(i,"input",s[10]),W(r,"click",Ce(function(){re(s[3])&&s[3].apply(this,arguments)})),W(r,"dragstart",Ce(s[7]))],b=!0)},p(d,[c]){s=d,c&2&&M(e,"active",s[1]),c&1&&i.value!==s[0]&&De(i,s[0]),c&4&&M(t,"preventHover",s[2])},i:Y,o:Y,d(d){d&&L(t),s[9](null),b=!1,Ie(_)}}}function st(s,t,e){let{title:n=""}=t,{active:a=!1}=t,{preventHover:l=!1}=t,{onClose:i=()=>{}}=t,{onPointerdown:u=f=>{}}=t,{onDragstart:r=f=>{}}=t,g;function b(f){Qe.call(this,s,f)}const _=()=>g.select();function d(f){Z[f?"unshift":"push"](()=>{g=f,e(6,g)})}function c(){n=this.value,e(0,n)}return s.$$set=f=>{"title"in f&&e(0,n=f.title),"active"in f&&e(1,a=f.active),"preventHover"in f&&e(2,l=f.preventHover),"onClose"in f&&e(3,i=f.onClose),"onPointerdown"in f&&e(4,u=f.onPointerdown),"onDragstart"in f&&e(5,r=f.onDragstart)},[n,a,l,i,u,r,g,b,_,d,c]}class Oe extends ye{constructor(t){super(),Te(this,t,st,nt,ue,{title:0,active:1,preventHover:2,onClose:3,onPointerdown:4,onDragstart:5})}}function J(s){return s<.5?4*s*s*s:.5*Math.pow(2*s-2,3)+1}const Se=(s,t)=>{const{duration:e=300,easing:n=J,onEnd:a=()=>{},onStep:l=()=>{},css:i}=t;let u;function r(g){if(!s){console.warn("Cannot find element to animate");return}u===void 0&&(u=g);const b=n((g-u)/e),_=1-b;b<1?(s.style.cssText=i(b,_),l(b,_),requestAnimationFrame(r)):(s.style.cssText="",a())}requestAnimationFrame(r)},Ee=s=>{const{duration:t=300,easing:e=J,onEnd:n=()=>{},onStep:a=()=>{}}=s;let l;function i(u){l===void 0&&(l=u);const r=e((u-l)/t),g=1-r;r<1?(a(r,g),requestAnimationFrame(i)):n()}requestAnimationFrame(i)};function Ae(s,t,e){const n=s.slice();return n[38]=t[e],n[39]=t,n[40]=e,n}function He(s,t){let e,n,a,l,i=t[40],u,r,g;function b(){return t[15](t[40])}function _(...v){return t[16](t[40],...v)}function d(v){t[17](v,t[40])}let c={active:t[9].activeIndex==t[40],preventHover:t[8],onClose:b,onPointerdown:_,onDragstart:t[13]};t[9].tabs[t[40]].title!==void 0&&(c.title=t[9].tabs[t[40]].title),n=new Oe({props:c}),Z.push(()=>Je(n,"title",d));const f=()=>t[18](e,i),k=()=>t[18](null,i);return{key:s,first:null,c(){e=A("div"),ce(n.$$.fragment),l=U(),this.h()},l(v){e=H(v,"DIV",{class:!0});var E=V(e);fe(n.$$.fragment,E),l=X(E),E.forEach(L),this.h()},h(){T(e,"class","tab-container svelte-1is7u8k"),M(e,"placeholder",t[9].placeholderIndex==t[40]),this.first=e},m(v,E){j(v,e,E),de(n,e,null),C(e,l),f(),u=!0,r||(g=Ge(t[12].call(null,e)),r=!0)},p(v,E){t=v;const D={};E[0]&512&&(D.active=t[9].activeIndex==t[40]),E[0]&256&&(D.preventHover=t[8]),E[0]&512&&(D.onClose=b),E[0]&512&&(D.onPointerdown=_),!a&&E[0]&512&&(a=!0,D.title=t[9].tabs[t[40]].title,Ke(()=>a=!1)),n.$set(D),i!==t[40]&&(k(),i=t[40],f()),(!u||E[0]&512)&&M(e,"placeholder",t[9].placeholderIndex==t[40])},i(v){u||(B(n.$$.fragment,v),u=!0)},o(v){P(n.$$.fragment,v),u=!1},d(v){v&&L(e),me(n),k(),r=!1,g()}}}function lt(s){let t,e,n,a=[],l=new Map,i,u,r,g=`<span class="button-icon svelte-1is7u8k" style="-webkit-mask: url(${K}/images/svg/plus.svg) no-repeat center / contain; mask: url(${K}/images/svg/plus.svg) no-repeat center / contain;"></span>`,b,_,d,c=`<span class="button-icon svelte-1is7u8k" style="-webkit-mask: url(${K}/images/svg/logout.svg) no-repeat center / contain; mask: url(${K}/images/svg/logout.svg) no-repeat center / contain;"></span>`,f,k,v,E,D,N,O,z,R=ke(s[9].tabs);const I=m=>m[38];for(let m=0;m<R.length;m+=1){let h=Ae(s,R,m),y=I(h);l.set(y,a[m]=He(y,h))}return v=new Oe({props:{title:s[4],active:!s[6],preventHover:!0}}),{c(){t=A("div"),e=A("div"),n=A("div");for(let m=0;m<a.length;m+=1)a[m].c();i=U(),u=A("div"),r=A("button"),r.innerHTML=g,b=U(),_=A("div"),d=A("button"),d.innerHTML=c,f=U(),k=A("div"),ce(v.$$.fragment),E=U(),D=A("div"),this.h()},l(m){t=H(m,"DIV",{class:!0});var h=V(t);e=H(h,"DIV",{class:!0});var y=V(e);n=H(y,"DIV",{class:!0});var pe=V(n);for(let $=0;$<a.length;$+=1)a[$].l(pe);pe.forEach(L),i=X(y),u=H(y,"DIV",{class:!0});var ve=V(u);r=H(ve,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(r)!=="svelte-g0ls06"&&(r.innerHTML=g),ve.forEach(L),b=X(y),_=H(y,"DIV",{class:!0});var Q=V(_);d=H(Q,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(d)!=="svelte-1df52fh"&&(d.innerHTML=c),Q.forEach(L),f=X(y),k=H(y,"DIV",{class:!0});var x=V(k);fe(v.$$.fragment,x),x.forEach(L),y.forEach(L),E=X(h),D=H(h,"DIV",{class:!0}),V(D).forEach(L),h.forEach(L),this.h()},h(){T(n,"class","tabs svelte-1is7u8k"),T(r,"class","button svelte-1is7u8k"),T(u,"class","new-tab-container svelte-1is7u8k"),T(d,"class","logout button svelte-1is7u8k"),T(_,"class","logout-container svelte-1is7u8k"),T(k,"class","clone svelte-1is7u8k"),M(k,"dragging",s[1]),T(e,"class","tabbar svelte-1is7u8k"),T(D,"class","separator svelte-1is7u8k"),T(t,"class","svelte-1is7u8k")},m(m,h){j(m,t,h),C(t,e),C(e,n);for(let y=0;y<a.length;y+=1)a[y]&&a[y].m(n,null);s[19](n),C(e,i),C(e,u),C(u,r),C(e,b),C(e,_),C(_,d),C(e,f),C(e,k),de(v,k,null),s[20](k),C(t,E),C(t,D),s[21](t),N=!0,O||(z=[W(r,"click",s[10]),W(d,"click",function(){re(s[0])&&s[0].apply(this,arguments)})],O=!0)},p(m,h){s=m,h[0]&27400&&(R=ke(s[9].tabs),ge(),a=tt(a,h,I,1,s,R,l,n,et,He,null,Ae),he());const y={};h[0]&16&&(y.title=s[4]),h[0]&64&&(y.active=!s[6]),v.$set(y),(!N||h[0]&2)&&M(k,"dragging",s[1])},i(m){if(!N){for(let h=0;h<R.length;h+=1)B(a[h]);B(v.$$.fragment,m),N=!0}},o(m){for(let h=0;h<a.length;h+=1)P(a[h]);P(v.$$.fragment,m),N=!1},d(m){m&&L(t);for(let h=0;h<a.length;h+=1)a[h].d();s[19](null),me(v),s[20](null),s[21](null),O=!1,Ie(z)}}}const at=12,_e=140,ae=70,ie=200,it=1600,Me=.3;function rt(s,t,e){let n;we(s,ne,o=>e(9,n=o));let{logout:a=()=>{}}=t,l,i=[],u=0,r=null,g=-1,b="",_,d,c,f=!1,k=!1,v=0,E=0,D=0,N,O=!1;const z=(o,p=300)=>{let w;return(...S)=>{clearTimeout(w),w=setTimeout(()=>{o.apply(void 0,S)},p)}};function R(){F.newTab()}const I=o=>{if(!i[o]){console.warn("Cannot close tab!");return}u=i[o].getBoundingClientRect().width,o<n.tabs.length-1&&(l.style.setProperty("--tab-max-width",`${u}px`),m()),o==n.tabs.length-1?F.setActiveIndex(o-1):o==n.activeIndex&&F.setActiveIndex(o+1),Ee({duration:ie,easing:J,onStep:(p,w)=>{o==0?e(2,l.style.gridTemplateColumns=`minmax(${w*ae}px, ${w*u}px)`,l):e(2,l.style.gridTemplateColumns=`repeat(${o}, minmax(var(--tab-min-width), var(--tab-max-width))) minmax(${w*ae}px, ${w*u}px)`,l)},onEnd:()=>{e(2,l.style.gridTemplateColumns="",l),F.removeTab(o)}})},m=z(()=>{l&&(l.style.setProperty("--tab-max-width",`${_e}px`),Ee({duration:ie,easing:J,onStep:(o,p)=>{l.style.setProperty("--tab-max-width",`${u+o*(_e-u)}px`)},onEnd:()=>{l.style.setProperty("--tab-max-width",`${_e}px`)}}))},it);function h(o){if(!l)return;const p=o.getBoundingClientRect().width;Ee({duration:ie,easing:J,onStep:(w,S)=>{n.tabs.length==1?e(2,l.style.gridTemplateColumns=`minmax(${w*ae}px, ${w*p}px)`,l):e(2,l.style.gridTemplateColumns=`repeat(${n.tabs.length-1}, minmax(var(--tab-min-width), var(--tab-max-width))) minmax(${w*ae}px, ${w*p}px)`,l),e(2,l.scrollLeft=l.scrollWidth,l)},onEnd:()=>{e(2,l.style.gridTemplateColumns="",l)}})}const y=(o,p)=>{const w=i[0].getBoundingClientRect().width;F.moveTab(o,p,()=>{if(o>p)for(let S=p;S<o;S++)Se(i[S],{duration:ie,easing:J,css:(se,q)=>`transform: translateX(-${q*w}px);`});if(o<p)for(let S=p;S>o;S--)Se(i[S],{duration:ie,easing:J,css:(se,q)=>`transform: translateX(${q*w}px);`})})};function pe(o){!o.target||!o.dataTransfer||(o.dataTransfer.setData("text/plain",g.toString()),o.dataTransfer.setDragImage(new Image,0,0))}function ve(o,p){if(o==0&&p==0){e(5,c.style.left="-1000px",c),e(5,c.style.top="-1000px",c);return}let w=N.getBoundingClientRect();if(o<w.left||o>w.right||p<w.top||p>w.bottom){k||(D=0),e(5,c.style.left=`${o+v}px`,c),e(5,c.style.top=`${p+E}px`,c),e(6,k=!0);return}k&&e(6,k=!1),e(5,c.style.left=`${o+v}px`,c),e(5,c.style.top=`${d.top}px`,c);const S=-l.scrollLeft,se=i[0].getBoundingClientRect().width;let q=-1;if(o>S+n.tabs.length*se)q=n.tabs.length-1;else for(let le=0;le<n.tabs.length;le++)if(o>S+le*se&&o<S+(le+1)*se){q=le;break}o<20?(D=-Me,requestAnimationFrame(x)):o>l.clientWidth-10?(D=Me,requestAnimationFrame(x)):D=0,!(q==-1||q==n.placeholderIndex)&&y(n.placeholderIndex,q)}let Q=0;function x(o){if(!f||D==0){Q=0;return}Q==0&&(Q=o);const p=o-Q;Q=o,l.scrollBy({left:D*p}),requestAnimationFrame(x)}function $(o,p){if(!o.target)return;let w,S;o instanceof TouchEvent?(w=o.touches[0].clientX,S=o.touches[0].clientY):(w=o.clientX,S=o.clientY),window.addEventListener("touchmove",ee,{passive:!1}),window.addEventListener("touchend",G),window.addEventListener("mousemove",ee),window.addEventListener("mouseup",G),window.addEventListener("drag",ee),window.addEventListener("dragend",G),window.addEventListener("blur",G),F.setActiveIndex(p),_=o.target,d=_.getBoundingClientRect(),r=[w,S],v=d.left-w,E=d.top-S,e(5,c.style.width=`${d.width}px`,c),e(5,c.style.left=`${d.left}px`,c),e(5,c.style.top=`${d.top}px`,c),g=p,e(4,b=n.tabs[p].title)}function ee(o){let p,w;if(o instanceof TouchEvent?(p=o.touches[0].clientX,w=o.touches[0].clientY,o.preventDefault()):(p=o.clientX,w=o.clientY),f){ve(p,w);return}r===null||Math.hypot(r[0]-p,r[1]-w)<at||(e(1,f=!0),F.setPlaceholderIndex(g),F.setActiveIndex(g))}function G(){window.removeEventListener("touchmove",ee),window.removeEventListener("touchend",G),window.removeEventListener("mousemove",ee),window.removeEventListener("mouseup",G),window.removeEventListener("drag",ee),window.removeEventListener("dragend",G),window.removeEventListener("blur",G),r=null,e(6,k=!1),g=-1,v=0,E=0,F.setPlaceholderIndex(),e(1,f=!1)}Ne(()=>{l.style.setProperty("--tab-max-width",`${_e}px`),l.style.setProperty("--tab-min-width",`${ae}px`)});const qe=o=>I(o),Fe=(o,p)=>$(p,o);function We(o,p){s.$$.not_equal(n.tabs[p].title,o)&&(n.tabs[p].title=o,ne.set(n))}function Ue(o,p){Z[o?"unshift":"push"](()=>{i[p]=o,e(3,i)})}function Xe(o){Z[o?"unshift":"push"](()=>{l=o,e(2,l)})}function Ye(o){Z[o?"unshift":"push"](()=>{c=o,e(5,c)})}function je(o){Z[o?"unshift":"push"](()=>{N=o,e(7,N)})}return s.$$set=o=>{"logout"in o&&e(0,a=o.logout)},s.$$.update=()=>{s.$$.dirty[0]&2&&(f?e(8,O=!0):setTimeout(()=>e(8,O=!1),20))},[a,f,l,i,b,c,k,N,O,n,R,I,h,pe,$,qe,Fe,We,Ue,Xe,Ye,je]}class ot extends ye{constructor(t){super(),Te(this,t,rt,lt,ue,{logout:0},null,[-1,-1])}}function ut(s){let t,e;return{c(){t=A("div"),e=A("div"),this.h()},l(n){t=H(n,"DIV",{class:!0});var a=V(t);e=H(a,"DIV",{class:!0}),V(e).forEach(L),a.forEach(L),this.h()},h(){T(e,"class","quill-editor svelte-1kerahx"),T(t,"class","quill-editor-wrapper svelte-1kerahx"),M(t,"disabled",s[0])},m(n,a){j(n,t,a),C(t,e),s[3](e)},p(n,[a]){a&1&&M(t,"disabled",n[0])},i:Y,o:Y,d(n){n&&L(t),s[3](null)}}}function ct(s,t,e){let n;we(s,ne,d=>e(4,n=d));let{disabled:a=!1}=t,l,i;function u(){l&&l.setContents(n.tabs[n.activeIndex].ops)}function r(){l&&ze(ne,n.tabs[n.activeIndex].ops=l.getContents().ops,n)}function g(d,c,f){f==="user"&&r()}async function b(){const{default:d}=await xe(async()=>{const{default:c}=await import("../chunks/quill.k3P2vbB8.js");return{default:c}},[],import.meta.url);e(2,l=new d(i,{formats:["bold","italic","underline","strike","code"],placeholder:"Enter text here"})),u(),l.on("text-change",g),l.keyboard.addBinding({key:"/",altKey:!0},()=>{l.format("code",!l.getFormat().code)}),l.keyboard.addBinding({key:"-",altKey:!0},()=>{l.format("strike",!l.getFormat().strike)})}Ne(()=>{b()});function _(d){Z[d?"unshift":"push"](()=>{i=d,e(1,i)})}return s.$$set=d=>{"disabled"in d&&e(0,a=d.disabled)},s.$$.update=()=>{s.$$.dirty&5&&(a?l==null||l.disable():l==null||l.enable())},[a,i,l,_]}class ft extends ye{constructor(t){super(),Te(this,t,ct,ut,ue,{disabled:0})}}function Be(s,t,e){const n=s.slice();return n[2]=t[e],n[4]=e,n}function dt(s){let t,e;return t=new $e({}),{c(){ce(t.$$.fragment)},l(n){fe(t.$$.fragment,n)},m(n,a){de(t,n,a),e=!0},p:Y,i(n){e||(B(t.$$.fragment,n),e=!0)},o(n){P(t.$$.fragment,n),e=!1},d(n){me(t,n)}}}function gt(s){let t,e,n,a,l,i,u,r=`<span class="status-icon svelte-1aolk3j" style="-webkit-mask: url(${K}/images/svg/double-checkmark.svg) no-repeat center / contain; mask: url(${K}/images/svg/double-checkmark.svg) no-repeat center / contain;"></span>`,g;e=new ot({props:{logout:Re.logout}});const b=[mt,ht],_=[];function d(c,f){return c[0].tabs.length>0?0:1}return a=d(s),l=_[a]=b[a](s),{c(){t=A("div"),ce(e.$$.fragment),n=U(),l.c(),i=U(),u=A("div"),u.innerHTML=r,this.h()},l(c){t=H(c,"DIV",{class:!0});var f=V(t);fe(e.$$.fragment,f),n=X(f),l.l(f),i=X(f),u=H(f,"DIV",{class:!0,"data-svelte-h":!0}),oe(u)!=="svelte-1suu8lh"&&(u.innerHTML=r),f.forEach(L),this.h()},h(){T(u,"class","status svelte-1aolk3j"),M(u,"saving",s[1].savingStatus==="saving"),M(u,"saved",s[1].savingStatus==="saved"),M(u,"error",s[1].savingStatus==="error"),T(t,"class","container svelte-1aolk3j")},m(c,f){j(c,t,f),de(e,t,null),C(t,n),_[a].m(t,null),C(t,i),C(t,u),g=!0},p(c,f){let k=a;a=d(c),a===k?_[a].p(c,f):(ge(),P(_[k],1,1,()=>{_[k]=null}),he(),l=_[a],l?l.p(c,f):(l=_[a]=b[a](c),l.c()),B(l,1),l.m(t,i)),(!g||f&2)&&M(u,"saving",c[1].savingStatus==="saving"),(!g||f&2)&&M(u,"saved",c[1].savingStatus==="saved"),(!g||f&2)&&M(u,"error",c[1].savingStatus==="error")},i(c){g||(B(e.$$.fragment,c),B(l),g=!0)},o(c){P(e.$$.fragment,c),P(l),g=!1},d(c){c&&L(t),me(e),_[a].d()}}}function ht(s){let t;return{c(){t=A("div"),this.h()},l(e){t=H(e,"DIV",{class:!0}),V(t).forEach(L),this.h()},h(){T(t,"class","editor-placeholder svelte-1aolk3j")},m(e,n){j(e,t,n)},p:Y,i:Y,o:Y,d(e){e&&L(t)}}}function mt(s){let t=s[0].activeIndex,e,n,a=Ve(s);return{c(){a.c(),e=te()},l(l){a.l(l),e=te()},m(l,i){a.m(l,i),j(l,e,i),n=!0},p(l,i){i&1&&ue(t,t=l[0].activeIndex)?(ge(),P(a,1,1,Y),he(),a=Ve(l),a.c(),B(a,1),a.m(e.parentNode,e)):a.p(l,i)},i(l){n||(B(a),n=!0)},o(l){P(a),n=!1},d(l){l&&L(e),a.d(l)}}}function Pe(s){let t,e;return t=new ft({props:{disabled:s[4]!==s[0].activeIndex}}),{c(){ce(t.$$.fragment)},l(n){fe(t.$$.fragment,n)},m(n,a){de(t,n,a),e=!0},p(n,a){const l={};a&1&&(l.disabled=n[4]!==n[0].activeIndex),t.$set(l)},i(n){e||(B(t.$$.fragment,n),e=!0)},o(n){P(t.$$.fragment,n),e=!1},d(n){me(t,n)}}}function Ve(s){let t,e,n=ke(s[0].tabs),a=[];for(let i=0;i<n.length;i+=1)a[i]=Pe(Be(s,n,i));const l=i=>P(a[i],1,1,()=>{a[i]=null});return{c(){for(let i=0;i<a.length;i+=1)a[i].c();t=te()},l(i){for(let u=0;u<a.length;u+=1)a[u].l(i);t=te()},m(i,u){for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(i,u);j(i,t,u),e=!0},p(i,u){if(u&1){n=ke(i[0].tabs);let r;for(r=0;r<n.length;r+=1){const g=Be(i,n,r);a[r]?(a[r].p(g,u),B(a[r],1)):(a[r]=Pe(g),a[r].c(),B(a[r],1),a[r].m(t.parentNode,t))}for(ge(),r=n.length;r<a.length;r+=1)l(r);he()}},i(i){if(!e){for(let u=0;u<n.length;u+=1)B(a[u]);e=!0}},o(i){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)P(a[u]);e=!1},d(i){i&&L(t),Ze(a,i)}}}function pt(s){let t,e,n,a;const l=[gt,dt],i=[];function u(r,g){return r[1].currentUser?0:1}return t=u(s),e=i[t]=l[t](s),{c(){e.c(),n=te()},l(r){e.l(r),n=te()},m(r,g){i[t].m(r,g),j(r,n,g),a=!0},p(r,[g]){let b=t;t=u(r),t===b?i[t].p(r,g):(ge(),P(i[b],1,1,()=>{i[b]=null}),he(),e=i[t],e?e.p(r,g):(e=i[t]=l[t](r),e.c()),B(e,1),e.m(n.parentNode,n))},i(r){a||(B(e),a=!0)},o(r){P(e),a=!1},d(r){r&&L(n),i[t].d(r)}}}function vt(s,t,e){let n,a;return we(s,ne,l=>e(0,n=l)),we(s,Le,l=>e(1,a=l)),ne.subscribe(l=>{const i=l.tabs.map(u=>JSON.stringify(u));Le.update(u=>({...u,data:{activeIndex:n.activeIndex,tabs:i}})),Re.publish()}),[n,a]}class It extends ye{constructor(t){super(),Te(this,t,vt,pt,ue,{})}}export{It as component};
