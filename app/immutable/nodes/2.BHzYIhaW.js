import{s as ie,n as W,r as Ve,i as ae,x as Qe,b as J,c as ke,o as Ne,y as ze,z as Ge,A as Je}from"../chunks/scheduler.cfeIpFhx.js";import{S as ye,i as Te,e as L,s as q,c as S,d as M,v as oe,h as F,g as E,w as k,z as A,j as U,k as T,C as Ie,x as O,F as be,G as De,I as Ke,p as ue,q as ce,r as fe,o as de,n as ge,a as B,t as P,u as pe,J as Ze,m as $,y as xe}from"../chunks/index.BC2r3XlJ.js";import{e as we,u as $e,o as et}from"../chunks/each.qM7zWQQ9.js";import{b as j}from"../chunks/paths.bXkiZD-u.js";import{a as ee,t as R}from"../chunks/tabsStore.tZ-wagmx.js";import{_ as tt}from"../chunks/preload-helper.D6kgxu3v.js";import{S as nt}from"../chunks/Spinner.mMaK95Dt.js";import{a as Ce,f as Re}from"../chunks/firebaseStore.BnHnmvqp.js";function st(l){let t,e,n="",r,s,a,u,o,d=`<span class="close-icon svelte-1yt14my" style="-webkit-mask: url(${j}/images/svg/cancel.svg) no-repeat center / contain; mask: url(${j}/images/svg/cancel.svg) no-repeat center / contain;"></span>`,v,m;return{c(){t=L("div"),e=L("button"),e.innerHTML=n,r=q(),s=L("div"),a=L("input"),u=q(),o=L("button"),o.innerHTML=d,this.h()},l(g){t=S(g,"DIV",{class:!0});var c=M(t);e=S(c,"BUTTON",{class:!0,draggable:!0,"data-svelte-h":!0}),oe(e)!=="svelte-1m2idpq"&&(e.innerHTML=n),r=F(c),s=S(c,"DIV",{class:!0});var f=M(s);a=S(f,"INPUT",{autocorrect:!0,autocomplete:!0,spellcheck:!0,type:!0,class:!0}),u=F(f),o=S(f,"BUTTON",{class:!0,draggable:!0,"data-svelte-h":!0}),oe(o)!=="svelte-97uq8h"&&(o.innerHTML=d),f.forEach(E),c.forEach(E),this.h()},h(){k(e,"class","tab svelte-1yt14my"),k(e,"draggable","true"),A(e,"active",l[1]),k(a,"autocorrect","off"),k(a,"autocomplete","off"),k(a,"spellcheck","false"),k(a,"type","text"),k(a,"class","svelte-1yt14my"),k(o,"class","close-button svelte-1yt14my"),k(o,"draggable","true"),k(s,"class","tab-wrapper svelte-1yt14my"),k(t,"class","container svelte-1yt14my"),A(t,"preventHover",l[2])},m(g,c){U(g,t,c),T(t,e),T(t,r),T(t,s),T(s,a),l[9](a),Ie(a,l[0]),T(s,u),T(s,o),v||(m=[O(e,"dblclick",be(l[8])),O(e,"mousedown",be(function(){ae(l[4])&&l[4].apply(this,arguments)})),O(e,"touchstart",be(function(){ae(l[4])&&l[4].apply(this,arguments)})),O(e,"dragstart",be(function(){ae(l[5])&&l[5].apply(this,arguments)})),O(a,"input",l[10]),O(o,"click",De(function(){ae(l[3])&&l[3].apply(this,arguments)})),O(o,"dragstart",De(Ke(l[7])))],v=!0)},p(g,[c]){l=g,c&2&&A(e,"active",l[1]),c&1&&a.value!==l[0]&&Ie(a,l[0]),c&4&&A(t,"preventHover",l[2])},i:W,o:W,d(g){g&&E(t),l[9](null),v=!1,Ve(m)}}}function rt(l,t,e){let{title:n=""}=t,{active:r=!1}=t,{preventHover:s=!1}=t,{onClose:a=()=>{}}=t,{onPointerdown:u=f=>{}}=t,{onDragstart:o=f=>{}}=t,d;function v(f){Qe.call(this,l,f)}const m=()=>d.select();function g(f){J[f?"unshift":"push"](()=>{d=f,e(6,d)})}function c(){n=this.value,e(0,n)}return l.$$set=f=>{"title"in f&&e(0,n=f.title),"active"in f&&e(1,r=f.active),"preventHover"in f&&e(2,s=f.preventHover),"onClose"in f&&e(3,a=f.onClose),"onPointerdown"in f&&e(4,u=f.onPointerdown),"onDragstart"in f&&e(5,o=f.onDragstart)},[n,r,s,a,u,o,d,v,m,g,c]}class Oe extends ye{constructor(t){super(),Te(this,t,rt,st,ie,{title:0,active:1,preventHover:2,onClose:3,onPointerdown:4,onDragstart:5})}}function G(l){return l<.5?4*l*l*l:.5*Math.pow(2*l-2,3)+1}const Le=(l,t)=>{const{duration:e=300,easing:n=G,onEnd:r=()=>{},onStep:s=()=>{},css:a}=t;let u;function o(d){if(!l){console.warn("Cannot find element to animate");return}u===void 0&&(u=d);const v=n((d-u)/e),m=1-v;v<1?(l.style.cssText=a(v,m),s(v,m),requestAnimationFrame(o)):(l.style.cssText="",r())}requestAnimationFrame(o)},Ee=l=>{const{duration:t=300,easing:e=G,onEnd:n=()=>{},onStep:r=()=>{}}=l;let s;function a(u){s===void 0&&(s=u);const o=e((u-s)/t),d=1-o;o<1?(r(o,d),requestAnimationFrame(a)):n()}requestAnimationFrame(a)};function Se(l,t,e){const n=l.slice();return n[38]=t[e],n[39]=t,n[40]=e,n}function He(l,t){let e,n,r,s,a=t[40],u,o,d;function v(){return t[15](t[40])}function m(...b){return t[16](t[40],...b)}function g(b){t[17](b,t[40])}let c={active:t[9].activeIndex==t[40],preventHover:t[8],onClose:v,onPointerdown:m,onDragstart:t[13]};t[9].tabs[t[40]].title!==void 0&&(c.title=t[9].tabs[t[40]].title),n=new Oe({props:c}),J.push(()=>Ze(n,"title",g));const f=()=>t[18](e,a),y=()=>t[18](null,a);return{key:l,first:null,c(){e=L("div"),ue(n.$$.fragment),s=q(),this.h()},l(b){e=S(b,"DIV",{class:!0});var D=M(e);ce(n.$$.fragment,D),s=F(D),D.forEach(E),this.h()},h(){k(e,"class","tab-container svelte-1is7u8k"),A(e,"placeholder",t[9].placeholderIndex==t[40]),this.first=e},m(b,D){U(b,e,D),fe(n,e,null),T(e,s),f(),u=!0,o||(d=ze(t[12].call(null,e)),o=!0)},p(b,D){t=b;const H={};D[0]&512&&(H.active=t[9].activeIndex==t[40]),D[0]&256&&(H.preventHover=t[8]),D[0]&512&&(H.onClose=v),D[0]&512&&(H.onPointerdown=m),!r&&D[0]&512&&(r=!0,H.title=t[9].tabs[t[40]].title,Ge(()=>r=!1)),n.$set(H),a!==t[40]&&(y(),a=t[40],f()),(!u||D[0]&512)&&A(e,"placeholder",t[9].placeholderIndex==t[40])},i(b){u||(B(n.$$.fragment,b),u=!0)},o(b){P(n.$$.fragment,b),u=!1},d(b){b&&E(e),pe(n),y(),o=!1,d()}}}function lt(l){let t,e,n,r=[],s=new Map,a,u,o,d=`<span class="button-icon svelte-1is7u8k" style="-webkit-mask: url(${j}/images/svg/plus.svg) no-repeat center / contain; mask: url(${j}/images/svg/plus.svg) no-repeat center / contain;"></span>`,v,m,g,c=`<span class="button-icon svelte-1is7u8k" style="-webkit-mask: url(${j}/images/svg/logout.svg) no-repeat center / contain; mask: url(${j}/images/svg/logout.svg) no-repeat center / contain;"></span>`,f,y,b,D,H,V,Q,me,z=we(l[9].tabs);const te=w=>w[38];for(let w=0;w<z.length;w+=1){let _=Se(l,z,w),I=te(_);s.set(I,r[w]=He(I,_))}return b=new Oe({props:{title:l[4],active:!l[6],preventHover:!0}}),{c(){t=L("div"),e=L("div"),n=L("div");for(let w=0;w<r.length;w+=1)r[w].c();a=q(),u=L("div"),o=L("button"),o.innerHTML=d,v=q(),m=L("div"),g=L("button"),g.innerHTML=c,f=q(),y=L("div"),ue(b.$$.fragment),D=q(),H=L("div"),this.h()},l(w){t=S(w,"DIV",{class:!0});var _=M(t);e=S(_,"DIV",{class:!0});var I=M(e);n=S(I,"DIV",{class:!0});var he=M(n);for(let Z=0;Z<r.length;Z+=1)r[Z].l(he);he.forEach(E),a=F(I),u=S(I,"DIV",{class:!0});var ve=M(u);o=S(ve,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(o)!=="svelte-g0ls06"&&(o.innerHTML=d),ve.forEach(E),v=F(I),m=S(I,"DIV",{class:!0});var X=M(m);g=S(X,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(g)!=="svelte-1df52fh"&&(g.innerHTML=c),X.forEach(E),f=F(I),y=S(I,"DIV",{class:!0});var K=M(y);ce(b.$$.fragment,K),K.forEach(E),I.forEach(E),D=F(_),H=S(_,"DIV",{class:!0}),M(H).forEach(E),_.forEach(E),this.h()},h(){k(n,"class","tabs svelte-1is7u8k"),k(o,"class","button svelte-1is7u8k"),k(u,"class","new-tab-container svelte-1is7u8k"),k(g,"class","logout button svelte-1is7u8k"),k(m,"class","logout-container svelte-1is7u8k"),k(y,"class","clone svelte-1is7u8k"),A(y,"dragging",l[1]),k(e,"class","tabbar svelte-1is7u8k"),k(H,"class","separator svelte-1is7u8k"),k(t,"class","svelte-1is7u8k")},m(w,_){U(w,t,_),T(t,e),T(e,n);for(let I=0;I<r.length;I+=1)r[I]&&r[I].m(n,null);l[19](n),T(e,a),T(e,u),T(u,o),T(e,v),T(e,m),T(m,g),T(e,f),T(e,y),fe(b,y,null),l[20](y),T(t,D),T(t,H),l[21](t),V=!0,Q||(me=[O(o,"click",l[10]),O(g,"click",function(){ae(l[0])&&l[0].apply(this,arguments)})],Q=!0)},p(w,_){l=w,_[0]&27400&&(z=we(l[9].tabs),de(),r=$e(r,_,te,1,l,z,s,n,et,He,null,Se),ge());const I={};_[0]&16&&(I.title=l[4]),_[0]&64&&(I.active=!l[6]),b.$set(I),(!V||_[0]&2)&&A(y,"dragging",l[1])},i(w){if(!V){for(let _=0;_<z.length;_+=1)B(r[_]);B(b.$$.fragment,w),V=!0}},o(w){for(let _=0;_<r.length;_+=1)P(r[_]);P(b.$$.fragment,w),V=!1},d(w){w&&E(t);for(let _=0;_<r.length;_+=1)r[_].d();l[19](null),pe(b),l[20](null),l[21](null),Q=!1,Ve(me)}}}const at=12,_e=140,re=70,le=200,ot=1600,Ae=.3;function it(l,t,e){let n;ke(l,ee,i=>e(9,n=i));let{logout:r=()=>{}}=t,s,a=[],u=0,o=null,d=-1,v="",m,g,c,f=!1,y=!1,b=0,D=0,H=0,V,Q=!1;const me=(i,p=300)=>{let h;return(...C)=>{clearTimeout(h),h=setTimeout(()=>{i.apply(void 0,C)},p)}};function z(){R.newTab()}const te=i=>{if(!a[i]){console.warn("Cannot close tab!");return}u=a[i].getBoundingClientRect().width,i<n.tabs.length-1&&(s.style.setProperty("--tab-max-width",`${u}px`),w()),i==n.tabs.length-1?R.setActiveIndex(i-1):i==n.activeIndex&&R.setActiveIndex(i+1),Ee({duration:le,easing:G,onStep:(p,h)=>{i==0?e(2,s.style.gridTemplateColumns=`minmax(${h*re}px, ${h*u}px)`,s):e(2,s.style.gridTemplateColumns=`repeat(${i}, minmax(var(--tab-min-width), var(--tab-max-width))) minmax(${h*re}px, ${h*u}px)`,s)},onEnd:()=>{e(2,s.style.gridTemplateColumns="",s),R.removeTab(i)}})},w=me(()=>{s&&(s.style.setProperty("--tab-max-width",`${_e}px`),Ee({duration:le,easing:G,onStep:(i,p)=>{s.style.setProperty("--tab-max-width",`${u+i*(_e-u)}px`)},onEnd:()=>{s.style.setProperty("--tab-max-width",`${_e}px`)}}))},ot);function _(i){if(!s)return;const p=i.getBoundingClientRect().width;Ee({duration:le,easing:G,onStep:(h,C)=>{n.tabs.length==1?e(2,s.style.gridTemplateColumns=`minmax(${h*re}px, ${h*p}px)`,s):e(2,s.style.gridTemplateColumns=`repeat(${n.tabs.length-1}, minmax(var(--tab-min-width), var(--tab-max-width))) minmax(${h*re}px, ${h*p}px)`,s),e(2,s.scrollLeft=s.scrollWidth,s)},onEnd:()=>{e(2,s.style.gridTemplateColumns="",s)}})}const I=(i,p)=>{const h=a[0].getBoundingClientRect().width;R.moveTab(i,p,()=>{if(i>p)for(let C=p;C<i;C++)Le(a[C],{duration:le,easing:G,css:(ne,N)=>`transform: translateX(-${N*h}px);`});if(i<p)for(let C=p;C>i;C--)Le(a[C],{duration:le,easing:G,css:(ne,N)=>`transform: translateX(${N*h}px);`})})};function he(i){!i.target||!i.dataTransfer||(i.dataTransfer.setData("text/plain",d.toString()),i.dataTransfer.setDragImage(new Image,0,0))}function ve(i,p){if(i==0&&p==0){e(5,c.style.left="-1000px",c),e(5,c.style.top="-1000px",c);return}let h=V.getBoundingClientRect();if(i<h.left||i>h.right||p<h.top||p>h.bottom){y||(H=0),e(5,c.style.left=`${i+b}px`,c),e(5,c.style.top=`${p+D}px`,c),e(6,y=!0);return}y&&e(6,y=!1),e(5,c.style.left=`${i+b}px`,c),e(5,c.style.top=`${g.top}px`,c);const C=-s.scrollLeft,ne=a[0].getBoundingClientRect().width;let N=-1;if(i>C+n.tabs.length*ne)N=n.tabs.length-1;else for(let se=0;se<n.tabs.length;se++)if(i>C+se*ne&&i<C+(se+1)*ne){N=se;break}i<20?(H=-Ae,requestAnimationFrame(K)):i>s.clientWidth-10?(H=Ae,requestAnimationFrame(K)):H=0,!(N==-1||N==n.placeholderIndex)&&I(n.placeholderIndex,N)}let X=0;function K(i){if(!f||H==0){X=0;return}X==0&&(X=i);const p=i-X;X=i,s.scrollBy({left:H*p}),requestAnimationFrame(K)}function Z(i,p){if(!i.target)return;let h,C;i instanceof TouchEvent?(h=i.touches[0].clientX,C=i.touches[0].clientY):(h=i.clientX,C=i.clientY),window.addEventListener("touchmove",x,{passive:!1}),window.addEventListener("touchend",Y),window.addEventListener("mousemove",x),window.addEventListener("mouseup",Y),window.addEventListener("drag",x),window.addEventListener("dragend",Y),window.addEventListener("blur",Y),R.setActiveIndex(p),m=i.target,g=m.getBoundingClientRect(),o=[h,C],b=g.left-h,D=g.top-C,e(5,c.style.width=`${g.width}px`,c),e(5,c.style.left=`${g.left}px`,c),e(5,c.style.top=`${g.top}px`,c),d=p,e(4,v=n.tabs[p].title)}function x(i){let p,h;if(i instanceof TouchEvent?(p=i.touches[0].clientX,h=i.touches[0].clientY,i.preventDefault()):(p=i.clientX,h=i.clientY),f){ve(p,h);return}o===null||Math.hypot(o[0]-p,o[1]-h)<at||(e(1,f=!0),R.setPlaceholderIndex(d),R.setActiveIndex(d))}function Y(){window.removeEventListener("touchmove",x),window.removeEventListener("touchend",Y),window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",Y),window.removeEventListener("drag",x),window.removeEventListener("dragend",Y),window.removeEventListener("blur",Y),o=null,e(6,y=!1),d=-1,b=0,D=0,R.setPlaceholderIndex(),e(1,f=!1)}Ne(()=>{s.style.setProperty("--tab-max-width",`${_e}px`),s.style.setProperty("--tab-min-width",`${re}px`)});const qe=i=>te(i),Fe=(i,p)=>Z(p,i);function We(i,p){l.$$.not_equal(n.tabs[p].title,i)&&(n.tabs[p].title=i,ee.set(n))}function Ue(i,p){J[i?"unshift":"push"](()=>{a[p]=i,e(3,a)})}function Xe(i){J[i?"unshift":"push"](()=>{s=i,e(2,s)})}function Ye(i){J[i?"unshift":"push"](()=>{c=i,e(5,c)})}function je(i){J[i?"unshift":"push"](()=>{V=i,e(7,V)})}return l.$$set=i=>{"logout"in i&&e(0,r=i.logout)},l.$$.update=()=>{l.$$.dirty[0]&2&&(f?e(8,Q=!0):setTimeout(()=>e(8,Q=!1),20))},[r,f,s,a,v,c,y,V,Q,n,z,te,_,he,Z,qe,Fe,We,Ue,Xe,Ye,je]}class ut extends ye{constructor(t){super(),Te(this,t,it,lt,ie,{logout:0},null,[-1,-1])}}function ct(l){let t,e;return{c(){t=L("div"),e=L("div"),this.h()},l(n){t=S(n,"DIV",{class:!0});var r=M(t);e=S(r,"DIV",{class:!0}),M(e).forEach(E),r.forEach(E),this.h()},h(){k(e,"class","quill-editor svelte-1kerahx"),k(t,"class","quill-editor-wrapper svelte-1kerahx"),A(t,"disabled",l[0])},m(n,r){U(n,t,r),T(t,e),l[3](e)},p(n,[r]){r&1&&A(t,"disabled",n[0])},i:W,o:W,d(n){n&&E(t),l[3](null)}}}function ft(l,t,e){let n;ke(l,ee,g=>e(4,n=g));let{disabled:r=!1}=t,s,a;function u(){s&&s.setContents(n.tabs[n.activeIndex].ops)}function o(){s&&Je(ee,n.tabs[n.activeIndex].ops=s.getContents().ops,n)}function d(g,c,f){f==="user"&&o()}async function v(){const{default:g}=await tt(async()=>{const{default:c}=await import("../chunks/quill.k3P2vbB8.js");return{default:c}},[],import.meta.url);e(2,s=new g(a,{formats:["bold","italic","underline","strike","code"],placeholder:"Enter text here"})),u(),s.on("text-change",d),s.keyboard.addBinding({key:"/",altKey:!0},()=>{s.format("code",!s.getFormat().code)}),s.keyboard.addBinding({key:"-",altKey:!0},()=>{s.format("strike",!s.getFormat().strike)})}Ne(()=>{v()});function m(g){J[g?"unshift":"push"](()=>{a=g,e(1,a)})}return l.$$set=g=>{"disabled"in g&&e(0,r=g.disabled)},l.$$.update=()=>{l.$$.dirty&5&&(r?s==null||s.disable():s==null||s.enable())},[r,a,s,m]}class dt extends ye{constructor(t){super(),Te(this,t,ft,ct,ie,{disabled:0})}}function Be(l,t,e){const n=l.slice();return n[2]=t[e],n[4]=e,n}function gt(l){let t,e;return t=new nt({}),{c(){ue(t.$$.fragment)},l(n){ce(t.$$.fragment,n)},m(n,r){fe(t,n,r),e=!0},p:W,i(n){e||(B(t.$$.fragment,n),e=!0)},o(n){P(t.$$.fragment,n),e=!1},d(n){pe(t,n)}}}function pt(l){let t,e,n,r,s,a,u,o=`<span class="status-icon svelte-1aolk3j" style="-webkit-mask: url(${j}/images/svg/double-checkmark.svg) no-repeat center / contain; mask: url(${j}/images/svg/double-checkmark.svg) no-repeat center / contain;"></span>`,d;e=new ut({props:{logout:Re.logout}});const v=[ht,mt],m=[];function g(c,f){return c[0].tabs.length>0?0:1}return r=g(l),s=m[r]=v[r](l),{c(){t=L("div"),ue(e.$$.fragment),n=q(),s.c(),a=q(),u=L("div"),u.innerHTML=o,this.h()},l(c){t=S(c,"DIV",{class:!0});var f=M(t);ce(e.$$.fragment,f),n=F(f),s.l(f),a=F(f),u=S(f,"DIV",{class:!0,"data-svelte-h":!0}),oe(u)!=="svelte-1suu8lh"&&(u.innerHTML=o),f.forEach(E),this.h()},h(){k(u,"class","status svelte-1aolk3j"),A(u,"saving",l[1].savingStatus==="saving"),A(u,"saved",l[1].savingStatus==="saved"),A(u,"error",l[1].savingStatus==="error"),k(t,"class","container svelte-1aolk3j")},m(c,f){U(c,t,f),fe(e,t,null),T(t,n),m[r].m(t,null),T(t,a),T(t,u),d=!0},p(c,f){let y=r;r=g(c),r===y?m[r].p(c,f):(de(),P(m[y],1,1,()=>{m[y]=null}),ge(),s=m[r],s?s.p(c,f):(s=m[r]=v[r](c),s.c()),B(s,1),s.m(t,a)),(!d||f&2)&&A(u,"saving",c[1].savingStatus==="saving"),(!d||f&2)&&A(u,"saved",c[1].savingStatus==="saved"),(!d||f&2)&&A(u,"error",c[1].savingStatus==="error")},i(c){d||(B(e.$$.fragment,c),B(s),d=!0)},o(c){P(e.$$.fragment,c),P(s),d=!1},d(c){c&&E(t),pe(e),m[r].d()}}}function mt(l){let t;return{c(){t=L("div"),this.h()},l(e){t=S(e,"DIV",{class:!0}),M(t).forEach(E),this.h()},h(){k(t,"class","editor-placeholder svelte-1aolk3j")},m(e,n){U(e,t,n)},p:W,i:W,o:W,d(e){e&&E(t)}}}function ht(l){let t=l[0].activeIndex,e,n,r=Pe(l);return{c(){r.c(),e=$()},l(s){r.l(s),e=$()},m(s,a){r.m(s,a),U(s,e,a),n=!0},p(s,a){a&1&&ie(t,t=s[0].activeIndex)?(de(),P(r,1,1,W),ge(),r=Pe(s),r.c(),B(r,1),r.m(e.parentNode,e)):r.p(s,a)},i(s){n||(B(r),n=!0)},o(s){P(r),n=!1},d(s){s&&E(e),r.d(s)}}}function Me(l){let t,e;return t=new dt({props:{disabled:l[4]!==l[0].activeIndex}}),{c(){ue(t.$$.fragment)},l(n){ce(t.$$.fragment,n)},m(n,r){fe(t,n,r),e=!0},p(n,r){const s={};r&1&&(s.disabled=n[4]!==n[0].activeIndex),t.$set(s)},i(n){e||(B(t.$$.fragment,n),e=!0)},o(n){P(t.$$.fragment,n),e=!1},d(n){pe(t,n)}}}function Pe(l){let t,e,n=we(l[0].tabs),r=[];for(let a=0;a<n.length;a+=1)r[a]=Me(Be(l,n,a));const s=a=>P(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();t=$()},l(a){for(let u=0;u<r.length;u+=1)r[u].l(a);t=$()},m(a,u){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(a,u);U(a,t,u),e=!0},p(a,u){if(u&1){n=we(a[0].tabs);let o;for(o=0;o<n.length;o+=1){const d=Be(a,n,o);r[o]?(r[o].p(d,u),B(r[o],1)):(r[o]=Me(d),r[o].c(),B(r[o],1),r[o].m(t.parentNode,t))}for(de(),o=n.length;o<r.length;o+=1)s(o);ge()}},i(a){if(!e){for(let u=0;u<n.length;u+=1)B(r[u]);e=!0}},o(a){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)P(r[u]);e=!1},d(a){a&&E(t),xe(r,a)}}}function vt(l){let t,e,n,r;const s=[pt,gt],a=[];function u(o,d){return o[1].currentUser?0:1}return t=u(l),e=a[t]=s[t](l),{c(){e.c(),n=$()},l(o){e.l(o),n=$()},m(o,d){a[t].m(o,d),U(o,n,d),r=!0},p(o,[d]){let v=t;t=u(o),t===v?a[t].p(o,d):(de(),P(a[v],1,1,()=>{a[v]=null}),ge(),e=a[t],e?e.p(o,d):(e=a[t]=s[t](o),e.c()),B(e,1),e.m(n.parentNode,n))},i(o){r||(B(e),r=!0)},o(o){P(e),r=!1},d(o){o&&E(n),a[t].d(o)}}}function bt(l,t,e){let n,r;return ke(l,ee,s=>e(0,n=s)),ke(l,Ce,s=>e(1,r=s)),ee.subscribe(s=>{const a=s.tabs.map(u=>JSON.stringify(u));Ce.update(u=>({...u,data:{activeIndex:n.activeIndex,tabs:a}})),Re.publish()}),[n,r]}class Ct extends ye{constructor(t){super(),Te(this,t,bt,vt,ie,{})}}export{Ct as component};
