const __vite__fileDeps=["../chunks/quill.C7n-oZnE.js","../chunks/core.De2dwgut.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as me}from"../chunks/preload-helper.D6kgxu3v.js";import{s as re,n as F,r as Xe,j as se,y as Ue,b as W,c as ve,o as _e,a as Ye,z as Ge,A as ze}from"../chunks/scheduler.aSSXveB9.js";import{S as ce,i as ue,e as C,s as G,c as A,a as P,f as z,k as we,d as I,l as _,C as V,g as X,h as D,D as Ie,m as N,E as Ee,F as Ke,G as le,x as fe,y as de,z as he,v as ye,q as Te,r as M,p as O,A as be,H as Qe,o as De,n as je}from"../chunks/index.NmCZx5Gl.js";import{e as ie,u as Ze,o as Je,a as ge,c as J,b as Ce}from"../chunks/animate.TZy15qSi.js";/* empty css                      */import{b as oe,w as xe}from"../chunks/paths.BEWgSQyj.js";function $e(l){let e,t,n,s,a,o=`<span class="close-icon svelte-1fkoqn4" style="-webkit-mask: url(${oe}/images/svg/cancel.svg) no-repeat center / contain; mask: url(${oe}/images/svg/cancel.svg) no-repeat center / contain;"></span>`,c,r;return{c(){e=C("div"),t=C("div"),n=C("input"),s=G(),a=C("button"),a.innerHTML=o,this.h()},l(g){e=A(g,"DIV",{class:!0});var d=P(e);t=A(d,"DIV",{role:!0,tabindex:!0,class:!0,draggable:!0});var f=P(t);n=A(f,"INPUT",{autocorrect:!0,autocomplete:!0,spellcheck:!0,type:!0,class:!0}),s=z(f),a=A(f,"BUTTON",{class:!0,draggable:!0,"data-svelte-h":!0}),we(a)!=="svelte-97uq8h"&&(a.innerHTML=o),f.forEach(I),d.forEach(I),this.h()},h(){_(n,"autocorrect","off"),_(n,"autocomplete","off"),_(n,"spellcheck","false"),_(n,"type","text"),_(n,"class","svelte-1fkoqn4"),_(a,"class","close-button svelte-1fkoqn4"),_(a,"draggable","true"),_(t,"role","button"),_(t,"tabindex","0"),_(t,"class","tab svelte-1fkoqn4"),_(t,"draggable","true"),V(t,"active",l[1]),_(e,"class","container svelte-1fkoqn4"),V(e,"preventHover",l[2])},m(g,d){X(g,e,d),D(e,t),D(t,n),l[8](n),Ie(n,l[0]),D(t,s),D(t,a),c||(r=[N(n,"input",l[9]),N(a,"click",Ee(function(){se(l[3])&&l[3].apply(this,arguments)})),N(a,"dragstart",Ee(Ke(l[7]))),N(t,"dblclick",le(l[10])),N(t,"mousedown",le(function(){se(l[4])&&l[4].apply(this,arguments)})),N(t,"touchstart",le(function(){se(l[4])&&l[4].apply(this,arguments)})),N(t,"dragstart",le(function(){se(l[5])&&l[5].apply(this,arguments)}))],c=!0)},p(g,[d]){l=g,d&1&&n.value!==l[0]&&Ie(n,l[0]),d&2&&V(t,"active",l[1]),d&4&&V(e,"preventHover",l[2])},i:F,o:F,d(g){g&&I(e),l[8](null),c=!1,Xe(r)}}}function et(l,e,t){let{title:n=""}=e,{active:s=!1}=e,{preventHover:a=!1}=e,{onClose:o=()=>{}}=e,{onPointerdown:c=h=>{}}=e,{onDragstart:r=h=>{}}=e,g;function d(h){Ue.call(this,l,h)}function f(h){W[h?"unshift":"push"](()=>{g=h,t(6,g)})}function u(){n=this.value,t(0,n)}const L=()=>g.select();return l.$$set=h=>{"title"in h&&t(0,n=h.title),"active"in h&&t(1,s=h.active),"preventHover"in h&&t(2,a=h.preventHover),"onClose"in h&&t(3,o=h.onClose),"onPointerdown"in h&&t(4,c=h.onPointerdown),"onDragstart"in h&&t(5,r=h.onDragstart)},[n,s,a,o,c,r,g,d,f,u,L]}class Se extends ce{constructor(e){super(),ue(this,e,et,$e,re,{title:0,active:1,preventHover:2,onClose:3,onPointerdown:4,onDragstart:5})}}let tt=0;const S=xe({tabs:[],activeIndex:-1,placeholderIndex:-1}),B={newTab:async l=>{const{Delta:e}=await me(()=>import("../chunks/core.De2dwgut.js").then(a=>a.G),[],import.meta.url),{data:t={id:tt++,title:"Untitled",content:new e},index:n=-1,callback:s=()=>{}}=l||{};S.update(a=>(a.tabs.some(o=>o.id==t.id)||(n<0?(a.tabs.push(t),a.activeIndex=a.tabs.length-1):(a.tabs.splice(n,0,t),a.activeIndex=n)),a)),s()},removeTab:l=>{S.update(e=>(l<0||l>=e.tabs.length||(e.placeholderIndex==l&&(e.placeholderIndex=-1),e.tabs.splice(l,1),l==e.activeIndex-1?e.activeIndex=Math.max(0,l):e.activeIndex=Math.min(e.activeIndex,e.tabs.length-1)),e))},setActiveIndex:l=>{S.update(e=>(l<0?e.activeIndex=0:l>e.tabs.length?e.activeIndex=e.tabs.length-1:e.activeIndex=l,e))},setPlaceholderIndex:l=>{S.update(e=>(e.placeholderIndex=l===void 0||l<0||l>=e.tabs.length?-1:l,e))},moveTab:(l,e,t=()=>{})=>{l!=e&&(S.update(n=>{if(l<0||l>=n.tabs.length||e<0||e>=n.tabs.length)return n;const s=n.tabs[l];return n.tabs.splice(l,1),n.tabs.splice(e,0,s),n.activeIndex==l&&(n.activeIndex=e),n.placeholderIndex==l&&(n.placeholderIndex=e),n}),t())}};function Ae(l,e,t){const n=l.slice();return n[38]=e[t],n[39]=e,n[40]=t,n}function Le(l,e){let t,n,s,a,o=e[40],c,r,g;function d(){return e[14](e[40])}function f(...w){return e[15](e[40],...w)}function u(w){e[16](w,e[40])}let L={active:e[8].activeIndex==e[40],preventHover:e[7],onClose:d,onPointerdown:f,onDragstart:e[12]};e[8].tabs[e[40]].title!==void 0&&(L.title=e[8].tabs[e[40]].title),n=new Se({props:L}),W.push(()=>Qe(n,"title",u));const h=()=>e[17](t,o),H=()=>e[17](null,o);return{key:l,first:null,c(){t=C("div"),fe(n.$$.fragment),a=G(),this.h()},l(w){t=A(w,"DIV",{class:!0});var y=P(t);de(n.$$.fragment,y),a=z(y),y.forEach(I),this.h()},h(){_(t,"class","tab-container svelte-1yl1m0u"),V(t,"placeholder",e[8].placeholderIndex==e[40]),this.first=t},m(w,y){X(w,t,y),he(n,t,null),D(t,a),h(),c=!0,r||(g=Ye(e[11].call(null,t)),r=!0)},p(w,y){e=w;const E={};y[0]&256&&(E.active=e[8].activeIndex==e[40]),y[0]&128&&(E.preventHover=e[7]),y[0]&256&&(E.onClose=d),y[0]&256&&(E.onPointerdown=f),!s&&y[0]&256&&(s=!0,E.title=e[8].tabs[e[40]].title,Ge(()=>s=!1)),n.$set(E),o!==e[40]&&(H(),o=e[40],h()),(!c||y[0]&256)&&V(t,"placeholder",e[8].placeholderIndex==e[40])},i(w){c||(M(n.$$.fragment,w),c=!0)},o(w){O(n.$$.fragment,w),c=!1},d(w){w&&I(t),be(n),H(),r=!1,g()}}}function nt(l){let e,t,n,s=[],a=new Map,o,c,r,g=`<div class="new-tab-icon svelte-1yl1m0u" style="-webkit-mask: url(${oe}/images/svg/plus.svg) no-repeat center / contain; mask: url(${oe}/images/svg/plus.svg) no-repeat center / contain;"></div>`,d,f,u,L,h,H,w,y,E=ie(l[8].tabs);const U=v=>v[38];for(let v=0;v<E.length;v+=1){let m=Ae(l,E,v),T=U(m);a.set(T,s[v]=Le(T,m))}return u=new Se({props:{title:l[3],active:!l[5],preventHover:!0}}),{c(){e=C("div"),t=C("div"),n=C("div");for(let v=0;v<s.length;v+=1)s[v].c();o=G(),c=C("div"),r=C("button"),r.innerHTML=g,d=G(),f=C("div"),fe(u.$$.fragment),L=G(),h=C("div"),this.h()},l(v){e=A(v,"DIV",{});var m=P(e);t=A(m,"DIV",{class:!0});var T=P(t);n=A(T,"DIV",{class:!0});var ee=P(n);for(let K=0;K<s.length;K+=1)s[K].l(ee);ee.forEach(I),o=z(T),c=A(T,"DIV",{class:!0});var te=P(c);r=A(te,"BUTTON",{class:!0,"data-svelte-h":!0}),we(r)!=="svelte-15g65px"&&(r.innerHTML=g),te.forEach(I),d=z(T),f=A(T,"DIV",{class:!0});var ne=P(f);de(u.$$.fragment,ne),ne.forEach(I),T.forEach(I),L=z(m),h=A(m,"DIV",{class:!0}),P(h).forEach(I),m.forEach(I),this.h()},h(){_(n,"class","tabs svelte-1yl1m0u"),_(r,"class","new-tab-button svelte-1yl1m0u"),_(c,"class","buttons svelte-1yl1m0u"),_(f,"class","clone svelte-1yl1m0u"),V(f,"dragging",l[0]),_(t,"class","tabbar svelte-1yl1m0u"),_(h,"class","separator svelte-1yl1m0u")},m(v,m){X(v,e,m),D(e,t),D(t,n);for(let T=0;T<s.length;T+=1)s[T]&&s[T].m(n,null);l[18](n),D(t,o),D(t,c),D(c,r),D(t,d),D(t,f),he(u,f,null),l[19](f),D(e,L),D(e,h),l[20](e),H=!0,w||(y=N(r,"click",l[9]),w=!0)},p(v,m){m[0]&13700&&(E=ie(v[8].tabs),ye(),s=Ze(s,m,U,1,v,E,a,n,Je,Le,null,Ae),Te());const T={};m[0]&8&&(T.title=v[3]),m[0]&32&&(T.active=!v[5]),u.$set(T),(!H||m[0]&1)&&V(f,"dragging",v[0])},i(v){if(!H){for(let m=0;m<E.length;m+=1)M(s[m]);M(u.$$.fragment,v),H=!0}},o(v){for(let m=0;m<s.length;m+=1)O(s[m]);O(u.$$.fragment,v),H=!1},d(v){v&&I(e);for(let m=0;m<s.length;m+=1)s[m].d();l[18](null),be(u),l[19](null),l[20](null),w=!1,y()}}}const st=12,ae=140,x=70,$=200,lt=1600,He=.3;function at(l,e,t){let n;ve(l,S,i=>t(8,n=i));let s,a=[],o=0,c=null,r=-1,g="",d,f,u,L=!1,h=!1,H=0,w=0,y=0,E,U=!1;const v=(i,b=300)=>{let p;return(...k)=>{clearTimeout(p),p=setTimeout(()=>{i.apply(this,k)},b)}};function m(){B.newTab()}const T=i=>{if(!a[i]){console.warn("Cannot close tab!");return}o=a[i].getBoundingClientRect().width,i<n.tabs.length-1&&(s.style.setProperty("--tab-max-width",`${o}px`),ee()),i==n.tabs.length-1?B.setActiveIndex(i-1):i==n.activeIndex&&B.setActiveIndex(i+1),ge({duration:$,easing:J,onStep:(b,p)=>{i==0?t(1,s.style.gridTemplateColumns=`minmax(${p*x}px, ${p*o}px)`,s):t(1,s.style.gridTemplateColumns=`repeat(${i}, minmax(var(--tab-min-width), var(--tab-max-width))) minmax(${p*x}px, ${p*o}px)`,s)},onEnd:()=>{t(1,s.style.gridTemplateColumns="",s),B.removeTab(i)}})},ee=v(()=>{s&&(s.style.setProperty("--tab-max-width",`${ae}px`),ge({duration:$,easing:J,onStep:(i,b)=>{s.style.setProperty("--tab-max-width",`${o+i*(ae-o)}px`)},onEnd:()=>{s.style.setProperty("--tab-max-width",`${ae}px`)}}))},lt);function te(i){if(!s)return;const b=i.getBoundingClientRect().width;ge({duration:$,easing:J,onStep:(p,k)=>{n.tabs.length==1?t(1,s.style.gridTemplateColumns=`minmax(${p*x}px, ${p*b}px)`,s):t(1,s.style.gridTemplateColumns=`repeat(${n.tabs.length-1}, minmax(var(--tab-min-width), var(--tab-max-width))) minmax(${p*x}px, ${p*b}px)`,s),t(1,s.scrollLeft=s.scrollWidth,s)},onEnd:()=>{t(1,s.style.gridTemplateColumns="",s)}})}const ne=(i,b)=>{const p=a[0].getBoundingClientRect().width;B.moveTab(i,b,()=>{if(i>b)for(let k=b;k<i;k++)Ce(a[k],{duration:$,easing:J,css:(j,R)=>`transform: translateX(-${R*p}px);`});if(i<b)for(let k=b;k>i;k--)Ce(a[k],{duration:$,easing:J,css:(j,R)=>`transform: translateX(${R*p}px);`})})};function K(i){!i.target||!i.dataTransfer||(i.dataTransfer.setData("text/plain",r.toString()),i.dataTransfer.setDragImage(new Image,0,0))}function Ve(i,b){if(i==0&&b==0){t(4,u.style.left="-1000px",u),t(4,u.style.top="-1000px",u);return}let p=E.getBoundingClientRect();if(i<p.left||i>p.right||b<p.top||b>p.bottom){h||(y=0),t(4,u.style.left=`${i+H}px`,u),t(4,u.style.top=`${b+w}px`,u),t(5,h=!0);return}h&&t(5,h=!1),t(4,u.style.left=`${i+H}px`,u),t(4,u.style.top=`${f.top}px`,u);const k=-s.scrollLeft,j=a[0].getBoundingClientRect().width;let R=-1;if(i>k+n.tabs.length*j)R=n.tabs.length-1;else for(let Z=0;Z<n.tabs.length;Z++)if(i>k+Z*j&&i<k+(Z+1)*j){R=Z;break}i<20?(y=-He,requestAnimationFrame(pe)):i>s.clientWidth-10?(y=He,requestAnimationFrame(pe)):y=0,!(R==-1||R==n.placeholderIndex)&&ne(n.placeholderIndex,R)}let Q=0;function pe(i){if(!L||y==0){Q=0;return}Q==0&&(Q=i);const b=i-Q;Q=i,s.scrollBy({left:y*b}),requestAnimationFrame(pe)}function ke(i,b){if(!i.target)return;let p,k;i instanceof TouchEvent?(p=i.touches[0].clientX,k=i.touches[0].clientY,i.preventDefault()):(p=i.clientX,k=i.clientY),window.addEventListener("touchmove",Y,{passive:!1}),window.addEventListener("touchend",q),window.addEventListener("mousemove",Y),window.addEventListener("mouseup",q),window.addEventListener("drag",Y),window.addEventListener("dragend",q),window.addEventListener("blur",q),B.setActiveIndex(b),d=i.target,f=d.getBoundingClientRect(),c=[p,k],H=f.left-p,w=f.top-k,t(4,u.style.width=`${f.width}px`,u),t(4,u.style.left=`${f.left}px`,u),t(4,u.style.top=`${f.top}px`,u),r=b,t(3,g=n.tabs[b].title)}function Y(i){let b,p;if(i instanceof TouchEvent?(b=i.touches[0].clientX,p=i.touches[0].clientY,i.preventDefault()):(b=i.clientX,p=i.clientY),L){Ve(b,p);return}c===null||Math.hypot(c[0]-b,c[1]-p)<st||(t(0,L=!0),B.setPlaceholderIndex(r),B.setActiveIndex(r))}function q(){window.removeEventListener("touchmove",Y),window.removeEventListener("touchend",q),window.removeEventListener("mousemove",Y),window.removeEventListener("mouseup",q),window.removeEventListener("drag",Y),window.removeEventListener("dragend",q),window.removeEventListener("blur",q),c=null,t(5,h=!1),r=-1,H=0,w=0,B.setPlaceholderIndex(),t(0,L=!1)}_e(()=>{s.style.setProperty("--tab-max-width",`${ae}px`),s.style.setProperty("--tab-min-width",`${x}px`)});const Me=i=>T(i),Re=(i,b)=>ke(b,i);function Ne(i,b){l.$$.not_equal(n.tabs[b].title,i)&&(n.tabs[b].title=i,S.set(n))}function Oe(i,b){W[i?"unshift":"push"](()=>{a[b]=i,t(2,a)})}function qe(i){W[i?"unshift":"push"](()=>{s=i,t(1,s)})}function We(i){W[i?"unshift":"push"](()=>{u=i,t(4,u)})}function Fe(i){W[i?"unshift":"push"](()=>{E=i,t(6,E)})}return l.$$.update=()=>{l.$$.dirty[0]&1&&(L?t(7,U=!0):setTimeout(()=>t(7,U=!1),20))},[L,s,a,g,u,h,E,U,n,m,T,te,K,ke,Me,Re,Ne,Oe,qe,We,Fe]}class it extends ce{constructor(e){super(),ue(this,e,at,nt,re,{},null,[-1,-1])}}function ot(l){let e,t;return{c(){e=C("div"),t=C("div"),this.h()},l(n){e=A(n,"DIV",{class:!0});var s=P(e);t=A(s,"DIV",{class:!0}),P(t).forEach(I),s.forEach(I),this.h()},h(){_(t,"class","quill-editor svelte-15oby2b"),_(e,"class","quill-editor-wrapper svelte-15oby2b"),V(e,"disabled",l[0])},m(n,s){X(n,e,s),D(e,t),l[3](t)},p(n,[s]){s&1&&V(e,"disabled",n[0])},i:F,o:F,d(n){n&&I(e),l[3](null)}}}function rt(l,e,t){let n;ve(l,S,u=>t(4,n=u));let{disabled:s=!1}=e,a,o;function c(){a&&a.setContents(n.tabs[n.activeIndex].content)}function r(){a&&ze(S,n.tabs[n.activeIndex].content=a.getContents(),n)}function g(u,L,h){h==="user"&&r()}async function d(){const{default:u}=await me(()=>import("../chunks/quill.C7n-oZnE.js"),__vite__mapDeps([0,1]),import.meta.url);t(2,a=new u(o,{formats:["bold","italic","underline","strike","code"],placeholder:"Enter text here"})),c(),a.on("text-change",g),a.keyboard.addBinding({key:"/",altKey:!0},()=>{a.format("code",!a.getFormat().code)}),a.keyboard.addBinding({key:"-",altKey:!0},()=>{a.format("strike",!a.getFormat().strike)})}_e(()=>{d()});function f(u){W[u?"unshift":"push"](()=>{o=u,t(1,o)})}return l.$$set=u=>{"disabled"in u&&t(0,s=u.disabled)},l.$$.update=()=>{l.$$.dirty&5&&(s?a==null||a.disable():a==null||a.enable())},[s,o,a,f]}class ct extends ce{constructor(e){super(),ue(this,e,rt,ot,re,{disabled:0})}}function Pe(l,e,t){const n=l.slice();return n[2]=e[t],n[4]=t,n}function ut(l){let e,t,n="Create your first tab",s,a;return{c(){e=C("div"),t=C("button"),t.textContent=n,this.h()},l(o){e=A(o,"DIV",{class:!0});var c=P(e);t=A(c,"BUTTON",{class:!0,"data-svelte-h":!0}),we(t)!=="svelte-1ywbu6z"&&(t.textContent=n),c.forEach(I),this.h()},h(){_(t,"class","new-tab-button svelte-1g3nfbv"),_(e,"class","placeholder svelte-1g3nfbv")},m(o,c){X(o,e,c),D(e,t),s||(a=N(t,"click",l[1]),s=!0)},p:F,i:F,o:F,d(o){o&&I(e),s=!1,a()}}}function ft(l){let e,t,n=ie(l[0].tabs),s=[];for(let o=0;o<n.length;o+=1)s[o]=Be(Pe(l,n,o));const a=o=>O(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=De()},l(o){for(let c=0;c<s.length;c+=1)s[c].l(o);e=De()},m(o,c){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(o,c);X(o,e,c),t=!0},p(o,c){if(c&1){n=ie(o[0].tabs);let r;for(r=0;r<n.length;r+=1){const g=Pe(o,n,r);s[r]?(s[r].p(g,c),M(s[r],1)):(s[r]=Be(g),s[r].c(),M(s[r],1),s[r].m(e.parentNode,e))}for(ye(),r=n.length;r<s.length;r+=1)a(r);Te()}},i(o){if(!t){for(let c=0;c<n.length;c+=1)M(s[c]);t=!0}},o(o){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)O(s[c]);t=!1},d(o){o&&I(e),je(s,o)}}}function Be(l){let e,t;return e=new ct({props:{disabled:l[4]!==l[0].activeIndex}}),{c(){fe(e.$$.fragment)},l(n){de(e.$$.fragment,n)},m(n,s){he(e,n,s),t=!0},p(n,s){const a={};s&1&&(a.disabled=n[4]!==n[0].activeIndex),e.$set(a)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){be(e,n)}}}function dt(l){let e,t,n,s,a,o;t=new it({});const c=[ft,ut],r=[];function g(d,f){return d[0].tabs.length>0?0:1}return s=g(l),a=r[s]=c[s](l),{c(){e=C("div"),fe(t.$$.fragment),n=G(),a.c(),this.h()},l(d){e=A(d,"DIV",{class:!0});var f=P(e);de(t.$$.fragment,f),n=z(f),a.l(f),f.forEach(I),this.h()},h(){_(e,"class","container svelte-1g3nfbv")},m(d,f){X(d,e,f),he(t,e,null),D(e,n),r[s].m(e,null),o=!0},p(d,[f]){let u=s;s=g(d),s===u?r[s].p(d,f):(ye(),O(r[u],1,1,()=>{r[u]=null}),Te(),a=r[s],a?a.p(d,f):(a=r[s]=c[s](d),a.c()),M(a,1),a.m(e,null))},i(d){o||(M(t.$$.fragment,d),M(a),o=!0)},o(d){O(t.$$.fragment,d),O(a),o=!1},d(d){d&&I(e),be(t),r[s].d()}}}function ht(l,e,t){let n;ve(l,S,a=>t(0,n=a));async function s(){const{Delta:a}=await me(()=>import("../chunks/core.De2dwgut.js").then(c=>c.G),[],import.meta.url),o=new a().insert(`Welcome to Not Notepad 🎉
`);B.newTab({data:{id:0,title:"Hello 👋",content:o}}),B.newTab()}return _e(()=>{s()}),[n,s]}class wt extends ce{constructor(e){super(),ue(this,e,ht,dt,re,{})}}export{wt as component};
