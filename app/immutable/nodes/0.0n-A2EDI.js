import{s as C,v as I,w as q,x,y as O,c as v,o as V,n as F,a as E}from"../chunks/scheduler.CgGcoA3v.js";import{S as A,i as H,H as G,s as M,E as J,h as z,j as S,a as _,t as b,g as m,e as d,c as h,v as K,w as f,A as p,p as R,F as N,q as U,k as $,r as W,u as B,d as L}from"../chunks/index.BSd0CfbD.js";import{s as P,a as g,t as Q,f as T,c as X,b as j}from"../chunks/firebaseStore.DNqBV2P_.js";import{g as Y}from"../chunks/entry.CPd7RzGu.js";import{b as y}from"../chunks/paths.D4Vgz-Bt.js";import{t as D}from"../chunks/themes.BTx5Q4mv.js";const Z=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,ee=!0,te="always",_e=Object.freeze(Object.defineProperty({__proto__:null,prerender:ee,trailingSlash:te},Symbol.toStringTag,{value:"Module"}));function se(l){let e,o,s;const a=l[3].default,i=I(a,l,l[2],null);return{c(){e=new G(!1),o=M(),i&&i.c(),this.h()},l(t){e=J(t,!1),o=z(t),i&&i.l(t),this.h()},h(){e.a=o},m(t,n){e.m(l[0],t,n),S(t,o,n),i&&i.m(t,n),s=!0},p(t,[n]){(!s||n&1)&&e.p(t[0]),i&&i.p&&(!s||n&4)&&q(i,a,t,t[2],s?O(a,t[2],n,null):x(t[2]),null)},i(t){s||(_(i,t),s=!0)},o(t){b(i,t),s=!1},d(t){t&&(e.d(),m(o)),i&&i.d(t)}}}function ae(l,e,o){let s,a;v(l,P,c=>o(1,a=c));let{$$slots:i={},$$scope:t}=e;function n(c){const u=D.find(w=>w.name===c);return u?`<style>
    :root {
    --bg: ${u.bg};
    --bg-alt: ${u.bgAlt};
    --main: ${u.main};
    --caret: ${u.caret};
    --error: ${u.error};
    --sub: ${u.sub};
    --text: ${u.text};
    }
    </style>`:""}function r(){var u;const c=D.find(w=>w.name===a.theme);c&&((u=document.querySelector('meta[name="theme-color"]'))==null||u.setAttribute("content",c.bg))}return V(()=>{n(a.theme),P.subscribe(r)}),l.$$set=c=>{"$$scope"in c&&o(2,t=c.$$scope)},l.$$.update=()=>{l.$$.dirty&2&&o(0,s=n(a.theme))},[s,a,t,i]}class ne extends A{constructor(e){super(),H(this,e,ae,se,C,{})}}function re(l){let e,o=`<span class="status-icon svelte-1mx6eh7" style="-webkit-mask: url(${y}/images/svg/double-checkmark.svg) no-repeat center / contain; mask: url(${y}/images/svg/double-checkmark.svg) no-repeat center / contain;"></span>`;return{c(){e=d("div"),e.innerHTML=o,this.h()},l(s){e=h(s,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-jbp3id"&&(e.innerHTML=o),this.h()},h(){f(e,"class","status svelte-1mx6eh7"),p(e,"saving",l[0].savingStatus==="saving"),p(e,"saved",l[0].savingStatus==="saved"),p(e,"error",l[0].savingStatus==="error")},m(s,a){S(s,e,a)},p(s,[a]){a&1&&p(e,"saving",s[0].savingStatus==="saving"),a&1&&p(e,"saved",s[0].savingStatus==="saved"),a&1&&p(e,"error",s[0].savingStatus==="error")},i:F,o:F,d(s){s&&m(e)}}}function oe(l,e,o){let s;return v(l,g,a=>o(0,s=a)),[s]}class ie extends A{constructor(e){super(),H(this,e,oe,re,C,{})}}const{document:k}=Z;function le(l){let e,o,s,a,i;const t=l[0].default,n=I(t,l,l[1],null);return a=new ie({}),{c(){e=d("div"),n&&n.c(),o=M(),s=d("div"),R(a.$$.fragment),this.h()},l(r){e=h(r,"DIV",{class:!0});var c=L(e);n&&n.l(c),o=z(c),s=h(c,"DIV",{class:!0});var u=L(s);U(a.$$.fragment,u),u.forEach(m),c.forEach(m),this.h()},h(){f(s,"class","sync-status svelte-v8sxz9"),f(e,"class","layout-container svelte-v8sxz9")},m(r,c){S(r,e,c),n&&n.m(e,null),$(e,o),$(e,s),W(a,s,null),i=!0},p(r,c){n&&n.p&&(!i||c&2)&&q(n,t,r,r[1],i?O(t,r[1],c,null):x(r[1]),null)},i(r){i||(_(n,r),_(a.$$.fragment,r),i=!0)},o(r){b(n,r),b(a.$$.fragment,r),i=!1},d(r){r&&m(e),n&&n.d(r),B(a)}}}function ce(l){let e,o,s,a,i;return a=new ne({props:{$$slots:{default:[le]},$$scope:{ctx:l}}}),{c(){e=d("meta"),o=d("meta"),s=M(),R(a.$$.fragment),this.h()},l(t){const n=N("svelte-17tnzz8",k.head);e=h(n,"META",{name:!0,content:!0}),o=h(n,"META",{name:!0,content:!0}),n.forEach(m),s=z(t),U(a.$$.fragment,t),this.h()},h(){f(e,"name","viewport"),f(e,"content","width=device-width, user-scalable=0, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover"),f(o,"name","theme-color"),f(o,"content","var(--bg)")},m(t,n){$(k.head,e),$(k.head,o),S(t,s,n),W(a,t,n),i=!0},p(t,[n]){const r={};n&2&&(r.$$scope={dirty:n,ctx:t}),a.$set(r)},i(t){i||(_(a.$$.fragment,t),i=!0)},o(t){b(a.$$.fragment,t),i=!1},d(t){t&&m(s),m(e),m(o),B(a,t)}}}function ue(){switch(screen.orientation.type){case"portrait-primary":document.documentElement.style.setProperty("--safe-area-top","env(safe-area-inset-top)"),document.documentElement.style.setProperty("--safe-area-left","0px"),document.documentElement.style.setProperty("--safe-area-right","0px");break;case"landscape-primary":document.documentElement.style.setProperty("--safe-area-top","0px"),document.documentElement.style.setProperty("--safe-area-left","env(safe-area-inset-left)"),document.documentElement.style.setProperty("--safe-area-right","0px");break;case"landscape-secondary":document.documentElement.style.setProperty("--safe-area-top","0px"),document.documentElement.style.setProperty("--safe-area-left","0px"),document.documentElement.style.setProperty("--safe-area-right","env(safe-area-inset-right)");break}}function me(l,e,o){let s,a;v(l,g,r=>o(2,s=r)),v(l,j,r=>o(3,a=r));let{$$slots:i={},$$scope:t}=e;function n(r){s.savingStatus==="saving"&&r.preventDefault()}return V(()=>{window.addEventListener("beforeunload",n),screen.orientation.addEventListener("change",ue),Q.subscribe(T.publishToFirestore),P.subscribe(T.publishToFirestore),X.onAuthStateChanged(async r=>{if(!r){E(g,s.currentUser=r,s),E(j,a=window.location.pathname.slice(y.length),a),Y(y+"/login");return}E(g,s.currentUser=r,s),T.loadFromFirestore()})}),l.$$set=r=>{"$$scope"in r&&o(1,t=r.$$scope)},[i,t]}class be extends A{constructor(e){super(),H(this,e,me,ce,C,{})}}export{be as component,_e as universal};
