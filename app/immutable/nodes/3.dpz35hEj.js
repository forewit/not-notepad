import{s as F,i as Z,n as G,r as et,b as w,x as y}from"../chunks/scheduler.B3svg8oL.js";import{S as H,i as R,e as k,c as T,a as D,d as v,m as g,x as j,g as X,h as p,p as z,s as S,A,f as O,B as U,n as q,o as J,C as N,E as K,w as E,u as W,D as P,y as nt,v as it,q as lt,F as B}from"../chunks/index.B0sbfZXq.js";import{e as L}from"../chunks/each.D6YF6ztN.js";import{b as x}from"../chunks/paths.QWq6aJMa.js";function st(e){let t,n,i,r;return{c(){t=k("button"),n=k("div"),this.h()},l(l){t=T(l,"BUTTON",{class:!0});var a=D(t);n=T(a,"DIV",{class:!0,style:!0}),D(n).forEach(v),a.forEach(v),this.h()},h(){g(n,"class","icon svelte-w8cq5c"),j(n,"-webkit-mask","url("+e[1]+") no-repeat center / contain"),j(n,"mask","url("+e[1]+") no-repeat center / contain"),g(t,"class","svelte-w8cq5c")},m(l,a){X(l,t,a),p(t,n),i||(r=z(t,"click",function(){Z(e[0])&&e[0].apply(this,arguments)}),i=!0)},p(l,[a]){e=l,a&2&&j(n,"-webkit-mask","url("+e[1]+") no-repeat center / contain"),a&2&&j(n,"mask","url("+e[1]+") no-repeat center / contain")},i:G,o:G,d(l){l&&v(t),i=!1,r()}}}function at(e,t,n){let{onClick:i=()=>{}}=t,{url:r=""}=t;return e.$$set=l=>{"onClick"in l&&n(0,i=l.onClick),"url"in l&&n(1,r=l.url)},[i,r]}class $ extends H{constructor(t){super(),R(this,t,at,st,F,{onClick:0,url:1})}}function ot(e){let t,n,i,r,l,a,_,b,h;return a=new $({props:{url:x+"/images/svg/cancel.svg",onClick:e[3]}}),{c(){t=k("button"),n=k("div"),i=S(),r=k("input"),l=S(),A(a.$$.fragment),this.h()},l(c){t=T(c,"BUTTON",{class:!0});var o=D(t);n=T(o,"DIV",{class:!0}),D(n).forEach(v),i=O(o),r=T(o,"INPUT",{autocorrect:!0,autocomplete:!0,spellcheck:!0,type:!0,class:!0}),l=O(o),U(a.$$.fragment,o),o.forEach(v),this.h()},h(){g(n,"class","divider svelte-1vrzp70"),g(r,"autocorrect","off"),g(r,"autocomplete","off"),g(r,"spellcheck","false"),g(r,"type","text"),g(r,"class","svelte-1vrzp70"),g(t,"class","tab svelte-1vrzp70"),q(t,"lockMaxWidth",e[5]>0),q(t,"active",e[1]),q(t,"hidden",e[2])},m(c,o){X(c,t,o),p(t,n),p(t,i),p(t,r),e[8](r),J(r,e[0]),p(t,l),N(a,t,null),e[10](t),_=!0,b||(h=[z(r,"input",e[9]),z(t,"dblclick",K(e[11])),z(t,"click",K(function(){Z(e[4])&&e[4].apply(this,arguments)}))],b=!0)},p(c,[o]){e=c,o&1&&r.value!==e[0]&&J(r,e[0]);const m={};o&8&&(m.onClick=e[3]),a.$set(m),(!_||o&32)&&q(t,"lockMaxWidth",e[5]>0),(!_||o&2)&&q(t,"active",e[1]),(!_||o&4)&&q(t,"hidden",e[2])},i(c){_||(E(a.$$.fragment,c),_=!0)},o(c){W(a.$$.fragment,c),_=!1},d(c){c&&v(t),e[8](null),P(a),e[10](null),b=!1,et(h)}}}function rt(e,t,n){let{title:i=""}=t,{active:r=!1}=t,{hidden:l=!1}=t,{onClose:a=()=>{}}=t,{onClick:_=()=>{}}=t,{lockMaxWidth:b=0}=t,h,c;function o(s){w[s?"unshift":"push"](()=>{h=s,n(7,h)})}function m(){i=this.value,n(0,i)}function d(s){w[s?"unshift":"push"](()=>{c=s,n(6,c)})}const u=()=>h.select();return e.$$set=s=>{"title"in s&&n(0,i=s.title),"active"in s&&n(1,r=s.active),"hidden"in s&&n(2,l=s.hidden),"onClose"in s&&n(3,a=s.onClose),"onClick"in s&&n(4,_=s.onClick),"lockMaxWidth"in s&&n(5,b=s.lockMaxWidth)},e.$$.update=()=>{e.$$.dirty&96&&c&&b>0&&c.style.setProperty("--max-width",`${b}px`)},[i,r,l,a,_,b,c,h,o,m,d,u]}class ct extends H{constructor(t){super(),R(this,t,rt,ot,F,{title:0,active:1,hidden:2,onClose:3,onClick:4,lockMaxWidth:5})}}function Q(e,t,n){const i=e.slice();return i[15]=t[n],i[16]=t,i[17]=n,i}function Y(e){let t,n,i,r;function l(){return e[7](e[15])}function a(){return e[8](e[15])}function _(c){e[9](c,e[15])}function b(c){e[10](c)}let h={active:e[1]==e[15].id,onClose:l,onClick:a};return e[15].title!==void 0&&(h.title=e[15].title),e[3]!==void 0&&(h.lockMaxWidth=e[3]),t=new ct({props:h}),w.push(()=>B(t,"title",_)),w.push(()=>B(t,"lockMaxWidth",b)),{c(){A(t.$$.fragment)},l(c){U(t.$$.fragment,c)},m(c,o){N(t,c,o),r=!0},p(c,o){e=c;const m={};o&3&&(m.active=e[1]==e[15].id),o&1&&(m.onClose=l),o&1&&(m.onClick=a),!n&&o&1&&(n=!0,m.title=e[15].title,y(()=>n=!1)),!i&&o&8&&(i=!0,m.lockMaxWidth=e[3],y(()=>i=!1)),t.$set(m)},i(c){r||(E(t.$$.fragment,c),r=!0)},o(c){W(t.$$.fragment,c),r=!1},d(c){P(t,c)}}}function ut(e){let t,n,i,r,l,a,_,b,h,c=L(e[0]),o=[];for(let d=0;d<c.length;d+=1)o[d]=Y(Q(e,c,d));const m=d=>W(o[d],1,1,()=>{o[d]=null});return a=new $({props:{url:x+"/images/svg/plus.svg",onClick:e[5]}}),{c(){t=k("div"),n=k("div"),i=k("div");for(let d=0;d<o.length;d+=1)o[d].c();r=S(),l=k("div"),A(a.$$.fragment),_=S(),b=k("div"),this.h()},l(d){t=T(d,"DIV",{});var u=D(t);n=T(u,"DIV",{class:!0});var s=D(n);i=T(s,"DIV",{class:!0});var I=D(i);for(let f=0;f<o.length;f+=1)o[f].l(I);I.forEach(v),r=O(s),l=T(s,"DIV",{class:!0});var M=D(l);U(a.$$.fragment,M),M.forEach(v),s.forEach(v),_=O(u),b=T(u,"DIV",{class:!0}),D(b).forEach(v),u.forEach(v),this.h()},h(){g(i,"class","tabs svelte-185rz3b"),g(l,"class","buttons"),g(n,"class","toolbar svelte-185rz3b"),g(b,"class","separator svelte-185rz3b")},m(d,u){X(d,t,u),p(t,n),p(n,i);for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(i,null);e[11](i),p(n,r),p(n,l),N(a,l,null),p(t,_),p(t,b),h=!0},p(d,[u]){if(u&91){c=L(d[0]);let s;for(s=0;s<c.length;s+=1){const I=Q(d,c,s);o[s]?(o[s].p(I,u),E(o[s],1)):(o[s]=Y(I),o[s].c(),E(o[s],1),o[s].m(i,null))}for(nt(),s=c.length;s<o.length;s+=1)m(s);it()}},i(d){if(!h){for(let u=0;u<c.length;u+=1)E(o[u]);E(a.$$.fragment,d),h=!0}},o(d){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)W(o[u]);W(a.$$.fragment,d),h=!1},d(d){d&&v(t),lt(o,d),e[11](null),P(a)}}}function ft(e,t,n){let{tabs:i}=t,{activeTabID:r}=t,l=i.map(f=>f.id),a,_=0;const b=(f,C=300)=>{let V;return(...tt)=>{clearTimeout(V),V=setTimeout(()=>{f.apply(void 0,tt)},C)}},h=f=>{let C=l.indexOf(f);n(3,_=a.children[0].clientWidth),c(),n(0,i=i.filter(V=>V.id!=f)),l=l.filter(V=>V!=f),m(l[Math.min(C,l.length-1)])},c=b(()=>{console.log("debounced closing tabs..."),n(3,_=0)},700),o=()=>{let f=Date.now().toString();i.push({id:f,title:"Untitled"}),l.push(f),n(0,i),m(f)},m=f=>{n(1,r=f),!(_>0)&&setTimeout(()=>{var C;(C=a.querySelector(".tab.active"))==null||C.scrollIntoView({behavior:"smooth"})})},d=f=>h(f.id),u=f=>m(f.id);function s(f,C){e.$$.not_equal(C.title,f)&&(C.title=f,n(0,i))}function I(f){_=f,n(3,_)}function M(f){w[f?"unshift":"push"](()=>{a=f,n(2,a)})}return e.$$set=f=>{"tabs"in f&&n(0,i=f.tabs),"activeTabID"in f&&n(1,r=f.activeTabID)},[i,r,a,_,h,o,m,d,u,s,I,M]}class dt extends H{constructor(t){super(),R(this,t,ft,ut,F,{tabs:0,activeTabID:1})}}function ht(e){let t,n,i,r;return{c(){t=k("div"),n=k("textarea"),this.h()},l(l){t=T(l,"DIV",{id:!0,class:!0});var a=D(t);n=T(a,"TEXTAREA",{spellcheck:!0,name:!0,id:!0,class:!0}),D(n).forEach(v),a.forEach(v),this.h()},h(){g(n,"spellcheck","false"),g(n,"name","editor"),g(n,"id","text"),g(n,"class","svelte-7cpmmf"),g(t,"id","editor"),g(t,"class","svelte-7cpmmf")},m(l,a){X(l,t,a),p(t,n),J(n,e[0]),i||(r=z(n,"input",e[1]),i=!0)},p(l,[a]){a&1&&J(n,l[0])},i:G,o:G,d(l){l&&v(t),i=!1,r()}}}function _t(e,t,n){let{text:i}=t;function r(){i=this.value,n(0,i)}return e.$$set=l=>{"text"in l&&n(0,i=l.text)},[i,r]}class bt extends H{constructor(t){super(),R(this,t,_t,ht,F,{text:0})}}function mt(e){let t,n,i,r,l,a,_,b;function h(u){e[3](u)}function c(u){e[4](u)}let o={};e[0]!==void 0&&(o.tabs=e[0]),e[1]!==void 0&&(o.activeTabID=e[1]),n=new dt({props:o}),w.push(()=>B(n,"tabs",h)),w.push(()=>B(n,"activeTabID",c));function m(u){e[5](u)}let d={};return e[2].text!==void 0&&(d.text=e[2].text),a=new bt({props:d}),w.push(()=>B(a,"text",m)),{c(){t=k("div"),A(n.$$.fragment),l=S(),A(a.$$.fragment),this.h()},l(u){t=T(u,"DIV",{class:!0});var s=D(t);U(n.$$.fragment,s),l=O(s),U(a.$$.fragment,s),s.forEach(v),this.h()},h(){g(t,"class","container svelte-16qa0xo")},m(u,s){X(u,t,s),N(n,t,null),p(t,l),N(a,t,null),b=!0},p(u,[s]){const I={};!i&&s&1&&(i=!0,I.tabs=u[0],y(()=>i=!1)),!r&&s&2&&(r=!0,I.activeTabID=u[1],y(()=>r=!1)),n.$set(I);const M={};!_&&s&4&&(_=!0,M.text=u[2].text,y(()=>_=!1)),a.$set(M)},i(u){b||(E(n.$$.fragment,u),E(a.$$.fragment,u),b=!0)},o(u){W(n.$$.fragment,u),W(a.$$.fragment,u),b=!1},d(u){u&&v(t),P(n),P(a)}}}function gt(e,t,n){let i,r=[{id:Date.now().toString(),title:"Hello ðŸ‘‹",text:"Welcome to notep... not notepad. Something completely different (Microsoft, don't sue me). v0.3"}],l=r[0].id;function a(h){r=h,n(0,r)}function _(h){l=h,n(1,l)}function b(h){e.$$.not_equal(i.text,h)&&(i.text=h,n(2,i),n(0,r),n(1,l))}return e.$$.update=()=>{e.$$.dirty&3&&n(2,i=r.find(h=>h.id==l)||{text:"Click the âž• above to create a new tab."})},[r,l,i,a,_,b]}class Dt extends H{constructor(t){super(),R(this,t,gt,mt,F,{})}}export{Dt as component};
