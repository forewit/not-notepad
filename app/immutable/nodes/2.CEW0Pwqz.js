import{r as rt,s as H,n as J,i as ut,b as Y,c as ft,y as dt,f as bt}from"../chunks/scheduler._-uiodl9.js";import{l as N,n as O,S as L,i as G,e as C,c as y,a as $,d as k,o as b,p as j,g as U,h as D,z as R,A as gt,s as x,u as q,f as P,v as z,B as K,C as Q,w as X,D as ht,x as F,q as kt,m as wt,E as mt,F as It,G as Tt}from"../chunks/index.4ZfS5K5C.js";import{b as vt,w as Ct}from"../chunks/paths.sY_sB1Zr.js";function lt(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function yt(n,t){N(n,1,1,()=>{t.delete(n.key)})}function Et(n,t,e,s,i,a,l,m,v,r,o,c){let p=n.length,u=a.length,_=p;const E={};for(;_--;)E[n[_].key]=_;const d=[],h=new Map,w=new Map,f=[];for(_=u;_--;){const g=c(i,a,_),S=e(g);let A=l.get(S);A?f.push(()=>A.p(g,t)):(A=r(S,g),A.c()),h.set(S,d[_]=A),S in E&&w.set(S,Math.abs(_-E[S]))}const I=new Set,T=new Set;function V(g){O(g,1),g.m(m,o),l.set(g.key,g),o=g.first,u--}for(;p&&u;){const g=d[u-1],S=n[p-1],A=g.key,M=S.key;g===S?(o=g.first,p--,u--):h.has(M)?!l.has(A)||I.has(A)?V(g):T.has(M)?p--:w.get(A)>w.get(M)?(T.add(A),V(g)):(I.add(M),p--):(v(S,l),p--)}for(;p--;){const g=n[p];h.has(g.key)||v(g,l)}for(;u;)V(d[u-1]);return rt(f),d}function Dt(n){let t,e,s,i;return{c(){t=C("button"),e=C("div"),this.h()},l(a){t=y(a,"BUTTON",{class:!0});var l=$(t);e=y(l,"DIV",{class:!0,style:!0}),$(e).forEach(k),l.forEach(k),this.h()},h(){b(e,"class","icon svelte-fsrv9v"),j(e,"-webkit-mask","url("+n[1]+") no-repeat center / contain"),j(e,"mask","url("+n[1]+") no-repeat center / contain"),b(t,"class","svelte-fsrv9v")},m(a,l){U(a,t,l),D(t,e),s||(i=R(t,"click",gt(function(){ut(n[0])&&n[0].apply(this,arguments)})),s=!0)},p(a,[l]){n=a,l&2&&j(e,"-webkit-mask","url("+n[1]+") no-repeat center / contain"),l&2&&j(e,"mask","url("+n[1]+") no-repeat center / contain")},i:J,o:J,d(a){a&&k(t),s=!1,i()}}}function $t(n,t,e){let{onClick:s=()=>{}}=t,{url:i=""}=t;return n.$$set=a=>{"onClick"in a&&e(0,s=a.onClick),"url"in a&&e(1,i=a.url)},[s,i]}class _t extends L{constructor(t){super(),G(this,t,$t,Dt,H,{onClick:0,url:1})}}function St(n){let t,e,s,i,a,l,m,v,r;return l=new _t({props:{url:vt+"/images/svg/cancel.svg",onClick:n[2]}}),{c(){t=C("div"),e=C("button"),s=C("input"),i=x(),a=C("div"),q(l.$$.fragment),this.h()},l(o){t=y(o,"DIV",{class:!0});var c=$(t);e=y(c,"BUTTON",{class:!0});var p=$(e);s=y(p,"INPUT",{autocorrect:!0,autocomplete:!0,spellcheck:!0,type:!0,class:!0}),i=P(p),a=y(p,"DIV",{class:!0});var u=$(a);z(l.$$.fragment,u),u.forEach(k),p.forEach(k),c.forEach(k),this.h()},h(){b(s,"autocorrect","off"),b(s,"autocomplete","off"),b(s,"spellcheck","false"),b(s,"type","text"),b(s,"class","svelte-i6zefg"),b(a,"class","close-button svelte-i6zefg"),b(e,"class","tab svelte-i6zefg"),K(e,"active",n[1]),b(t,"class","container svelte-i6zefg")},m(o,c){U(o,t,c),D(t,e),D(e,s),n[5](s),Q(s,n[0]),D(e,i),D(e,a),X(l,a,null),m=!0,v||(r=[R(s,"input",n[6]),R(e,"dblclick",ht(n[7])),R(e,"click",function(){ut(n[3])&&n[3].apply(this,arguments)})],v=!0)},p(o,[c]){n=o,c&1&&s.value!==n[0]&&Q(s,n[0]);const p={};c&4&&(p.onClick=n[2]),l.$set(p),(!m||c&2)&&K(e,"active",n[1])},i(o){m||(O(l.$$.fragment,o),m=!0)},o(o){N(l.$$.fragment,o),m=!1},d(o){o&&k(t),n[5](null),F(l),v=!1,rt(r)}}}function At(n,t,e){let{title:s=""}=t,{active:i=!1}=t,{onClose:a=()=>{}}=t,{onClick:l=()=>{}}=t,m;function v(c){Y[c?"unshift":"push"](()=>{m=c,e(4,m)})}function r(){s=this.value,e(0,s)}const o=()=>m.select();return n.$$set=c=>{"title"in c&&e(0,s=c.title),"active"in c&&e(1,i=c.active),"onClose"in c&&e(2,a=c.onClose),"onClick"in c&&e(3,l=c.onClick)},[s,i,a,l,m,v,r,o]}class Vt extends L{constructor(t){super(),G(this,t,At,St,H,{title:0,active:1,onClose:2,onClick:3})}}const B=Ct({tabs:[],activeIndex:0}),W={newTab:({title:n="Untitled",text:t=""}={})=>{B.update(e=>(e.tabs.push({title:n,text:t}),e.activeIndex=e.tabs.length-1,e))},removeTab:n=>{B.update(t=>(t.tabs.splice(n,1),t.activeIndex=Math.min(t.activeIndex,t.tabs.length-1),t))},setActiveIndex:n=>{B.update(t=>(t.activeIndex=n<0||n>=t.tabs.length?0:n,t))},swapTabs:(n,t,e)=>{B.update(s=>{const i=s.tabs[n];return s.tabs[n]=s.tabs[t],s.tabs[t]=i,s.activeIndex==n?s.activeIndex=t:s.activeIndex==t&&(s.activeIndex=n),s}),e&&e()}};function Mt(n){return n*n*n}function Bt(n){const t=n-1;return t*t*t+1}function ot(n,t,e){const s=n.slice();return s[16]=t[e],s[17]=t,s[18]=e,s}function ct(n,t){let e,s,i,a,l,m,v;function r(){return t[9](t[18])}function o(){return t[10](t[18])}function c(u){t[11](u,t[18])}let p={active:t[2].activeIndex==t[18],onClose:r,onClick:o};return t[2].tabs[t[18]].title!==void 0&&(p.title=t[2].tabs[t[18]].title),s=new Vt({props:p}),Y.push(()=>mt(s,"title",c)),{key:n,first:null,c(){e=C("div"),q(s.$$.fragment),a=x(),this.h()},l(u){e=y(u,"DIV",{class:!0});var _=$(e);z(s.$$.fragment,_),a=P(_),_.forEach(k),this.h()},h(){b(e,"class","tab-container svelte-1x40tdd"),K(e,"lockMaxWidth",t[1]>0),this.first=e},m(u,_){U(u,e,_),X(s,e,null),D(e,a),v=!0},p(u,_){t=u;const E={};_&4&&(E.active=t[2].activeIndex==t[18]),_&4&&(E.onClose=r),_&4&&(E.onClick=o),!i&&_&4&&(i=!0,E.title=t[2].tabs[t[18]].title,dt(()=>i=!1)),s.$set(E),(!v||_&2)&&K(e,"lockMaxWidth",t[1]>0)},i(u){v||(O(s.$$.fragment,u),u&&bt(()=>{v&&(m&&m.end(1),l=It(e,t[3],{}),l.start())}),v=!0)},o(u){N(s.$$.fragment,u),l&&l.invalidate(),u&&(m=Tt(e,t[4],{})),v=!1},d(u){u&&k(e),F(s),u&&m&&m.end()}}}function Nt(n){let t,e,s,i=[],a=new Map,l,m,v,r,o,c,p,u,_=lt(n[2].tabs);const E=d=>d[16];for(let d=0;d<_.length;d+=1){let h=ot(n,_,d),w=E(h);a.set(w,i[d]=ct(w,h))}return v=new _t({props:{url:vt+"/images/svg/plus.svg",onClick:n[6]}}),{c(){t=C("div"),e=C("div"),s=C("div");for(let d=0;d<i.length;d+=1)i[d].c();l=x(),m=C("div"),q(v.$$.fragment),r=x(),o=C("div"),this.h()},l(d){t=y(d,"DIV",{});var h=$(t);e=y(h,"DIV",{class:!0});var w=$(e);s=y(w,"DIV",{class:!0});var f=$(s);for(let T=0;T<i.length;T+=1)i[T].l(f);f.forEach(k),l=P(w),m=y(w,"DIV",{class:!0});var I=$(m);z(v.$$.fragment,I),I.forEach(k),w.forEach(k),r=P(h),o=y(h,"DIV",{class:!0}),$(o).forEach(k),h.forEach(k),this.h()},h(){b(s,"class","tabs svelte-1x40tdd"),b(m,"class","buttons svelte-1x40tdd"),b(e,"class","toolbar svelte-1x40tdd"),b(o,"class","separator svelte-1x40tdd")},m(d,h){U(d,t,h),D(t,e),D(e,s);for(let w=0;w<i.length;w+=1)i[w]&&i[w].m(s,null);n[12](s),D(e,l),D(e,m),X(v,m,null),D(t,r),D(t,o),c=!0,p||(u=R(e,"click",ht(n[13])),p=!0)},p(d,[h]){h&166&&(_=lt(d[2].tabs),kt(),i=Et(i,h,E,1,d,_,a,s,yt,ct,null,ot),wt())},i(d){if(!c){for(let h=0;h<_.length;h+=1)O(i[h]);O(v.$$.fragment,d),c=!0}},o(d){for(let h=0;h<i.length;h+=1)N(i[h]);N(v.$$.fragment,d),c=!1},d(d){d&&k(t);for(let h=0;h<i.length;h+=1)i[h].d();n[12](null),F(v),p=!1,u()}}}const tt=200,Ot=120,Rt=80;function Ut(n,t=300){let e;return(...s)=>{e||n.apply(this,s),clearTimeout(e),e=setTimeout(()=>{e=void 0},t)}}function Wt(n,t,e){let s;ft(n,B,f=>e(2,s=f));let i,a=0;const l=(f,I=300)=>{let T;return(...V)=>{clearTimeout(T),T=setTimeout(()=>{f.apply(this,V)},I)}};function m(f){let I=f.getBoundingClientRect();return{duration:Ot,easing:Bt,css:T=>`width: ${I.width*T}px;`}}function v(f){var T;let I=f.getBoundingClientRect();return(T=f.querySelector(".tab"))==null||T.classList.remove("active"),{duration:Rt,easing:Mt,css:V=>`width: ${I.width*V}px;`}}function r(f){W.setActiveIndex(f),i.children[f].scrollIntoView({behavior:"smooth"})}function o(){W.newTab(),setTimeout(()=>{i.scrollBy({left:i.scrollWidth,behavior:"smooth"})})}const c=l(()=>{e(1,a=0)},1e3);function p(f){s.tabs.length!=1&&(f<s.tabs.length-1&&(e(1,a=i.children[0].clientWidth),i.style.setProperty("--lock-width",`${a}px`),c()),W.removeTab(f))}const u=Ut((f,I)=>{const T=i.children[f],V=i.children[I],g=T.getBoundingClientRect(),S=V.getBoundingClientRect();function A(M,et,nt){const Z=getComputedStyle(M),st=Z.transform==="none"?"":Z.transform,[it,Ht]=Z.transformOrigin.split(" ").map(parseFloat),pt=et.left+et.width*it/nt.width-(nt.left+it),at=M.style.cssText;M.style.cssText+=`transform: ${st} translateX(${pt}px);`,setTimeout(()=>{M.style.cssText=at+`transition: transform ${tt}ms ease-in-out;transform: ${st} translateX(0);`,setTimeout(()=>{M.style.cssText=at},tt)})}W.swapTabs(f,I,()=>{A(T,g,S),A(V,S,g)})},tt),_=f=>p(f),E=f=>r(f);function d(f,I){n.$$.not_equal(s.tabs[I].title,f)&&(s.tabs[I].title=f,B.set(s))}function h(f){Y[f?"unshift":"push"](()=>{i=f,e(0,i)})}return[i,a,s,m,v,r,o,p,u,_,E,d,h,()=>{u(0,1)}]}class xt extends L{constructor(t){super(),G(this,t,Wt,Nt,H,{})}}function qt(n){let t,e,s,i;return{c(){t=C("div"),e=C("textarea"),this.h()},l(a){t=y(a,"DIV",{id:!0,class:!0});var l=$(t);e=y(l,"TEXTAREA",{spellcheck:!0,name:!0,id:!0,class:!0}),$(e).forEach(k),l.forEach(k),this.h()},h(){b(e,"spellcheck","false"),b(e,"name","editor"),b(e,"id","text"),b(e,"class","svelte-7cpmmf"),b(t,"id","editor"),b(t,"class","svelte-7cpmmf")},m(a,l){U(a,t,l),D(t,e),Q(e,n[0]),s||(i=R(e,"input",n[1]),s=!0)},p(a,[l]){l&1&&Q(e,a[0])},i:J,o:J,d(a){a&&k(t),s=!1,i()}}}function Pt(n,t,e){let{text:s}=t;function i(){s=this.value,e(0,s)}return n.$$set=a=>{"text"in a&&e(0,s=a.text)},[s,i]}class zt extends L{constructor(t){super(),G(this,t,Pt,qt,H,{text:0})}}function Xt(n){let t,e,s,i,a,l;e=new xt({});function m(r){n[1](r)}let v={};return n[0].tabs[n[0].activeIndex].text!==void 0&&(v.text=n[0].tabs[n[0].activeIndex].text),i=new zt({props:v}),Y.push(()=>mt(i,"text",m)),{c(){t=C("div"),q(e.$$.fragment),s=x(),q(i.$$.fragment),this.h()},l(r){t=y(r,"DIV",{class:!0});var o=$(t);z(e.$$.fragment,o),s=P(o),z(i.$$.fragment,o),o.forEach(k),this.h()},h(){b(t,"class","container svelte-16qa0xo")},m(r,o){U(r,t,o),X(e,t,null),D(t,s),X(i,t,null),l=!0},p(r,[o]){const c={};!a&&o&1&&(a=!0,c.text=r[0].tabs[r[0].activeIndex].text,dt(()=>a=!1)),i.$set(c)},i(r){l||(O(e.$$.fragment,r),O(i.$$.fragment,r),l=!0)},o(r){N(e.$$.fragment,r),N(i.$$.fragment,r),l=!1},d(r){r&&k(t),F(e),F(i)}}}function Ft(n,t,e){let s;ft(n,B,a=>e(0,s=a)),W.newTab({title:"Hello ðŸ‘‹",text:"Welcome to notep... not notepad. Something completely different (Microsoft, don't sue me). v0.15"});function i(a){n.$$.not_equal(s.tabs[s.activeIndex].text,a)&&(s.tabs[s.activeIndex].text=a,B.set(s))}return[s,i]}class Jt extends L{constructor(t){super(),G(this,t,Ft,Xt,H,{})}}export{Jt as component};
