import{s as ne,n as P,r as Ce,j as ge,y as Ke,b as G,c as we,o as Ve,a as Qe,z as Je,A as Ze}from"../chunks/scheduler.aSSXveB9.js";import{S as se,i as le,e as T,s as q,c as E,a as S,k as $,f as U,d as y,l as m,C as O,g as V,h as w,D as Z,m as M,E as ve,F as Le,x as re,y as ae,z as ie,v as Te,q as Ee,r as B,p as N,A as oe,G as xe,o as ee}from"../chunks/index.Od8y6qfS.js";import{e as ye,u as qe,o as Ue,a as Ie,c as de,b as He}from"../chunks/animate.CYEsfzeQ.js";import{t as te,e as W,f as Re,b as De,d as $e,c as et,s as tt}from"../chunks/tabsStore.CdWy4I1r.js";import{b as x}from"../chunks/paths.B1d-8mxe.js";import{_ as nt}from"../chunks/preload-helper.D6kgxu3v.js";function st(r){let e,t,n="",a,s,o,u,l,f=`<span class="close-icon svelte-1yt14my" style="-webkit-mask: url(${x}/images/svg/cancel.svg) no-repeat center / contain; mask: url(${x}/images/svg/cancel.svg) no-repeat center / contain;"></span>`,g,p;return{c(){e=T("div"),t=T("button"),t.innerHTML=n,a=q(),s=T("div"),o=T("input"),u=q(),l=T("button"),l.innerHTML=f,this.h()},l(c){e=E(c,"DIV",{class:!0});var d=S(e);t=E(d,"BUTTON",{class:!0,draggable:!0,"data-svelte-h":!0}),$(t)!=="svelte-1m2idpq"&&(t.innerHTML=n),a=U(d),s=E(d,"DIV",{class:!0});var h=S(s);o=E(h,"INPUT",{autocorrect:!0,autocomplete:!0,spellcheck:!0,type:!0,class:!0}),u=U(h),l=E(h,"BUTTON",{class:!0,draggable:!0,"data-svelte-h":!0}),$(l)!=="svelte-1x3debq"&&(l.innerHTML=f),h.forEach(y),d.forEach(y),this.h()},h(){m(t,"class","tab svelte-1yt14my"),m(t,"draggable","true"),O(t,"active",r[1]),m(o,"autocorrect","off"),m(o,"autocomplete","off"),m(o,"spellcheck","false"),m(o,"type","text"),m(o,"class","svelte-1yt14my"),m(l,"class","close-button svelte-1yt14my"),m(l,"draggable","true"),m(s,"class","tab-wrapper svelte-1yt14my"),m(e,"class","container svelte-1yt14my"),O(e,"preventHover",r[2])},m(c,d){V(c,e,d),w(e,t),w(e,a),w(e,s),w(s,o),r[9](o),Z(o,r[0]),w(s,u),w(s,l),g||(p=[M(t,"dblclick",ve(r[8])),M(t,"mousedown",ve(function(){ge(r[4])&&r[4].apply(this,arguments)})),M(t,"touchstart",ve(function(){ge(r[4])&&r[4].apply(this,arguments)})),M(t,"dragstart",ve(function(){ge(r[5])&&r[5].apply(this,arguments)})),M(o,"input",r[10]),M(l,"click",Le(function(){ge(r[3])&&r[3].apply(this,arguments)})),M(l,"dragstart",Le(r[7]))],g=!0)},p(c,[d]){r=c,d&2&&O(t,"active",r[1]),d&1&&o.value!==r[0]&&Z(o,r[0]),d&4&&O(e,"preventHover",r[2])},i:P,o:P,d(c){c&&y(e),r[9](null),g=!1,Ce(p)}}}function lt(r,e,t){let{title:n=""}=e,{active:a=!1}=e,{preventHover:s=!1}=e,{onClose:o=()=>{}}=e,{onPointerdown:u=h=>{}}=e,{onDragstart:l=h=>{}}=e,f;function g(h){Ke.call(this,r,h)}const p=()=>f.select();function c(h){G[h?"unshift":"push"](()=>{f=h,t(6,f)})}function d(){n=this.value,t(0,n)}return r.$$set=h=>{"title"in h&&t(0,n=h.title),"active"in h&&t(1,a=h.active),"preventHover"in h&&t(2,s=h.preventHover),"onClose"in h&&t(3,o=h.onClose),"onPointerdown"in h&&t(4,u=h.onPointerdown),"onDragstart"in h&&t(5,l=h.onDragstart)},[n,a,s,o,u,l,f,g,p,c,d]}class Oe extends se{constructor(e){super(),le(this,e,lt,st,ne,{title:0,active:1,preventHover:2,onClose:3,onPointerdown:4,onDragstart:5})}}function Ae(r,e,t){const n=r.slice();return n[38]=e[t],n[39]=e,n[40]=t,n}function Se(r,e){let t,n,a,s,o=e[40],u,l,f;function g(){return e[15](e[40])}function p(...v){return e[16](e[40],...v)}function c(v){e[17](v,e[40])}let d={active:e[9].activeIndex==e[40],preventHover:e[8],onClose:g,onPointerdown:p,onDragstart:e[13]};e[9].tabs[e[40]].title!==void 0&&(d.title=e[9].tabs[e[40]].title),n=new Oe({props:d}),G.push(()=>xe(n,"title",c));const h=()=>e[18](t,o),H=()=>e[18](null,o);return{key:r,first:null,c(){t=T("div"),re(n.$$.fragment),s=q(),this.h()},l(v){t=E(v,"DIV",{class:!0});var C=S(t);ae(n.$$.fragment,C),s=U(C),C.forEach(y),this.h()},h(){m(t,"class","tab-container svelte-1is7u8k"),O(t,"placeholder",e[9].placeholderIndex==e[40]),this.first=t},m(v,C){V(v,t,C),ie(n,t,null),w(t,s),h(),u=!0,l||(f=Qe(e[12].call(null,t)),l=!0)},p(v,C){e=v;const A={};C[0]&512&&(A.active=e[9].activeIndex==e[40]),C[0]&256&&(A.preventHover=e[8]),C[0]&512&&(A.onClose=g),C[0]&512&&(A.onPointerdown=p),!a&&C[0]&512&&(a=!0,A.title=e[9].tabs[e[40]].title,Je(()=>a=!1)),n.$set(A),o!==e[40]&&(H(),o=e[40],h()),(!u||C[0]&512)&&O(t,"placeholder",e[9].placeholderIndex==e[40])},i(v){u||(B(n.$$.fragment,v),u=!0)},o(v){N(n.$$.fragment,v),u=!1},d(v){v&&y(t),oe(n),H(),l=!1,f()}}}function rt(r){let e,t,n,a=[],s=new Map,o,u,l,f=`<span class="button-icon svelte-1is7u8k" style="-webkit-mask: url(${x}/images/svg/plus.svg) no-repeat center / contain; mask: url(${x}/images/svg/plus.svg) no-repeat center / contain;"></span>`,g,p,c,d=`<span class="button-icon svelte-1is7u8k" style="-webkit-mask: url(${x}/images/svg/logout.svg) no-repeat center / contain; mask: url(${x}/images/svg/logout.svg) no-repeat center / contain;"></span>`,h,H,v,C,A,R,Y,me,j=ye(r[9].tabs);const ue=I=>I[38];for(let I=0;I<j.length;I+=1){let k=Ae(r,j,I),D=ue(k);s.set(D,a[I]=Se(D,k))}return v=new Oe({props:{title:r[4],active:!r[6],preventHover:!0}}),{c(){e=T("div"),t=T("div"),n=T("div");for(let I=0;I<a.length;I+=1)a[I].c();o=q(),u=T("div"),l=T("button"),l.innerHTML=f,g=q(),p=T("div"),c=T("button"),c.innerHTML=d,h=q(),H=T("div"),re(v.$$.fragment),C=q(),A=T("div"),this.h()},l(I){e=E(I,"DIV",{class:!0});var k=S(e);t=E(k,"DIV",{class:!0});var D=S(t);n=E(D,"DIV",{class:!0});var be=S(n);for(let Q=0;Q<a.length;Q+=1)a[Q].l(be);be.forEach(y),o=U(D),u=E(D,"DIV",{class:!0});var _e=S(u);l=E(_e,"BUTTON",{class:!0,"data-svelte-h":!0}),$(l)!=="svelte-g0ls06"&&(l.innerHTML=f),_e.forEach(y),g=U(D),p=E(D,"DIV",{class:!0});var F=S(p);c=E(F,"BUTTON",{class:!0,"data-svelte-h":!0}),$(c)!=="svelte-1df52fh"&&(c.innerHTML=d),F.forEach(y),h=U(D),H=E(D,"DIV",{class:!0});var K=S(H);ae(v.$$.fragment,K),K.forEach(y),D.forEach(y),C=U(k),A=E(k,"DIV",{class:!0}),S(A).forEach(y),k.forEach(y),this.h()},h(){m(n,"class","tabs svelte-1is7u8k"),m(l,"class","button svelte-1is7u8k"),m(u,"class","new-tab-container svelte-1is7u8k"),m(c,"class","logout button svelte-1is7u8k"),m(p,"class","logout-container svelte-1is7u8k"),m(H,"class","clone svelte-1is7u8k"),O(H,"dragging",r[1]),m(t,"class","tabbar svelte-1is7u8k"),m(A,"class","separator svelte-1is7u8k"),m(e,"class","svelte-1is7u8k")},m(I,k){V(I,e,k),w(e,t),w(t,n);for(let D=0;D<a.length;D+=1)a[D]&&a[D].m(n,null);r[19](n),w(t,o),w(t,u),w(u,l),w(t,g),w(t,p),w(p,c),w(t,h),w(t,H),ie(v,H,null),r[20](H),w(e,C),w(e,A),r[21](e),R=!0,Y||(me=[M(l,"click",r[10]),M(c,"click",function(){ge(r[0])&&r[0].apply(this,arguments)})],Y=!0)},p(I,k){r=I,k[0]&27400&&(j=ye(r[9].tabs),Te(),a=qe(a,k,ue,1,r,j,s,n,Ue,Se,null,Ae),Ee());const D={};k[0]&16&&(D.title=r[4]),k[0]&64&&(D.active=!r[6]),v.$set(D),(!R||k[0]&2)&&O(H,"dragging",r[1])},i(I){if(!R){for(let k=0;k<j.length;k+=1)B(a[k]);B(v.$$.fragment,I),R=!0}},o(I){for(let k=0;k<a.length;k+=1)N(a[k]);N(v.$$.fragment,I),R=!1},d(I){I&&y(e);for(let k=0;k<a.length;k+=1)a[k].d();r[19](null),oe(v),r[20](null),r[21](null),Y=!1,Ce(me)}}}const at=12,ke=140,he=70,pe=200,it=1600,Pe=.3;function ot(r,e,t){let n;we(r,te,i=>t(9,n=i));let{logout:a=()=>{}}=e,s,o=[],u=0,l=null,f=-1,g="",p,c,d,h=!1,H=!1,v=0,C=0,A=0,R,Y=!1;const me=(i,b=300)=>{let _;return(...L)=>{clearTimeout(_),_=setTimeout(()=>{i.apply(void 0,L)},b)}};function j(){W.newTab()}const ue=i=>{if(!o[i]){console.warn("Cannot close tab!");return}u=o[i].getBoundingClientRect().width,i<n.tabs.length-1&&(s.style.setProperty("--tab-max-width",`${u}px`),I()),i==n.tabs.length-1?W.setActiveIndex(i-1):i==n.activeIndex&&W.setActiveIndex(i+1),Ie({duration:pe,easing:de,onStep:(b,_)=>{i==0?t(2,s.style.gridTemplateColumns=`minmax(${_*he}px, ${_*u}px)`,s):t(2,s.style.gridTemplateColumns=`repeat(${i}, minmax(var(--tab-min-width), var(--tab-max-width))) minmax(${_*he}px, ${_*u}px)`,s)},onEnd:()=>{t(2,s.style.gridTemplateColumns="",s),W.removeTab(i)}})},I=me(()=>{s&&(s.style.setProperty("--tab-max-width",`${ke}px`),Ie({duration:pe,easing:de,onStep:(i,b)=>{s.style.setProperty("--tab-max-width",`${u+i*(ke-u)}px`)},onEnd:()=>{s.style.setProperty("--tab-max-width",`${ke}px`)}}))},it);function k(i){if(!s)return;const b=i.getBoundingClientRect().width;Ie({duration:pe,easing:de,onStep:(_,L)=>{n.tabs.length==1?t(2,s.style.gridTemplateColumns=`minmax(${_*he}px, ${_*b}px)`,s):t(2,s.style.gridTemplateColumns=`repeat(${n.tabs.length-1}, minmax(var(--tab-min-width), var(--tab-max-width))) minmax(${_*he}px, ${_*b}px)`,s),t(2,s.scrollLeft=s.scrollWidth,s)},onEnd:()=>{t(2,s.style.gridTemplateColumns="",s)}})}const D=(i,b)=>{const _=o[0].getBoundingClientRect().width;W.moveTab(i,b,()=>{if(i>b)for(let L=b;L<i;L++)He(o[L],{duration:pe,easing:de,css:(ce,z)=>`transform: translateX(-${z*_}px);`});if(i<b)for(let L=b;L>i;L--)He(o[L],{duration:pe,easing:de,css:(ce,z)=>`transform: translateX(${z*_}px);`})})};function be(i){!i.target||!i.dataTransfer||(i.dataTransfer.setData("text/plain",f.toString()),i.dataTransfer.setDragImage(new Image,0,0))}function _e(i,b){if(i==0&&b==0){t(5,d.style.left="-1000px",d),t(5,d.style.top="-1000px",d);return}let _=R.getBoundingClientRect();if(i<_.left||i>_.right||b<_.top||b>_.bottom){H||(A=0),t(5,d.style.left=`${i+v}px`,d),t(5,d.style.top=`${b+C}px`,d),t(6,H=!0);return}H&&t(6,H=!1),t(5,d.style.left=`${i+v}px`,d),t(5,d.style.top=`${c.top}px`,d);const L=-s.scrollLeft,ce=o[0].getBoundingClientRect().width;let z=-1;if(i>L+n.tabs.length*ce)z=n.tabs.length-1;else for(let fe=0;fe<n.tabs.length;fe++)if(i>L+fe*ce&&i<L+(fe+1)*ce){z=fe;break}i<20?(A=-Pe,requestAnimationFrame(K)):i>s.clientWidth-10?(A=Pe,requestAnimationFrame(K)):A=0,!(z==-1||z==n.placeholderIndex)&&D(n.placeholderIndex,z)}let F=0;function K(i){if(!h||A==0){F=0;return}F==0&&(F=i);const b=i-F;F=i,s.scrollBy({left:A*b}),requestAnimationFrame(K)}function Q(i,b){if(!i.target)return;let _,L;i instanceof TouchEvent?(_=i.touches[0].clientX,L=i.touches[0].clientY):(_=i.clientX,L=i.clientY),window.addEventListener("touchmove",J,{passive:!1}),window.addEventListener("touchend",X),window.addEventListener("mousemove",J),window.addEventListener("mouseup",X),window.addEventListener("drag",J),window.addEventListener("dragend",X),window.addEventListener("blur",X),W.setActiveIndex(b),p=i.target,c=p.getBoundingClientRect(),l=[_,L],v=c.left-_,C=c.top-L,t(5,d.style.width=`${c.width}px`,d),t(5,d.style.left=`${c.left}px`,d),t(5,d.style.top=`${c.top}px`,d),f=b,t(4,g=n.tabs[b].title)}function J(i){let b,_;if(i instanceof TouchEvent?(b=i.touches[0].clientX,_=i.touches[0].clientY,i.preventDefault()):(b=i.clientX,_=i.clientY),h){_e(b,_);return}l===null||Math.hypot(l[0]-b,l[1]-_)<at||(t(1,h=!0),W.setPlaceholderIndex(f),W.setActiveIndex(f))}function X(){window.removeEventListener("touchmove",J),window.removeEventListener("touchend",X),window.removeEventListener("mousemove",J),window.removeEventListener("mouseup",X),window.removeEventListener("drag",J),window.removeEventListener("dragend",X),window.removeEventListener("blur",X),l=null,t(6,H=!1),f=-1,v=0,C=0,W.setPlaceholderIndex(),t(1,h=!1)}Ve(()=>{s.style.setProperty("--tab-max-width",`${ke}px`),s.style.setProperty("--tab-min-width",`${he}px`)});const ze=i=>ue(i),We=(i,b)=>Q(b,i);function Fe(i,b){r.$$.not_equal(n.tabs[b].title,i)&&(n.tabs[b].title=i,te.set(n))}function Xe(i,b){G[i?"unshift":"push"](()=>{o[b]=i,t(3,o)})}function Ye(i){G[i?"unshift":"push"](()=>{s=i,t(2,s)})}function je(i){G[i?"unshift":"push"](()=>{d=i,t(5,d)})}function Ge(i){G[i?"unshift":"push"](()=>{R=i,t(7,R)})}return r.$$set=i=>{"logout"in i&&t(0,a=i.logout)},r.$$.update=()=>{r.$$.dirty[0]&2&&(h?t(8,Y=!0):setTimeout(()=>t(8,Y=!1),20))},[a,h,s,o,g,d,H,R,Y,n,j,ue,k,be,Q,ze,We,Fe,Xe,Ye,je,Ge]}class ut extends se{constructor(e){super(),le(this,e,ot,rt,ne,{logout:0},null,[-1,-1])}}function ct(r){let e,t;return{c(){e=T("div"),t=T("div"),this.h()},l(n){e=E(n,"DIV",{class:!0});var a=S(e);t=E(a,"DIV",{class:!0}),S(t).forEach(y),a.forEach(y),this.h()},h(){m(t,"class","quill-editor svelte-hnk5eb"),m(e,"class","quill-editor-wrapper svelte-hnk5eb"),O(e,"disabled",r[0])},m(n,a){V(n,e,a),w(e,t),r[3](t)},p(n,[a]){a&1&&O(e,"disabled",n[0])},i:P,o:P,d(n){n&&y(e),r[3](null)}}}function ft(r,e,t){let n;we(r,te,c=>t(4,n=c));let{disabled:a=!1}=e,s,o;function u(){s&&s.setContents(n.tabs[n.activeIndex].ops)}function l(){s&&Ze(te,n.tabs[n.activeIndex].ops=s.getContents().ops,n)}function f(c,d,h){h==="user"&&l()}async function g(){const{default:c}=await nt(()=>import("../chunks/quill.BqYzQad1.js"),[],import.meta.url);t(2,s=new c(o,{formats:["bold","italic","underline","strike","code"],placeholder:"Enter text here"})),u(),s.on("text-change",f),s.keyboard.addBinding({key:"/",altKey:!0},()=>{s.format("code",!s.getFormat().code)}),s.keyboard.addBinding({key:"-",altKey:!0},()=>{s.format("strike",!s.getFormat().strike)})}Ve(()=>{g()});function p(c){G[c?"unshift":"push"](()=>{o=c,t(1,o)})}return r.$$set=c=>{"disabled"in c&&t(0,a=c.disabled)},r.$$.update=()=>{r.$$.dirty&5&&(a?s==null||s.disable():s==null||s.enable())},[a,o,s,p]}class dt extends se{constructor(e){super(),le(this,e,ft,ct,ne,{disabled:0})}}function Me(r){let e,t="Wrong password!";return{c(){e=T("b"),e.textContent=t,this.h()},l(n){e=E(n,"B",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1rh5isq"&&(e.textContent=t),this.h()},h(){m(e,"class","error svelte-dzxb86")},m(n,a){V(n,e,a)},d(n){n&&y(e)}}}function ht(r){let e,t,n,a,s,o,u,l,f,g,p=r[2]&&Me();return{c(){e=T("div"),t=T("form"),n=T("input"),a=q(),s=T("input"),o=q(),p&&p.c(),u=q(),l=T("input"),this.h()},l(c){e=E(c,"DIV",{class:!0});var d=S(e);t=E(d,"FORM",{class:!0});var h=S(t);n=E(h,"INPUT",{class:!0,type:!0,placeholder:!0}),a=U(h),s=E(h,"INPUT",{class:!0,type:!0,placeholder:!0}),o=U(h),p&&p.l(h),u=U(h),l=E(h,"INPUT",{type:!0,class:!0}),h.forEach(y),d.forEach(y),this.h()},h(){m(n,"class","email svelte-dzxb86"),m(n,"type","email"),m(n,"placeholder","Email"),n.required=!0,m(s,"class","password svelte-dzxb86"),m(s,"type","password"),m(s,"placeholder","Password"),s.required=!0,m(l,"type","submit"),l.value="Login",m(l,"class","btn svelte-dzxb86"),m(t,"class","form svelte-dzxb86"),m(e,"class","form-container svelte-dzxb86")},m(c,d){V(c,e,d),w(e,t),w(t,n),Z(n,r[0]),w(t,a),w(t,s),Z(s,r[1]),w(t,o),p&&p.m(t,null),w(t,u),w(t,l),f||(g=[M(n,"input",r[4]),M(s,"input",r[5]),M(t,"submit",r[3])],f=!0)},p(c,[d]){d&1&&n.value!==c[0]&&Z(n,c[0]),d&2&&s.value!==c[1]&&Z(s,c[1]),c[2]?p||(p=Me(),p.c(),p.m(t,u)):p&&(p.d(1),p=null)},i:P,o:P,d(c){c&&y(e),p&&p.d(),f=!1,Ce(g)}}}function pt(r,e,t){let n="",a="",s=!1;async function o(){try{t(2,s=!1),await Re.login(n,a)}catch{console.log("Login failed!"),t(2,s=!0)}}function u(){n=this.value,t(0,n)}function l(){a=this.value,t(1,a)}return[n,a,s,o,u,l]}class gt extends se{constructor(e){super(),le(this,e,pt,ht,ne,{})}}function mt(r){let e,t='<span class="spinner svelte-1qqzqd5"></span>';return{c(){e=T("div"),e.innerHTML=t,this.h()},l(n){e=E(n,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1ofjtkb"&&(e.innerHTML=t),this.h()},h(){m(e,"class","spinner-container svelte-1qqzqd5")},m(n,a){V(n,e,a)},p:P,i:P,o:P,d(n){n&&y(e)}}}class bt extends se{constructor(e){super(),le(this,e,null,mt,ne,{})}}function Be(r,e,t){const n=r.slice();return n[6]=e[t],n[8]=t,n}function _t(r){let e,t;return e=new gt({}),{c(){re(e.$$.fragment)},l(n){ae(e.$$.fragment,n)},m(n,a){ie(e,n,a),t=!0},p:P,i(n){t||(B(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){oe(e,n)}}}function vt(r){let e,t;return e=new bt({}),{c(){re(e.$$.fragment)},l(n){ae(e.$$.fragment,n)},m(n,a){ie(e,n,a),t=!0},p:P,i(n){t||(B(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){oe(e,n)}}}function kt(r){let e,t,n,a,s,o;t=new ut({props:{logout:Re.logout}});const u=[yt,wt],l=[];function f(g,p){return g[1].tabs.length>0?0:1}return a=f(r),s=l[a]=u[a](r),{c(){e=T("div"),re(t.$$.fragment),n=q(),s.c(),this.h()},l(g){e=E(g,"DIV",{class:!0});var p=S(e);ae(t.$$.fragment,p),n=U(p),s.l(p),p.forEach(y),this.h()},h(){m(e,"class","container svelte-ka5mjn")},m(g,p){V(g,e,p),ie(t,e,null),w(e,n),l[a].m(e,null),o=!0},p(g,p){let c=a;a=f(g),a===c?l[a].p(g,p):(Te(),N(l[c],1,1,()=>{l[c]=null}),Ee(),s=l[a],s?s.p(g,p):(s=l[a]=u[a](g),s.c()),B(s,1),s.m(e,null))},i(g){o||(B(t.$$.fragment,g),B(s),o=!0)},o(g){N(t.$$.fragment,g),N(s),o=!1},d(g){g&&y(e),oe(t),l[a].d()}}}function wt(r){let e;return{c(){e=T("div"),this.h()},l(t){e=E(t,"DIV",{class:!0}),S(e).forEach(y),this.h()},h(){m(e,"class","editor-placeholder svelte-ka5mjn")},m(t,n){V(t,e,n)},p:P,i:P,o:P,d(t){t&&y(e)}}}function yt(r){let e=[],t=new Map,n,a,s=ye(r[1].tabs);const o=u=>u[6];for(let u=0;u<s.length;u+=1){let l=Be(r,s,u),f=o(l);t.set(f,e[u]=Ne(f,l))}return{c(){for(let u=0;u<e.length;u+=1)e[u].c();n=ee()},l(u){for(let l=0;l<e.length;l+=1)e[l].l(u);n=ee()},m(u,l){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(u,l);V(u,n,l),a=!0},p(u,l){l&2&&(s=ye(u[1].tabs),Te(),e=qe(e,l,o,1,u,s,t,n.parentNode,Ue,Ne,n,Be),Ee())},i(u){if(!a){for(let l=0;l<s.length;l+=1)B(e[l]);a=!0}},o(u){for(let l=0;l<e.length;l+=1)N(e[l]);a=!1},d(u){u&&y(n);for(let l=0;l<e.length;l+=1)e[l].d(u)}}}function Ne(r,e){let t,n,a;return n=new dt({props:{disabled:e[8]!==e[1].activeIndex}}),{key:r,first:null,c(){t=ee(),re(n.$$.fragment),this.h()},l(s){t=ee(),ae(n.$$.fragment,s),this.h()},h(){this.first=t},m(s,o){V(s,t,o),ie(n,s,o),a=!0},p(s,o){e=s;const u={};o&2&&(u.disabled=e[8]!==e[1].activeIndex),n.$set(u)},i(s){a||(B(n.$$.fragment,s),a=!0)},o(s){N(n.$$.fragment,s),a=!1},d(s){s&&y(t),oe(n,s)}}}function Tt(r){let e,t,n,a;const s=[kt,vt,_t],o=[];function u(l,f){return l[0].currentUser?0:l[0].isLoading?1:2}return e=u(r),t=o[e]=s[e](r),{c(){t.c(),n=ee()},l(l){t.l(l),n=ee()},m(l,f){o[e].m(l,f),V(l,n,f),a=!0},p(l,[f]){let g=e;e=u(l),e===g?o[e].p(l,f):(Te(),N(o[g],1,1,()=>{o[g]=null}),Ee(),t=o[e],t?t.p(l,f):(t=o[e]=s[e](l),t.c()),B(t,1),t.m(n.parentNode,n))},i(l){a||(B(t),a=!0)},o(l){N(t),a=!1},d(l){l&&y(n),o[e].d(l)}}}function Et(r,e,t){let n,a;we(r,De,l=>t(0,n=l)),we(r,te,l=>t(1,a=l));let s={tabs:""};async function o(){if(n.currentUser)try{const l=$e(et,"users",n.currentUser.uid);await tt(l,s,{merge:!0}),console.log("Save successful!")}catch(l){console.log("There was an error saving data!",l)}}function u(l){De.update(f=>({...f,data:l})),o()}return De.subscribe(l=>{l.currentUser&&l.currentUser,l.data&&(s=l.data)}),te.subscribe(l=>{const f=JSON.stringify(l.tabs);if(s.tabs===f){console.log("skipping update, no changes made");return}s.tabs=f,u({...s,tabs:f})}),[n,a]}class St extends se{constructor(e){super(),le(this,e,Et,Tt,ne,{})}}export{St as component};
