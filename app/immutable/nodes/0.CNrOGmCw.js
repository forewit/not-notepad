import{s as P,v as q,w as z,x as F,y as O,c as y,o as V,n as H,a as w}from"../chunks/scheduler.Cbw2My0d.js";import{S as T,i as C,H as G,s as L,E as J,h as A,j as v,a as f,t as h,g as m,e as g,c as _,v as K,w as d,A as p,p as R,F as N,q as U,k,r as W,u as x,d as B,o as Q,n as X}from"../chunks/index.s-tUku1V.js";import{s as M,a as $,c as Y,b as j,f as Z}from"../chunks/firebaseStore.BXU8qJOB.js";import{g as ee}from"../chunks/entry.DQ-oavb7.js";import{b}from"../chunks/paths.ToY6vlHV.js";import{t as D}from"../chunks/themes.BTx5Q4mv.js";const te=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,se=!0,ae="always",ye=Object.freeze(Object.defineProperty({__proto__:null,prerender:se,trailingSlash:ae},Symbol.toStringTag,{value:"Module"}));function ne(l){let t,o,s;const a=l[3].default,n=q(a,l,l[2],null);return{c(){t=new G(!1),o=L(),n&&n.c(),this.h()},l(e){t=J(e,!1),o=A(e),n&&n.l(e),this.h()},h(){t.a=o},m(e,r){t.m(l[0],e,r),v(e,o,r),n&&n.m(e,r),s=!0},p(e,[r]){(!s||r&1)&&t.p(e[0]),n&&n.p&&(!s||r&4)&&z(n,a,e,e[2],s?O(a,e[2],r,null):F(e[2]),null)},i(e){s||(f(n,e),s=!0)},o(e){h(n,e),s=!1},d(e){e&&(t.d(),m(o)),n&&n.d(e)}}}function re(l,t,o){let s,a;y(l,M,c=>o(1,a=c));let{$$slots:n={},$$scope:e}=t;function r(c){const u=D.find(S=>S.name===c);return u?`<style>
    :root {
    --bg: ${u.bg};
    --bg-alt: ${u.bgAlt};
    --main: ${u.main};
    --caret: ${u.caret};
    --error: ${u.error};
    --sub: ${u.sub};
    --text: ${u.text};
    }
    </style>`:""}function i(){var u;const c=D.find(S=>S.name===a.theme);c&&((u=document.querySelector('meta[name="theme-color"]'))==null||u.setAttribute("content",c.bg))}return V(()=>{r(a.theme),M.subscribe(i)}),l.$$set=c=>{"$$scope"in c&&o(2,e=c.$$scope)},l.$$.update=()=>{l.$$.dirty&2&&o(0,s=r(a.theme))},[s,a,e,n]}class oe extends T{constructor(t){super(),C(this,t,re,ne,P,{})}}function le(l){let t,o=`<span class="status-icon svelte-1mx6eh7" style="-webkit-mask: url(${b}/images/svg/double-checkmark.svg) no-repeat center / contain; mask: url(${b}/images/svg/double-checkmark.svg) no-repeat center / contain;"></span>`;return{c(){t=g("div"),t.innerHTML=o,this.h()},l(s){t=_(s,"DIV",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-jbp3id"&&(t.innerHTML=o),this.h()},h(){d(t,"class","status svelte-1mx6eh7"),p(t,"saving",l[0].savingStatus==="saving"),p(t,"saved",l[0].savingStatus==="saved"),p(t,"error",l[0].savingStatus==="error")},m(s,a){v(s,t,a)},p(s,[a]){a&1&&p(t,"saving",s[0].savingStatus==="saving"),a&1&&p(t,"saved",s[0].savingStatus==="saved"),a&1&&p(t,"error",s[0].savingStatus==="error")},i:H,o:H,d(s){s&&m(t)}}}function ie(l,t,o){let s;return y(l,$,a=>o(0,s=a)),[s]}class ce extends T{constructor(t){super(),C(this,t,ie,le,P,{})}}const{document:E}=te;function I(l){let t,o,s;return o=new ce({}),{c(){t=g("div"),R(o.$$.fragment),this.h()},l(a){t=_(a,"DIV",{class:!0});var n=B(t);U(o.$$.fragment,n),n.forEach(m),this.h()},h(){d(t,"class","sync-status svelte-1f5yn2u")},m(a,n){v(a,t,n),W(o,t,null),s=!0},i(a){s||(f(o.$$.fragment,a),s=!0)},o(a){h(o.$$.fragment,a),s=!1},d(a){a&&m(t),x(o)}}}function ue(l){let t,o,s;const a=l[1].default,n=q(a,l,l[2],null);let e=!l[0].isLoading&&I();return{c(){t=g("div"),n&&n.c(),o=L(),e&&e.c(),this.h()},l(r){t=_(r,"DIV",{class:!0});var i=B(t);n&&n.l(i),o=A(i),e&&e.l(i),i.forEach(m),this.h()},h(){d(t,"class","layout-container svelte-1f5yn2u")},m(r,i){v(r,t,i),n&&n.m(t,null),k(t,o),e&&e.m(t,null),s=!0},p(r,i){n&&n.p&&(!s||i&4)&&z(n,a,r,r[2],s?O(a,r[2],i,null):F(r[2]),null),r[0].isLoading?e&&(Q(),h(e,1,1,()=>{e=null}),X()):e?i&1&&f(e,1):(e=I(),e.c(),f(e,1),e.m(t,null))},i(r){s||(f(n,r),f(e),s=!0)},o(r){h(n,r),h(e),s=!1},d(r){r&&m(t),n&&n.d(r),e&&e.d()}}}function me(l){let t,o,s,a,n;return a=new oe({props:{$$slots:{default:[ue]},$$scope:{ctx:l}}}),{c(){t=g("meta"),o=g("meta"),s=L(),R(a.$$.fragment),this.h()},l(e){const r=N("svelte-17tnzz8",E.head);t=_(r,"META",{name:!0,content:!0}),o=_(r,"META",{name:!0,content:!0}),r.forEach(m),s=A(e),U(a.$$.fragment,e),this.h()},h(){d(t,"name","viewport"),d(t,"content","width=device-width, user-scalable=0, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover"),d(o,"name","theme-color"),d(o,"content","var(--bg)")},m(e,r){k(E.head,t),k(E.head,o),v(e,s,r),W(a,e,r),n=!0},p(e,[r]){const i={};r&5&&(i.$$scope={dirty:r,ctx:e}),a.$set(i)},i(e){n||(f(a.$$.fragment,e),n=!0)},o(e){h(a.$$.fragment,e),n=!1},d(e){e&&m(s),m(t),m(o),x(a,e)}}}function fe(){switch(screen.orientation.type){case"portrait-primary":document.documentElement.style.setProperty("--safe-area-top","env(safe-area-inset-top)"),document.documentElement.style.setProperty("--safe-area-left","0px"),document.documentElement.style.setProperty("--safe-area-right","0px");break;case"landscape-primary":document.documentElement.style.setProperty("--safe-area-top","0px"),document.documentElement.style.setProperty("--safe-area-left","env(safe-area-inset-left)"),document.documentElement.style.setProperty("--safe-area-right","0px");break;case"landscape-secondary":document.documentElement.style.setProperty("--safe-area-top","0px"),document.documentElement.style.setProperty("--safe-area-left","0px"),document.documentElement.style.setProperty("--safe-area-right","env(safe-area-inset-right)");break}}function de(l,t,o){let s,a;y(l,$,i=>o(0,s=i)),y(l,j,i=>o(3,a=i));let{$$slots:n={},$$scope:e}=t;function r(i){s.savingStatus==="saving"&&i.preventDefault()}return V(()=>{window.addEventListener("beforeunload",r),screen.orientation.addEventListener("change",fe),Y.onAuthStateChanged(async i=>{if(!i){w($,s.currentUser=i,s),w(j,a=window.location.pathname.slice(b.length),a),ee(b+"/login");return}w($,s.currentUser=i,s);try{Z.loadFromFirestore()}catch(c){console.error(c)}})}),l.$$set=i=>{"$$scope"in i&&o(2,e=i.$$scope)},[s,n,e]}class be extends T{constructor(t){super(),C(this,t,de,me,P,{})}}export{be as component,ye as universal};
