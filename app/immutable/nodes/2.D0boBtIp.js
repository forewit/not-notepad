const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/quill.Bk4jDS0q.js","../chunks/core.CG__ofcG.js"])))=>i.map(i=>d[i]);
var wt=Object.defineProperty;var kt=(e,n,t)=>n in e?wt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var W=(e,n,t)=>kt(e,typeof n!="symbol"?n+"":n,t);import{s as He,n as be,r as dt,e as Se,c as ae,o as Qe,d as he,z as _t,A as xt,a as Me,B as Et}from"../chunks/scheduler.CNrmCPBX.js";import{S as Ae,i as Re,e as B,b as Tt,c as O,d as q,f as Lt,g as Y,w as A,A as U,j as se,k as M,x as ye,G as qe,l as Ct,s as ne,p as Te,h as ie,v as Pe,q as Le,z as Ze,r as Ce,o as Oe,n as Ne,a as le,t as re,u as De,I as Dt,m as xe}from"../chunks/index.SQS7u6L1.js";import{e as _e,u as ze,o as Ge}from"../chunks/each.Ug6gzH50.js";import{b as te}from"../chunks/paths.B3CrVV6u.js";import{m as je,t as fe,a as ut,d as ue,s as ft,f as It}from"../chunks/firebaseStore.D7J2Ia6g.js";import{_ as Je}from"../chunks/preload-helper.D6kgxu3v.js";import{S as Yt}from"../chunks/Spinner.DeVkdUsa.js";import{t as Xt}from"../chunks/themes.BTx5Q4mv.js";function Pt(e){let n,t,i,o,l,d;return{c(){n=B("div"),t=B("button"),i=B("span"),o=Tt(e[0]),this.h()},l(a){n=O(a,"DIV",{class:!0});var c=q(n);t=O(c,"BUTTON",{class:!0,draggable:!0});var _=q(t);i=O(_,"SPAN",{class:!0});var m=q(i);o=Lt(m,e[0]),m.forEach(Y),_.forEach(Y),c.forEach(Y),this.h()},h(){A(i,"class","title svelte-1aycx2r"),A(t,"class","tab svelte-1aycx2r"),A(t,"draggable","true"),U(t,"active",e[1]),A(n,"class","tab-container svelte-1aycx2r"),U(n,"preventHover",e[2])},m(a,c){se(a,n,c),M(n,t),M(t,i),M(i,o),l||(d=[ye(t,"mousedown",qe(function(){Se(e[3])&&e[3].apply(this,arguments)})),ye(t,"touchstart",qe(function(){Se(e[3])&&e[3].apply(this,arguments)})),ye(t,"dragstart",qe(function(){Se(e[4])&&e[4].apply(this,arguments)}))],l=!0)},p(a,[c]){e=a,c&1&&Ct(o,e[0]),c&2&&U(t,"active",e[1]),c&4&&U(n,"preventHover",e[2])},i:be,o:be,d(a){a&&Y(n),l=!1,dt(d)}}}function St(e,n,t){let{title:i=""}=n,{active:o=!1}=n,{preventHover:l=!1}=n,{onPointerdown:d=c=>{}}=n,{onDragstart:a=c=>{}}=n;return e.$$set=c=>{"title"in c&&t(0,i=c.title),"active"in c&&t(1,o=c.active),"preventHover"in c&&t(2,l=c.preventHover),"onPointerdown"in c&&t(3,d=c.onPointerdown),"onDragstart"in c&&t(4,a=c.onDragstart)},[i,o,l,d,a]}class gt extends Ae{constructor(n){super(),Re(this,n,St,Pt,He,{title:0,active:1,preventHover:2,onPointerdown:3,onDragstart:4})}}function ve(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}const $e=(e,n)=>{const{duration:t=300,easing:i=ve,onEnd:o=()=>{},onStep:l=()=>{},css:d}=n;let a;function c(_){if(!e){console.warn("Cannot find element to animate");return}a===void 0&&(a=_);const m=i((_-a)/t),E=1-m;m<1?(e.style.cssText=d(m,E),l(m,E),requestAnimationFrame(c)):(e.style.cssText="",o())}requestAnimationFrame(c)},Ue=e=>{const{duration:n=300,easing:t=ve,onEnd:i=()=>{},onStep:o=()=>{}}=e;let l;function d(a){l===void 0&&(l=a);const c=t((a-l)/n),_=1-c;c<1?(o(c,_),requestAnimationFrame(d)):i()}requestAnimationFrame(d)};function et(e,n,t){const i=e.slice();return i[43]=n[t],i[44]=n,i[45]=t,i}function tt(e,n){let t,i,o,l,d=n[45],a,c,_;function m(...v){return n[20](n[45],...v)}function E(v){n[21](v,n[43])}let D={active:n[11]==n[43],preventHover:n[10],onPointerdown:m,onDragstart:n[18]};n[13][n[43]].title!==void 0&&(D.title=n[13][n[43]].title),i=new gt({props:D}),he.push(()=>Dt(i,"title",E));const V=()=>n[22](t,d),z=()=>n[22](null,d);return{key:e,first:null,c(){t=B("div"),Te(i.$$.fragment),l=ne(),this.h()},l(v){t=O(v,"DIV",{class:!0});var y=q(t);Le(i.$$.fragment,y),l=ie(y),y.forEach(Y),this.h()},h(){A(t,"class","tab-container svelte-11x45ky"),U(t,"placeholder",n[12]==n[43]),this.first=t},m(v,y){se(v,t,y),Ce(i,t,null),M(t,l),V(),a=!0,c||(_=_t(n[17].call(null,t)),c=!0)},p(v,y){n=v;const f={};y[0]&2056&&(f.active=n[11]==n[43]),y[0]&1024&&(f.preventHover=n[10]),y[0]&8&&(f.onPointerdown=m),!o&&y[0]&8200&&(o=!0,f.title=n[13][n[43]].title,xt(()=>o=!1)),i.$set(f),d!==n[45]&&(z(),d=n[45],V()),(!a||y[0]&4104)&&U(t,"placeholder",n[12]==n[43])},i(v){a||(le(i.$$.fragment,v),a=!0)},o(v){re(i.$$.fragment,v),a=!1},d(v){v&&Y(t),De(i),z(),c=!1,_()}}}function Mt(e){let n,t,i,o=[],l=new Map,d,a,c,_=`<span class="button-icon svelte-11x45ky" style="-webkit-mask: url(${te}/images/svg/plus.svg) no-repeat center / contain; mask: url(${te}/images/svg/plus.svg) no-repeat center / contain;"></span>`,m,E,D,V=`<span class="button-icon svelte-11x45ky" style="-webkit-mask: url(${te}/images/svg/trash.svg) no-repeat center / contain; mask: url(${te}/images/svg/trash.svg) no-repeat center / contain;"></span>`,z,v,y,f,g,w,b=`<span class="button-icon svelte-11x45ky" style="-webkit-mask: url(${te}/images/svg/pencil.svg) no-repeat center / contain; mask: url(${te}/images/svg/pencil.svg) no-repeat center / contain;"></span>`,I,x,L=`<span class="button-icon svelte-11x45ky" style="-webkit-mask: url(${te}/images/svg/gear.svg) no-repeat center / contain; mask: url(${te}/images/svg/gear.svg) no-repeat center / contain;"></span>`,G,X,N,$,K,F,Q,ce,oe=_e(e[3].order);const ee=P=>P[43];for(let P=0;P<oe.length;P+=1){let C=et(e,oe,P),S=ee(C);l.set(S,o[P]=tt(S,C))}return N=new gt({props:{title:e[6],active:!e[8],preventHover:!0}}),{c(){n=B("div"),t=B("div"),i=B("div");for(let P=0;P<o.length;P+=1)o[P].c();d=ne(),a=B("div"),c=B("button"),c.innerHTML=_,m=ne(),E=B("div"),D=B("button"),D.innerHTML=V,z=ne(),v=B("button"),y=B("span"),g=ne(),w=B("button"),w.innerHTML=b,I=ne(),x=B("a"),x.innerHTML=L,G=ne(),X=B("div"),Te(N.$$.fragment),$=ne(),K=B("div"),this.h()},l(P){n=O(P,"DIV",{class:!0});var C=q(n);t=O(C,"DIV",{class:!0});var S=q(t);i=O(S,"DIV",{class:!0});var Z=q(i);for(let h=0;h<o.length;h+=1)o[h].l(Z);Z.forEach(Y),d=ie(S),a=O(S,"DIV",{class:!0});var me=q(a);c=O(me,"BUTTON",{class:!0,"data-svelte-h":!0}),Pe(c)!=="svelte-g0ls06"&&(c.innerHTML=_),me.forEach(Y),m=ie(S),E=O(S,"DIV",{class:!0});var J=q(E);D=O(J,"BUTTON",{class:!0,"data-svelte-h":!0}),Pe(D)!=="svelte-hhcvrt"&&(D.innerHTML=V),z=ie(J),v=O(J,"BUTTON",{class:!0});var pe=q(v);y=O(pe,"SPAN",{class:!0,style:!0}),q(y).forEach(Y),pe.forEach(Y),g=ie(J),w=O(J,"BUTTON",{class:!0,"data-svelte-h":!0}),Pe(w)!=="svelte-4n2i7g"&&(w.innerHTML=b),I=ie(J),x=O(J,"A",{class:!0,href:!0,"data-svelte-h":!0}),Pe(x)!=="svelte-8w27ao"&&(x.innerHTML=L),J.forEach(Y),G=ie(S),X=O(S,"DIV",{class:!0});var we=q(X);Le(N.$$.fragment,we),we.forEach(Y),S.forEach(Y),$=ie(C),K=O(C,"DIV",{class:!0}),q(K).forEach(Y),C.forEach(Y),this.h()},h(){A(i,"class","tabs svelte-11x45ky"),A(c,"class","button svelte-11x45ky"),A(a,"class","new-tab-container svelte-11x45ky"),A(D,"class","close button svelte-11x45ky"),A(y,"class","button-icon svelte-11x45ky"),Ze(y,"-webkit-mask","url("+te+"/images/svg/refresh.svg) no-repeat center / contain"),Ze(y,"mask","url("+te+"/images/svg/refresh.svg) no-repeat center / contain"),A(v,"class","refresh button svelte-11x45ky"),v.disabled=f=e[14].savingStatus==="saving",A(w,"class","pencil button svelte-11x45ky"),U(w,"selected",e[3].activeTool==="pencil"),A(x,"class","button svelte-11x45ky"),A(x,"href",te+"/settings"),A(E,"class","settings-container svelte-11x45ky"),A(X,"class","clone svelte-11x45ky"),U(X,"dragging",e[2]),A(t,"class","tabbar svelte-11x45ky"),A(K,"class","divider svelte-11x45ky"),A(n,"class","svelte-11x45ky")},m(P,C){se(P,n,C),M(n,t),M(t,i);for(let S=0;S<o.length;S+=1)o[S]&&o[S].m(i,null);e[23](i),M(t,d),M(t,a),M(a,c),M(t,m),M(t,E),M(E,D),M(E,z),M(E,v),M(v,y),M(E,g),M(E,w),M(E,I),M(E,x),M(t,G),M(t,X),Ce(N,X,null),e[25](X),M(n,$),M(n,K),e[26](n),F=!0,Q||(ce=[ye(c,"click",e[15]),ye(D,"click",e[24]),ye(v,"click",function(){Se(e[0])&&e[0].apply(this,arguments)}),ye(w,"click",function(){Se(e[1])&&e[1].apply(this,arguments)})],Q=!0)},p(P,C){e=P,C[0]&801832&&(oe=_e(e[3].order),Oe(),o=ze(o,C,ee,1,e,oe,l,i,Ge,tt,null,et),Ne()),(!F||C[0]&16384&&f!==(f=e[14].savingStatus==="saving"))&&(v.disabled=f),(!F||C[0]&8)&&U(w,"selected",e[3].activeTool==="pencil");const S={};C[0]&64&&(S.title=e[6]),C[0]&256&&(S.active=!e[8]),N.$set(S),(!F||C[0]&4)&&U(X,"dragging",e[2])},i(P){if(!F){for(let C=0;C<oe.length;C+=1)le(o[C]);le(N.$$.fragment,P),F=!0}},o(P){for(let C=0;C<o.length;C+=1)re(o[C]);re(N.$$.fragment,P),F=!1},d(P){P&&Y(n);for(let C=0;C<o.length;C+=1)o[C].d();e[23](null),De(N),e[25](null),e[26](null),Q=!1,dt(ce)}}}const Ht=12,Be=200,Ye=32,Xe=200,At=1600,nt=.3;function Rt(e,n,t){let i,o,l,d,a;ae(e,je,r=>t(3,l=r)),ae(e,fe,r=>t(13,d=r)),ae(e,ut,r=>t(14,a=r));let{refreshClicked:c=()=>{}}=n,{pencilClicked:_=()=>{Me(je,l.activeTool=l.activeTool==="pencil"?void 0:"pencil",l)}}=n,m,E=[],D=0,V=null,z=-1,v="",y,f,g,w=!1,b=!1,I=0,x=0,L,G=!1;const X=(r,p=300)=>{let T;return(...H)=>{clearTimeout(T),T=setTimeout(()=>{r.apply(void 0,H)},p)}};function N(){ue.newTab()}const $=r=>{const p=l.order.findIndex(T=>T===r);if(p<0||!E[p]){console.warn("Cannot close tab!");return}D=E[p].getBoundingClientRect().width,p<l.order.length-1&&(m.style.setProperty("--tab-max-width",`${D}px`),K()),p==l.activeIndex&&(p==l.order.length-1?ue.setActiveIndex(p-1):ue.setActiveIndex(p+1)),Ue({duration:Xe,easing:ve,onStep:(T,H)=>{p==0?t(4,m.style.gridTemplateColumns=`minmax(${H*Ye}px, ${H*D}px)`,m):t(4,m.style.gridTemplateColumns=`repeat(${p}, minmax(var(--tab-min-width), var(--tab-max-width))) minmax(${H*Ye}px, ${H*D}px)`,m)},onEnd:()=>{t(4,m.style.gridTemplateColumns="",m),ue.removeTab(r)}})},K=X(()=>{m&&(m.style.setProperty("--tab-max-width",`${Be}px`),Ue({duration:Xe,easing:ve,onStep:(r,p)=>{m.style.setProperty("--tab-max-width",`${D+r*(Be-D)}px`)},onEnd:()=>{m.style.setProperty("--tab-max-width",`${Be}px`)}}))},At);function F(r){if(!m)return;const p=r.getBoundingClientRect().width;Ue({duration:Xe,easing:ve,onStep:(T,H)=>{l.order.length==1?t(4,m.style.gridTemplateColumns=`minmax(${T*Ye}px, ${T*p}px)`,m):t(4,m.style.gridTemplateColumns=`repeat(${l.order.length-1}, minmax(var(--tab-min-width), var(--tab-max-width))) minmax(${T*Ye}px, ${T*p}px)`,m),t(4,m.scrollLeft=m.scrollWidth,m)},onEnd:()=>{t(4,m.style.gridTemplateColumns="",m)}})}const Q=(r,p)=>{const T=E[0].getBoundingClientRect().width;ue.moveTab(r,p,()=>{if(r>p)for(let H=p;H<r;H++)$e(E[H],{duration:Xe,easing:ve,css:(ke,de)=>`transform: translateX(-${de*T}px);`});if(r<p)for(let H=p;H>r;H--)$e(E[H],{duration:Xe,easing:ve,css:(ke,de)=>`transform: translateX(${de*T}px);`})})};function ce(r){!r.target||!r.dataTransfer||(r.dataTransfer.setData("text/plain",i),r.dataTransfer.setDragImage(new Image,0,0))}function oe(r,p){if(r==0&&p==0){t(7,g.style.left="-1000px",g),t(7,g.style.top="-1000px",g);return}let T=L.getBoundingClientRect();if(r<T.left||r>T.right||p<T.top||p>T.bottom){b||(x=0),t(7,g.style.left=`${r+I}px`,g),t(7,g.style.top=`${p-f.height/2}px`,g),t(8,b=!0);return}b&&t(8,b=!1),t(7,g.style.left=`${r+I}px`,g),t(7,g.style.top=`${f.top}px`,g);const H=-m.scrollLeft,ke=E[0].getBoundingClientRect().width;let de=-1;if(r>H+l.order.length*ke)de=l.order.length-1;else for(let Ie=0;Ie<l.order.length;Ie++)if(r>H+Ie*ke&&r<H+(Ie+1)*ke){de=Ie;break}r<20?(x=-nt,requestAnimationFrame(P)):r>m.clientWidth-10?(x=nt,requestAnimationFrame(P)):x=0,!(de==-1||de==l.placeholderIndex)&&Q(l.placeholderIndex,de)}let ee=0;function P(r){if(!w||x==0){ee=0;return}ee==0&&(ee=r);const p=r-ee;ee=r,m.scrollBy({left:x*p}),requestAnimationFrame(P)}function C(r,p){if(!r.target)return;let T,H;r instanceof TouchEvent?(T=r.touches[0].clientX,H=r.touches[0].clientY):(T=r.clientX,H=r.clientY),window.addEventListener("touchmove",S,{passive:!1}),window.addEventListener("touchend",Z),window.addEventListener("mousemove",S),window.addEventListener("mouseup",Z),window.addEventListener("drag",S),window.addEventListener("dragend",Z),window.addEventListener("blur",Z),ue.setActiveIndex(p),y=r.target,f=y.getBoundingClientRect(),V=[T,H],I=f.left-T,f.top-H,t(7,g.style.width=`${f.width}px`,g),t(7,g.style.left=`${f.left}px`,g),t(7,g.style.top=`${f.top}px`,g),z=p,t(6,v=d[l.order[p]].title)}function S(r){let p,T;if(r instanceof TouchEvent?(p=r.touches[0].clientX,T=r.touches[0].clientY,r.preventDefault()):(p=r.clientX,T=r.clientY),w){oe(p,T);return}V===null||Math.hypot(V[0]-p,V[1]-T)<Ht||(t(2,w=!0),ue.setPlaceholderIndex(z),ue.setActiveIndex(z))}function Z(){window.removeEventListener("touchmove",S),window.removeEventListener("touchend",Z),window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",Z),window.removeEventListener("drag",S),window.removeEventListener("dragend",Z),window.removeEventListener("blur",Z),V=null,t(8,b=!1),z=-1,I=0,ue.setPlaceholderIndex(),t(2,w=!1)}Qe(()=>{m.style.setProperty("--tab-max-width",`${Be}px`),m.style.setProperty("--tab-min-width",`${Ye}px`)});const me=(r,p)=>C(p,r);function J(r,p){e.$$.not_equal(d[p].title,r)&&(d[p].title=r,fe.set(d))}function pe(r,p){he[r?"unshift":"push"](()=>{E[p]=r,t(5,E)})}function we(r){he[r?"unshift":"push"](()=>{m=r,t(4,m)})}const h=()=>$(i);function R(r){he[r?"unshift":"push"](()=>{g=r,t(7,g)})}function j(r){he[r?"unshift":"push"](()=>{L=r,t(9,L)})}return e.$$set=r=>{"refreshClicked"in r&&t(0,c=r.refreshClicked),"pencilClicked"in r&&t(1,_=r.pencilClicked)},e.$$.update=()=>{e.$$.dirty[0]&8&&t(11,i=l.order[l.activeIndex]),e.$$.dirty[0]&8&&t(12,o=l.order[l.placeholderIndex]),e.$$.dirty[0]&4&&(w?t(10,G=!0):setTimeout(()=>t(10,G=!1),20))},[c,_,w,l,m,E,v,g,b,L,G,i,o,d,a,N,$,F,ce,C,me,J,pe,we,h,R,j]}class Bt extends Ae{constructor(n){super(),Re(this,n,Rt,Mt,He,{refreshClicked:0,pencilClicked:1},null,[-1,-1])}}function Ot(e){let n,t;return{c(){n=B("div"),t=B("div"),this.h()},l(i){n=O(i,"DIV",{class:!0});var o=q(n);t=O(o,"DIV",{class:!0}),q(t).forEach(Y),o.forEach(Y),this.h()},h(){A(t,"class","quill-editor svelte-1zs6ve"),A(n,"class","quill-editor-wrapper svelte-1zs6ve"),U(n,"disabled",e[0])},m(i,o){se(i,n,o),M(n,t),e[5](t)},p(i,[o]){o&1&&U(n,"disabled",i[0])},i:be,o:be,d(i){i&&Y(n),e[5](null)}}}function Nt(e,n,t){let i,o;ae(e,fe,b=>t(6,i=b)),ae(e,ft,b=>t(4,o=b));let{tabID:l}=n,{disabled:d=!1}=n,a,c;const _=(b,I=300)=>{let x;return(...L)=>{clearTimeout(x),x=setTimeout(()=>{b.apply(void 0,L)},I)}};async function m(b){var G,X,N,$;if(!a)return;const{Delta:I,Range:x}=await Je(async()=>{const{Delta:K,Range:F}=await import("../chunks/core.CG__ofcG.js").then(Q=>Q.G);return{Delta:K,Range:F}},[],import.meta.url);if(b.undo.length>0)for(var L=0;L<b.undo.length;L++){const K=(G=b.undo[L].range)==null?void 0:G.index,F=(X=b.undo[L].range)==null?void 0:X.length,Q={delta:new I(b.undo[L].delta.ops),range:K!==void 0&&F!==void 0?new x(K,F):null};a.history.stack.undo.push(Q)}if(b.redo.length>0)for(var L=0;L<b.redo.length;L++){const F=(N=b.redo[L].range)==null?void 0:N.index,Q=($=b.redo[L].range)==null?void 0:$.length,ce={delta:new I(b.redo[L].delta.ops),range:F!==void 0&&Q!==void 0?new x(F,Q):null};a.history.stack.redo.push(ce)}}function E(b){var I;a&&((I=a.getSelection())==null?void 0:I.length)===0&&window.open(b.target.href,"_blank")}function D(){if(!a||!i[l])return;const b=i[l].ops;a.setContents(b);const I=i[l].history;m(I)}function V(){if(!a||!i[l])return;Me(fe,i[l].ops=a.getContents().ops,i);const b=structuredClone(a.history.stack);Me(fe,i[l].history=b,i)}const z=_(V,500);function v(){if(!a)return;a.formatText(0,a.getLength(),"link",!1,"api");const b=a.getText(),I=/https?:\/\/\S+/gi,x=b.matchAll(I);for(const X of x)a.formatText(X.index,X[0].length,"link",X[0],"api");const L=/.+\@.+\..+/gi,G=b.matchAll(L);for(const X of G)a.formatText(X.index,X[0].length,"link","mailto:"+X[0],"api");document.querySelectorAll(".ql-editor a").forEach(X=>{X.addEventListener("click",E)})}const y=_(v,500);function f(b,I,x){if(x==="user"){const L=a.getText().split(`
`)[0].trim();Me(fe,i[l].title=L===""?"Untitled":L,i),y(),z()}}async function g(){const{default:b}=await Je(async()=>{const{default:I}=await import("../chunks/quill.Bk4jDS0q.js");return{default:I}},__vite__mapDeps([0,1]),import.meta.url);t(3,a=new b(c,{formats:["bold","italic","underline","strike","code","link"],placeholder:"Enter text here"})),D(),v(),a.on("text-change",f),a.keyboard.addBinding({key:"/",altKey:!0},()=>{a.format("code",!a.getFormat().code)}),a.keyboard.addBinding({key:"-",altKey:!0},()=>{a.format("strike",!a.getFormat().strike)})}Qe(()=>{g()});function w(b){he[b?"unshift":"push"](()=>{c=b,t(1,c)})}return e.$$set=b=>{"tabID"in b&&t(2,l=b.tabID),"disabled"in b&&t(0,d=b.disabled)},e.$$.update=()=>{e.$$.dirty&9&&(d?a==null||a.disable():a==null||a.enable()),e.$$.dirty&24&&(a==null||a.root.setAttribute("spellcheck",o.spellCheck.toString()))},[d,c,l,a,o,w]}class Vt extends Ae{constructor(n){super(),Re(this,n,Nt,Ot,He,{tabID:2,disabled:0})}}const it=500,Wt=300,st=500,Ft=300;class qt{constructor(){W(this,"isMoving",!1);W(this,"isLongclick",!1);W(this,"button",0);W(this,"lastX",0);W(this,"lastY",0);W(this,"consecutiveClicks",0);W(this,"lastMouseupTime",0);W(this,"activeElement",null);this.reset()}reset(){this.isMoving=!1,this.isLongclick=!1,this.button=0,this.lastX=0,this.lastY=0,this.consecutiveClicks=0,this.lastMouseupTime=0,this.activeElement=null}}class Ut{constructor(){W(this,"isDragging",!1);W(this,"isPinching",!1);W(this,"isLongpressed",!1);W(this,"consecutiveTaps",0);W(this,"lastTouchendTime",0);W(this,"lastCenterX",0);W(this,"lastCenterY",0);W(this,"identifier",0);W(this,"x",0);W(this,"y",0);W(this,"hypotenuse",0);W(this,"activeElement",null);this.reset()}reset(){this.isDragging=!1,this.isPinching=!1,this.isLongpressed=!1,this.consecutiveTaps=0,this.lastTouchendTime=0,this.lastCenterX=0,this.lastCenterY=0,this.identifier=0,this.x=0,this.y=0,this.hypotenuse=0,this.activeElement=null}}let ge=[],u=new qt,s=new Ut;const k=(e,n)=>{e!=null&&e.dispatchEvent(new CustomEvent("gesture",{detail:n,bubbles:!1,cancelable:!1}))},ht=e=>{u.reset(),s.reset(),u.lastMouseupTime=Date.now(),window.removeEventListener("mousemove",Ve),window.removeEventListener("mouseup",We),window.removeEventListener("touchmove",Fe),window.removeEventListener("touchend",Ee)},mt=e=>{if(window.removeEventListener("mousemove",Ve),window.removeEventListener("mouseup",We),window.removeEventListener("touchmove",Fe),window.removeEventListener("touchend",Ee),u.isMoving)if(u.isMoving=!1,u.isLongclick)u.isLongclick=!1,k(u.activeElement,{event:e,name:"longclick-drag-end",x:u.lastX,y:u.lastY,dx:0,dy:0});else switch(u.button){case 0:k(u.activeElement,{event:e,name:"left-click-drag-end",x:u.lastX,y:u.lastY,dx:0,dy:0});break;case 1:k(u.activeElement,{event:e,name:"middle-click-drag-end",x:u.lastX,y:u.lastY,dx:0,dy:0});break;case 2:k(u.activeElement,{event:e,name:"right-click-drag-end",x:u.lastX,y:u.lastY,dx:0,dy:0});break}u.isLongclick&&k(u.activeElement,{event:e,name:"longclick-release",x:u.lastX,y:u.lastY,dx:0,dy:0}),u.reset(),s.isDragging&&(s.isDragging=!1,s.isLongpressed?(s.isLongpressed=!1,k(s.activeElement,{event:e,name:"longpress-drag-end",x:s.lastCenterX,y:s.lastCenterY,dx:0,dy:0})):k(s.activeElement,{event:e,name:"touch-drag-end",x:s.lastCenterX,y:s.lastCenterY,dx:0,dy:0})),s.isLongpressed&&k(s.activeElement,{event:e,name:"longpress-release",x:s.lastCenterX,y:s.lastCenterY,dx:0,dy:0}),s.reset()},vt=e=>{k(e.target,{event:e,name:"wheel",x:e.clientX,y:e.clientY,dx:0,dy:0})},yt=e=>{},bt=e=>{document.activeElement!==e.target&&(window.addEventListener("mousemove",Ve),window.addEventListener("mouseup",We),u.activeElement=e.target,u.lastX=e.clientX,u.lastY=e.clientY,u.isMoving||(u.button=e.button),u.button===0&&window.setTimeout(()=>{Date.now()-u.lastMouseupTime>=st&&!u.isMoving&&(u.isLongclick=!0,k(u.activeElement,{event:e,name:"longclick",x:e.clientX,y:e.clientY,dx:0,dy:0}))},st))},Ve=e=>{if(e.movementX===0&&e.movementY===0)return;let n=e.clientX-u.lastX,t=e.clientY-u.lastY;if(!u.isMoving)if(u.isLongclick)k(u.activeElement,{event:e,name:"longclick-drag-start",x:e.clientX,y:e.clientY,dx:0,dy:0});else switch(u.button){case 0:k(u.activeElement,{event:e,name:"left-click-drag-start",x:e.clientX,y:e.clientY,dx:0,dy:0});break;case 1:k(u.activeElement,{event:e,name:"middle-click-drag-start",x:e.clientX,y:e.clientY,dx:0,dy:0});break;case 2:k(u.activeElement,{event:e,name:"right-click-drag-start",x:e.clientX,y:e.clientY,dx:0,dy:0});break}if(u.isMoving=!0,u.lastX=e.clientX,u.lastY=e.clientY,u.isLongclick)k(u.activeElement,{event:e,name:"longclick-dragging",x:e.clientX,y:e.clientY,dx:n,dy:t});else switch(u.button){case 0:k(u.activeElement,{event:e,name:"left-click-dragging",x:e.clientX,y:e.clientY,dx:n,dy:t});break;case 1:k(u.activeElement,{event:e,name:"middle-click-dragging",x:e.clientX,y:e.clientY,dx:n,dy:t});break;case 2:k(u.activeElement,{event:e,name:"right-click-dragging",x:e.clientX,y:e.clientY,dx:n,dy:t});break}},We=e=>{if(window.removeEventListener("mousemove",Ve),window.removeEventListener("mouseup",We),u.lastMouseupTime=Date.now(),u.isMoving)if(u.isMoving=!1,u.isLongclick)u.isLongclick=!1,k(u.activeElement,{event:e,name:"longclick-drag-end",x:u.lastX,y:u.lastY,dx:0,dy:0});else switch(u.button){case 0:k(u.activeElement,{event:e,name:"left-click-drag-end",x:u.lastX,y:u.lastY,dx:0,dy:0});break;case 1:k(u.activeElement,{event:e,name:"middle-click-drag-end",x:u.lastX,y:u.lastY,dx:0,dy:0});break;case 2:k(u.activeElement,{event:e,name:"right-click-drag-end",x:u.lastX,y:u.lastY,dx:0,dy:0});break}else u.isLongclick||(e.button===2?k(u.activeElement,{event:e,name:"right-click",x:e.clientX,y:e.clientY,dx:0,dy:0}):e.button===1?k(u.activeElement,{event:e,name:"middle-click",x:e.clientX,y:e.clientY,dx:0,dy:0}):(u.consecutiveClicks===0&&k(u.activeElement,{event:e,name:"left-click",x:e.clientX,y:e.clientY,dx:0,dy:0}),u.consecutiveClicks++,window.setTimeout(()=>{u.consecutiveClicks>1&&k(u.activeElement,{event:e,name:"double-click",x:e.clientX,y:e.clientY,dx:0,dy:0}),u.consecutiveClicks=0},Ft)));u.isLongclick&&k(u.activeElement,{event:e,name:"longclick-release",x:e.clientX,y:e.clientY,dx:0,dy:0}),u.isLongclick=!1},pt=e=>{if(e.touches.length>1,document.activeElement!==e.target){if(e.touches.length>1){if(e.touches[0].identifier===s.identifier)return;s.isPinching=!0}window.addEventListener("touchmove",Fe,{passive:!1}),window.addEventListener("touchend",Ee),window.addEventListener("touchcancel",Ee),s.identifier=e.touches[0].identifier,s.x=e.touches[0].clientX,s.y=e.touches[0].clientY,s.activeElement=e.target,window.setTimeout(()=>{s.isPinching||s.isDragging||Date.now()-s.lastTouchendTime>=it&&(s.isDragging=!1,s.isPinching=!1,s.hypotenuse=null,s.isLongpressed=!0,k(s.activeElement,{event:e,name:"longpress",x:s.x,y:s.y,dx:0,dy:0}))},it)}},Fe=e=>{if(s.isDragging){let n=s.x,t=s.y;s.x=e.touches[0].clientX,s.y=e.touches[0].clientY;let i=s.x-n,o=s.y-t;s.isLongpressed?k(s.activeElement,{event:e,name:"longpress-dragging",x:s.x,y:s.y,dx:i,dy:o,force:e.touches[0].force}):k(s.activeElement,{event:e,name:"touch-dragging",x:s.x,y:s.y,dx:i,dy:o,force:e.touches[0].force});return}else if(!s.isLongpressed&&(s.isPinching||e.touches.length>1)){s.x=e.touches[0].clientX,s.y=e.touches[0].clientY;let n={x:e.touches[1].clientX,y:e.touches[1].clientY},t={x:(s.x+n.x)/2,y:(s.y+n.y)/2},i=Math.hypot(s.x-n.x,s.y-n.y);s.hypotenuse===null&&(s.hypotenuse=i,s.lastCenterX=t.x,s.lastCenterY=t.y,k(s.activeElement,{event:e,name:"pinch-start",x:t.x,y:t.y,dx:0,dy:0})),s.isPinching=!0;let o=i/s.hypotenuse,l=t.x-s.lastCenterX,d=t.y-s.lastCenterY;k(s.activeElement,{event:e,name:"pinching",x:t.x,y:t.y,zoom:o,dx:l,dy:d}),s.hypotenuse=i,s.lastCenterX=t.x,s.lastCenterY=t.y;return}else s.isDragging=!0,s.isLongpressed?(k(s.activeElement,{event:e,name:"longpress-drag-start",x:s.x,y:s.y,dx:0,dy:0,force:e.touches[0].force}),s.x=e.touches[0].clientX,s.y=e.touches[0].clientY,k(s.activeElement,{event:e,name:"longpress-dragging",x:s.x,y:s.y,dx:0,dy:0,force:e.touches[0].force})):(k(s.activeElement,{event:e,name:"touch-drag-start",x:s.x,y:s.y,dx:0,dy:0,force:e.touches[0].force}),s.x=e.touches[0].clientX,s.y=e.touches[0].clientY,k(s.activeElement,{event:e,name:"touch-dragging",x:s.x,y:s.y,dx:0,dy:0,force:e.touches[0].force}))},Ee=e=>{s.isDragging&&e.touches.length>0&&e.touches[0].identifier===s.identifier||(s.lastTouchendTime=Date.now(),window.removeEventListener("touchmove",Fe),window.removeEventListener("touchend",Ee),window.removeEventListener("touchcancel",Ee),s.isDragging?(s.isDragging=!1,s.isLongpressed?(s.isLongpressed=!1,k(s.activeElement,{event:e,name:"longpress-drag-end",x:s.x,y:s.y,dx:0,dy:0})):k(s.activeElement,{event:e,name:"touch-drag-end",x:s.x,y:s.y,dx:0,dy:0})):s.isPinching?(s.isPinching=!1,s.hypotenuse=null,k(s.activeElement,{event:e,name:"pinch-end",x:s.lastCenterX,y:s.lastCenterY,dx:0,dy:0})):s.isLongpressed||(s.consecutiveTaps===0&&k(s.activeElement,{event:e,name:"tap",x:s.x,y:s.y,dx:0,dy:0}),s.consecutiveTaps++,window.setTimeout(()=>{s.consecutiveTaps>1&&k(s.activeElement,{event:e,name:"double-tap",x:s.x,y:s.y,dx:0,dy:0}),s.consecutiveTaps=0},Wt)),s.isLongpressed&&k(s.activeElement,{event:e,name:"longpress-release",x:s.x,y:s.y,dx:0,dy:0}),s.isLongpressed=!1)};function zt(...e){for(let n of e)ge.findIndex(t=>t===n)===-1&&(ge.length==0&&(window.addEventListener("blur",mt),window.addEventListener("focus",ht)),ge.push(n),n.addEventListener("touchstart",pt,{passive:!1}),n.addEventListener("mousedown",bt,{passive:!1}),n.addEventListener("contextmenu",yt,{passive:!1}),n.addEventListener("wheel",vt,{passive:!1}))}function Gt(...e){const n=t=>{t.removeEventListener("touchstart",pt),t.removeEventListener("mousedown",bt),t.removeEventListener("contextmenu",yt),t.removeEventListener("wheel",vt)};if(e.length==0){for(let t of ge)n(t);ge=[]}else for(let t of e){let i=ge.findIndex(o=>o===t);i!==-1&&(n(t),ge.splice(i,1))}ge.length==0&&(window.removeEventListener("blur",mt),window.removeEventListener("focus",ht))}function jt(e){let n,t,i,o="LOG";return{c(){n=B("canvas"),t=ne(),i=B("div"),i.textContent=o,this.h()},l(l){n=O(l,"CANVAS",{id:!0,class:!0}),q(n).forEach(Y),t=ie(l),i=O(l,"DIV",{class:!0,"data-svelte-h":!0}),Pe(i)!=="svelte-1d0fb2l"&&(i.textContent=o),this.h()},h(){A(n,"id","canvas"),A(n,"class","svelte-1g16fxp"),U(n,"disabled",e[0]),U(n,"hide",e[1]),A(i,"class","log svelte-1g16fxp"),U(i,"hide",e[1])},m(l,d){se(l,n,d),e[12](n),se(l,t,d),se(l,i,d),e[13](i)},p(l,d){d[0]&1&&U(n,"disabled",l[0]),d[0]&2&&U(n,"hide",l[1]),d[0]&2&&U(i,"hide",l[1])},i:be,o:be,d(l){l&&(Y(n),Y(t),Y(i)),e[12](null),e[13](null)}}}const Kt=2;function lt(e){return{x:Ke(e.x),y:Ke(e.y)}}function Ke(e){return Number(e.toFixed(Kt))}function Qt(e,n,t){let i,o;ae(e,fe,h=>t(25,o=h));let{radius:l=3}=n,{smoothness:d=2}=n,{stroke:a=5}=n,{pressureScaler:c=5}=n,{color:_="#000000"}=n,{disabled:m=!1}=n,{hide:E=!1}=n,{tabID:D=""}=n;function V(){y.clearRect(0,0,b,w),N=[]}function z(){if(N.length!=0){t(3,L.innerHTML="Undo",L),N.pop(),y.clearRect(0,0,b,w);for(let h=0;h<N.length;h++)ee(N[h])}}let v,y,f={x:0,y:0},g=0,w=0,b=0,I,x=!1,L,G,X,N=[];function $(){v&&(zt(v),window.addEventListener("keydown",J),console.log("drawing enabled"))}function K(){v&&(Gt(v),window.removeEventListener("keydown",J),console.log("drawing disabled"))}const F=(h,R,j,r)=>{var p=j-h,T=r-R;return Math.sqrt(p*p+T*T)},Q=(h,R=300)=>{let j;return(...r)=>{clearTimeout(j),j=setTimeout(()=>{h.apply(void 0,r)},R)}};function ce(h,R){let j=v.getBoundingClientRect();return{x:(h-j.left)*I,y:(R-j.top)*I}}function oe(){if(console.log("resizing"),!v)return;me(),I=window.devicePixelRatio;let h=v.getBoundingClientRect();w=h.height*I,b=h.width*I,t(2,v.width=b,v),t(2,v.height=w,v);for(let R=0;R<N.length;R++)ee(N[R])}function ee(h){y.lineWidth=h.lineWidths[0],y.lineCap="round",y.strokeStyle=h.color,y.beginPath(),y.moveTo(h.points[0].x,h.points[0].y),y.stroke();for(let R=0;R<h.points.length;R++)y.lineWidth=h.lineWidths[R],y.quadraticCurveTo(h.points[R].x,h.points[R].y,h.ctrlPoints[R].x,h.ctrlPoints[R].y),y.stroke(),y.beginPath(),y.moveTo(h.ctrlPoints[R].x,h.ctrlPoints[R].y)}function P(){o[D]&&Me(fe,o[D].paths=N,o)}function C(){o[D]&&(N=o[D].paths,oe())}function S(h,R,j){x=!0,f=ce(h,R),j!==void 0&&j>0?g=Math.log(j+1)*c*i:g=i,y.lineWidth=g,y.lineCap="round",y.strokeStyle=_,y.beginPath(),y.moveTo(f.x,f.y),y.stroke(),G={points:[],ctrlPoints:[],lineWidths:[],color:_}}function Z(h,R,j){if(!x)return;let r=ce(h,R);if(l>0){if(F(r.x,r.y,f.x,f.y)<=l)return;let H=Math.sqrt(r.x*r.x+r.y*r.y-2*r.x*f.x+f.x*f.x-2*r.y*f.y+f.y*f.y);if(r={x:r.x+l*((f.x-r.x)/H),y:r.y+l*((f.y-r.y)/H)},F(f.x,f.y,r.x,r.y)<=d)return}let p=(f.x+r.x)/2,T=(f.y+r.y)/2;j!==void 0&&j>0&&(g=Math.log(j+1)*c*i*.2+g*.8),y.lineWidth=g,y.quadraticCurveTo(f.x,f.y,p,T),y.stroke(),y.beginPath(),y.moveTo(p,T),G.points.push(lt(f)),G.ctrlPoints.push(lt({x:p,y:T})),G.lineWidths.push(Ke(g)),f=r}function me(){x&&(N.push(G),P()),x=!1}const J=function(h){h.ctrlKey&&h.key=="z"&&(z(),P()),h.preventDefault()};Qe(()=>{y=v.getContext("2d"),y.imageSmoothingEnabled=!1,v.addEventListener("gesture",h=>{switch(h.detail.name){case"left-click-drag-start":case"touch-drag-start":S(h.detail.x,h.detail.y,h.detail.force);break;case"left-click-dragging":case"touch-dragging":h.detail.force>0&&t(3,L.innerHTML=h.detail.force,L),Z(h.detail.x,h.detail.y,h.detail.force);break;case"left-click-drag-end":case"touch-drag-end":me();break}}),X=new ResizeObserver(Q(oe,0)),X.observe(v),C(),m?K():$()}),Et(()=>{X&&X.disconnect(),K()});function pe(h){he[h?"unshift":"push"](()=>{v=h,t(2,v)})}function we(h){he[h?"unshift":"push"](()=>{L=h,t(3,L)})}return e.$$set=h=>{"radius"in h&&t(4,l=h.radius),"smoothness"in h&&t(5,d=h.smoothness),"stroke"in h&&t(6,a=h.stroke),"pressureScaler"in h&&t(7,c=h.pressureScaler),"color"in h&&t(8,_=h.color),"disabled"in h&&t(0,m=h.disabled),"hide"in h&&t(1,E=h.hide),"tabID"in h&&t(9,D=h.tabID)},e.$$.update=()=>{e.$$.dirty[0]&64&&(i=Math.max(a,1)),e.$$.dirty[0]&1&&(m?K():$())},[m,E,v,L,l,d,a,c,_,D,V,z,pe,we]}class Zt extends Ae{constructor(n){super(),Re(this,n,Qt,jt,He,{radius:4,smoothness:5,stroke:6,pressureScaler:7,color:8,disabled:0,hide:1,tabID:9,clear:10,undo:11},null,[-1,-1])}get clear(){return this.$$.ctx[10]}get undo(){return this.$$.ctx[11]}}function rt(e,n,t){const i=e.slice();return i[6]=n[t],i}function ot(e,n,t){const i=e.slice();return i[6]=n[t],i}function Jt(e){let n,t;return n=new Yt({}),{c(){Te(n.$$.fragment)},l(i){Le(n.$$.fragment,i)},m(i,o){Ce(n,i,o),t=!0},p:be,i(i){t||(le(n.$$.fragment,i),t=!0)},o(i){re(n.$$.fragment,i),t=!1},d(i){De(n,i)}}}function $t(e){let n,t,i,o,l,d=[],a=new Map,c,_,m=[],E=new Map,D;t=new Bt({props:{refreshClicked:It.loadFromFirestore}});let V=_e(Object.keys(e[3]));const z=f=>f[6];for(let f=0;f<V.length;f+=1){let g=ot(e,V,f),w=z(g);a.set(w,d[f]=at(w,g))}let v=_e(Object.keys(e[3]));const y=f=>f[6];for(let f=0;f<v.length;f+=1){let g=rt(e,v,f),w=y(g);E.set(w,m[f]=ct(w,g))}return{c(){n=B("div"),Te(t.$$.fragment),i=ne(),o=B("div"),l=B("div");for(let f=0;f<d.length;f+=1)d[f].c();c=ne(),_=B("div");for(let f=0;f<m.length;f+=1)m[f].c();this.h()},l(f){n=O(f,"DIV",{class:!0});var g=q(n);Le(t.$$.fragment,g),i=ie(g),o=O(g,"DIV",{class:!0});var w=q(o);l=O(w,"DIV",{class:!0});var b=q(l);for(let x=0;x<d.length;x+=1)d[x].l(b);b.forEach(Y),c=ie(w),_=O(w,"DIV",{class:!0});var I=q(_);for(let x=0;x<m.length;x+=1)m[x].l(I);I.forEach(Y),w.forEach(Y),g.forEach(Y),this.h()},h(){A(l,"class","editor-container svelte-1w5t1su"),A(_,"class","drawing-container svelte-1w5t1su"),U(_,"disabled",e[0].activeTool!=="pencil"),A(o,"class","canvas-container svelte-1w5t1su"),A(n,"class","page-container svelte-1w5t1su")},m(f,g){se(f,n,g),Ce(t,n,null),M(n,i),M(n,o),M(o,l);for(let w=0;w<d.length;w+=1)d[w]&&d[w].m(l,null);M(o,c),M(o,_);for(let w=0;w<m.length;w+=1)m[w]&&m[w].m(_,null);D=!0},p(f,g){g&10&&(V=_e(Object.keys(f[3])),Oe(),d=ze(d,g,z,1,f,V,a,l,Ge,at,null,ot),Ne()),g&11&&(v=_e(Object.keys(f[3])),Oe(),m=ze(m,g,y,1,f,v,E,_,Ge,ct,null,rt),Ne()),(!D||g&1)&&U(_,"disabled",f[0].activeTool!=="pencil")},i(f){if(!D){le(t.$$.fragment,f);for(let g=0;g<V.length;g+=1)le(d[g]);for(let g=0;g<v.length;g+=1)le(m[g]);D=!0}},o(f){re(t.$$.fragment,f);for(let g=0;g<d.length;g+=1)re(d[g]);for(let g=0;g<m.length;g+=1)re(m[g]);D=!1},d(f){f&&Y(n),De(t);for(let g=0;g<d.length;g+=1)d[g].d();for(let g=0;g<m.length;g+=1)m[g].d()}}}function at(e,n){let t,i,o;return i=new Vt({props:{disabled:n[6]!==n[1],tabID:n[6]}}),{key:e,first:null,c(){t=xe(),Te(i.$$.fragment),this.h()},l(l){t=xe(),Le(i.$$.fragment,l),this.h()},h(){this.first=t},m(l,d){se(l,t,d),Ce(i,l,d),o=!0},p(l,d){n=l;const a={};d&10&&(a.disabled=n[6]!==n[1]),d&8&&(a.tabID=n[6]),i.$set(a)},i(l){o||(le(i.$$.fragment,l),o=!0)},o(l){re(i.$$.fragment,l),o=!1},d(l){l&&Y(t),De(i,l)}}}function ct(e,n){let t,i,o;return i=new Zt({props:{color:ln,stroke:tn,radius:nn,smoothness:sn,tabID:n[6],hide:n[6]!==n[1],disabled:n[6]!==n[1]||n[0].activeTool!=="pencil"}}),{key:e,first:null,c(){t=xe(),Te(i.$$.fragment),this.h()},l(l){t=xe(),Le(i.$$.fragment,l),this.h()},h(){this.first=t},m(l,d){se(l,t,d),Ce(i,l,d),o=!0},p(l,d){n=l;const a={};d&8&&(a.tabID=n[6]),d&10&&(a.hide=n[6]!==n[1]),d&11&&(a.disabled=n[6]!==n[1]||n[0].activeTool!=="pencil"),i.$set(a)},i(l){o||(le(i.$$.fragment,l),o=!0)},o(l){re(i.$$.fragment,l),o=!1},d(l){l&&Y(t),De(i,l)}}}function en(e){let n,t,i,o;const l=[$t,Jt],d=[];function a(c,_){return c[2].currentUser&&!c[2].isLoading?0:1}return n=a(e),t=d[n]=l[n](e),{c(){t.c(),i=xe()},l(c){t.l(c),i=xe()},m(c,_){d[n].m(c,_),se(c,i,_),o=!0},p(c,[_]){let m=n;n=a(c),n===m?d[n].p(c,_):(Oe(),re(d[m],1,1,()=>{d[m]=null}),Ne(),t=d[n],t?t.p(c,_):(t=d[n]=l[n](c),t.c()),le(t,1),t.m(i.parentNode,i))},i(c){o||(le(t),o=!0)},o(c){re(t),o=!1},d(c){c&&Y(i),d[n].d(c)}}}let tn=10,nn=3,sn=2,ln="#fddd4d";function rn(e,n,t){let i,o,l,d,a;return ae(e,ft,c=>t(4,o=c)),ae(e,je,c=>t(0,l=c)),ae(e,ut,c=>t(2,d=c)),ae(e,fe,c=>t(3,a=c)),e.$$.update=()=>{e.$$.dirty&1&&t(1,i=l.order[l.activeIndex]),e.$$.dirty&16&&Xt.find(c=>c.name===o.theme)},[l,i,d,a,o]}class vn extends Ae{constructor(n){super(),Re(this,n,rn,en,He,{})}}export{vn as component};
