import{s as ne,n as M,r as De,o as ke,j as ge,y as Ke,b as j,c as Te,a as Qe,z as Ze,A as Je}from"../chunks/scheduler.aSSXveB9.js";import{S as se,i as le,e as E,s as R,c as I,a as A,k as ee,f as U,d as k,l as b,C as F,g as V,h as y,D as x,m as B,E as _e,F as Ce,x as ae,y as ie,z as oe,v as Ee,q as Ie,r as S,p as N,A as re,G as xe,o as te}from"../chunks/index.Od8y6qfS.js";import{e as ye,u as Ve,o as Re,a as Le,c as de,b as He}from"../chunks/animate.CYEsfzeQ.js";import{e as Ue,b as qe}from"../chunks/authStore.C-Ejhejk.js";import{b as $}from"../chunks/paths.lO4in9y2.js";import{w as $e}from"../chunks/index.DjYgQ-sS.js";import{_ as et}from"../chunks/preload-helper.D6kgxu3v.js";function tt(s){let e,t,n="",a,l,r,u,i,g=`<span class="close-icon svelte-1b59gg" style="-webkit-mask: url(${$}/images/svg/cancel.svg) no-repeat center / contain; mask: url(${$}/images/svg/cancel.svg) no-repeat center / contain;"></span>`,d,h;return{c(){e=E("div"),t=E("button"),t.innerHTML=n,a=R(),l=E("div"),r=E("input"),u=R(),i=E("button"),i.innerHTML=g,this.h()},l(c){e=I(c,"DIV",{class:!0});var f=A(e);t=I(f,"BUTTON",{class:!0,draggable:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1svg9bp"&&(t.innerHTML=n),a=U(f),l=I(f,"DIV",{class:!0});var v=A(l);r=I(v,"INPUT",{autocorrect:!0,autocomplete:!0,spellcheck:!0,type:!0,class:!0}),u=U(v),i=I(v,"BUTTON",{class:!0,draggable:!0,"data-svelte-h":!0}),ee(i)!=="svelte-1x3debq"&&(i.innerHTML=g),v.forEach(k),f.forEach(k),this.h()},h(){b(t,"class","tab svelte-1b59gg"),b(t,"draggable","true"),F(t,"active",s[1]),b(r,"autocorrect","off"),b(r,"autocomplete","off"),b(r,"spellcheck","false"),b(r,"type","text"),b(r,"class","svelte-1b59gg"),b(i,"class","close-button svelte-1b59gg"),b(i,"draggable","true"),b(l,"class","tab-wrapper svelte-1b59gg"),b(e,"class","container svelte-1b59gg"),F(e,"preventHover",s[2])},m(c,f){V(c,e,f),y(e,t),s[9](t),y(e,a),y(e,l),y(l,r),s[11](r),x(r,s[0]),y(l,u),y(l,i),d||(h=[B(t,"dblclick",_e(s[10])),B(t,"mousedown",_e(function(){ge(s[4])&&s[4].apply(this,arguments)})),B(t,"touchstart",_e(function(){ge(s[4])&&s[4].apply(this,arguments)})),B(t,"dragstart",_e(function(){ge(s[5])&&s[5].apply(this,arguments)})),B(r,"input",s[12]),B(i,"click",Ce(function(){ge(s[3])&&s[3].apply(this,arguments)})),B(i,"dragstart",Ce(s[8]))],d=!0)},p(c,[f]){s=c,f&2&&F(t,"active",s[1]),f&1&&r.value!==s[0]&&x(r,s[0]),f&4&&F(e,"preventHover",s[2])},i:M,o:M,d(c){c&&k(e),s[9](null),s[11](null),d=!1,De(h)}}}function nt(s,e,t){let{title:n=""}=e,{active:a=!1}=e,{preventHover:l=!1}=e,{onClose:r=()=>{}}=e,{onPointerdown:u=p=>{}}=e,{onDragstart:i=p=>{}}=e,g,d;function h(p){const H=setTimeout(()=>{g.focus(),p.stopPropagation(),p.preventDefault()},500),P=()=>{clearTimeout(H),d.removeEventListener("touchmove",P),d.removeEventListener("touchend",P)};d.addEventListener("touchstart",P),d.addEventListener("touchend",P)}ke(()=>{d.addEventListener("touchstart",h,{passive:!1})});function c(p){Ke.call(this,s,p)}function f(p){j[p?"unshift":"push"](()=>{d=p,t(7,d)})}const v=()=>g.select();function C(p){j[p?"unshift":"push"](()=>{g=p,t(6,g)})}function _(){n=this.value,t(0,n)}return s.$$set=p=>{"title"in p&&t(0,n=p.title),"active"in p&&t(1,a=p.active),"preventHover"in p&&t(2,l=p.preventHover),"onClose"in p&&t(3,r=p.onClose),"onPointerdown"in p&&t(4,u=p.onPointerdown),"onDragstart"in p&&t(5,i=p.onDragstart)},[n,a,l,r,u,i,g,d,c,f,v,C,_]}class Oe extends se{constructor(e){super(),le(this,e,nt,tt,ne,{title:0,active:1,preventHover:2,onClose:3,onPointerdown:4,onDragstart:5})}}let st=0;const W=$e({tabs:[],activeIndex:-1,placeholderIndex:-1}),O={newTab:s=>{const{data:e={id:st++,title:"Untitled",ops:[]},index:t=-1,callback:n=()=>{}}=s||{};W.update(a=>(a.tabs.some(l=>l.id==e.id)||(t<0?(a.tabs.push(e),a.activeIndex=a.tabs.length-1):(a.tabs.splice(t,0,e),a.activeIndex=t)),a)),n()},removeTab:s=>{W.update(e=>(s<0||s>=e.tabs.length||(e.placeholderIndex==s&&(e.placeholderIndex=-1),e.tabs.splice(s,1),s==e.activeIndex-1?e.activeIndex=Math.max(0,s):e.activeIndex=Math.min(e.activeIndex,e.tabs.length-1)),e))},setActiveIndex:s=>{W.update(e=>(s<0?e.activeIndex=0:s>e.tabs.length?e.activeIndex=e.tabs.length-1:e.activeIndex=s,e))},setPlaceholderIndex:s=>{W.update(e=>(e.placeholderIndex=s===void 0||s<0||s>=e.tabs.length?-1:s,e))},moveTab:(s,e,t=()=>{})=>{s!=e&&(W.update(n=>{if(s<0||s>=n.tabs.length||e<0||e>=n.tabs.length)return n;const a=n.tabs[s];return n.tabs.splice(s,1),n.tabs.splice(e,0,a),n.activeIndex==s&&(n.activeIndex=e),n.placeholderIndex==s&&(n.placeholderIndex=e),n}),t())}};function Ae(s,e,t){const n=s.slice();return n[38]=e[t],n[39]=e,n[40]=t,n}function Pe(s,e){let t,n,a,l,r=e[40],u,i,g;function d(){return e[15](e[40])}function h(..._){return e[16](e[40],..._)}function c(_){e[17](_,e[40])}let f={active:e[9].activeIndex==e[40],preventHover:e[8],onClose:d,onPointerdown:h,onDragstart:e[13]};e[9].tabs[e[40]].title!==void 0&&(f.title=e[9].tabs[e[40]].title),n=new Oe({props:f}),j.push(()=>xe(n,"title",c));const v=()=>e[18](t,r),C=()=>e[18](null,r);return{key:s,first:null,c(){t=E("div"),ae(n.$$.fragment),l=R(),this.h()},l(_){t=I(_,"DIV",{class:!0});var p=A(t);ie(n.$$.fragment,p),l=U(p),p.forEach(k),this.h()},h(){b(t,"class","tab-container svelte-n2wlg2"),F(t,"placeholder",e[9].placeholderIndex==e[40]),this.first=t},m(_,p){V(_,t,p),oe(n,t,null),y(t,l),v(),u=!0,i||(g=Qe(e[12].call(null,t)),i=!0)},p(_,p){e=_;const H={};p[0]&512&&(H.active=e[9].activeIndex==e[40]),p[0]&256&&(H.preventHover=e[8]),p[0]&512&&(H.onClose=d),p[0]&512&&(H.onPointerdown=h),!a&&p[0]&512&&(a=!0,H.title=e[9].tabs[e[40]].title,Ze(()=>a=!1)),n.$set(H),r!==e[40]&&(C(),r=e[40],v()),(!u||p[0]&512)&&F(t,"placeholder",e[9].placeholderIndex==e[40])},i(_){u||(S(n.$$.fragment,_),u=!0)},o(_){N(n.$$.fragment,_),u=!1},d(_){_&&k(t),re(n),C(),i=!1,g()}}}function lt(s){let e,t,n,a=[],l=new Map,r,u,i,g=`<span class="button-icon svelte-n2wlg2" style="-webkit-mask: url(${$}/images/svg/plus.svg) no-repeat center / contain; mask: url(${$}/images/svg/plus.svg) no-repeat center / contain;"></span>`,d,h,c,f=`<span class="button-icon svelte-n2wlg2" style="-webkit-mask: url(${$}/images/svg/logout.svg) no-repeat center / contain; mask: url(${$}/images/svg/logout.svg) no-repeat center / contain;"></span>`,v,C,_,p,H,P,G,be,K=ye(s[9].tabs);const ue=L=>L[38];for(let L=0;L<K.length;L+=1){let T=Ae(s,K,L),D=ue(T);l.set(D,a[L]=Pe(D,T))}return _=new Oe({props:{title:s[4],active:!s[6],preventHover:!0}}),{c(){e=E("div"),t=E("div"),n=E("div");for(let L=0;L<a.length;L+=1)a[L].c();r=R(),u=E("div"),i=E("button"),i.innerHTML=g,d=R(),h=E("div"),c=E("button"),c.innerHTML=f,v=R(),C=E("div"),ae(_.$$.fragment),p=R(),H=E("div"),this.h()},l(L){e=I(L,"DIV",{});var T=A(e);t=I(T,"DIV",{class:!0});var D=A(t);n=I(D,"DIV",{class:!0});var me=A(n);for(let Z=0;Z<a.length;Z+=1)a[Z].l(me);me.forEach(k),r=U(D),u=I(D,"DIV",{class:!0});var ve=A(u);i=I(ve,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(i)!=="svelte-g0ls06"&&(i.innerHTML=g),ve.forEach(k),d=U(D),h=I(D,"DIV",{class:!0});var Y=A(h);c=I(Y,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(c)!=="svelte-1df52fh"&&(c.innerHTML=f),Y.forEach(k),v=U(D),C=I(D,"DIV",{class:!0});var Q=A(C);ie(_.$$.fragment,Q),Q.forEach(k),D.forEach(k),p=U(T),H=I(T,"DIV",{class:!0}),A(H).forEach(k),T.forEach(k),this.h()},h(){b(n,"class","tabs svelte-n2wlg2"),b(i,"class","button svelte-n2wlg2"),b(u,"class","new-tab-container svelte-n2wlg2"),b(c,"class","logout button svelte-n2wlg2"),b(h,"class","logout-container svelte-n2wlg2"),b(C,"class","clone svelte-n2wlg2"),F(C,"dragging",s[1]),b(t,"class","tabbar svelte-n2wlg2"),b(H,"class","separator svelte-n2wlg2")},m(L,T){V(L,e,T),y(e,t),y(t,n);for(let D=0;D<a.length;D+=1)a[D]&&a[D].m(n,null);s[19](n),y(t,r),y(t,u),y(u,i),y(t,d),y(t,h),y(h,c),y(t,v),y(t,C),oe(_,C,null),s[20](C),y(e,p),y(e,H),s[21](e),P=!0,G||(be=[B(i,"click",s[10]),B(c,"click",function(){ge(s[0])&&s[0].apply(this,arguments)})],G=!0)},p(L,T){s=L,T[0]&27400&&(K=ye(s[9].tabs),Ee(),a=Ve(a,T,ue,1,s,K,l,n,Re,Pe,null,Ae),Ie());const D={};T[0]&16&&(D.title=s[4]),T[0]&64&&(D.active=!s[6]),_.$set(D),(!P||T[0]&2)&&F(C,"dragging",s[1])},i(L){if(!P){for(let T=0;T<K.length;T+=1)S(a[T]);S(_.$$.fragment,L),P=!0}},o(L){for(let T=0;T<a.length;T+=1)N(a[T]);N(_.$$.fragment,L),P=!1},d(L){L&&k(e);for(let T=0;T<a.length;T+=1)a[T].d();s[19](null),re(_),s[20](null),s[21](null),G=!1,De(be)}}}const at=12,we=140,he=70,pe=200,it=1600,Me=.3;function ot(s,e,t){let n;Te(s,W,o=>t(9,n=o));let{logout:a=()=>{}}=e,l,r=[],u=0,i=null,g=-1,d="",h,c,f,v=!1,C=!1,_=0,p=0,H=0,P,G=!1;const be=(o,m=300)=>{let w;return(...q)=>{clearTimeout(w),w=setTimeout(()=>{o.apply(void 0,q)},m)}};function K(){O.newTab()}const ue=o=>{if(!r[o]){console.warn("Cannot close tab!");return}u=r[o].getBoundingClientRect().width,o<n.tabs.length-1&&(l.style.setProperty("--tab-max-width",`${u}px`),L()),o==n.tabs.length-1?O.setActiveIndex(o-1):o==n.activeIndex&&O.setActiveIndex(o+1),Le({duration:pe,easing:de,onStep:(m,w)=>{o==0?t(2,l.style.gridTemplateColumns=`minmax(${w*he}px, ${w*u}px)`,l):t(2,l.style.gridTemplateColumns=`repeat(${o}, minmax(var(--tab-min-width), var(--tab-max-width))) minmax(${w*he}px, ${w*u}px)`,l)},onEnd:()=>{t(2,l.style.gridTemplateColumns="",l),O.removeTab(o)}})},L=be(()=>{l&&(l.style.setProperty("--tab-max-width",`${we}px`),Le({duration:pe,easing:de,onStep:(o,m)=>{l.style.setProperty("--tab-max-width",`${u+o*(we-u)}px`)},onEnd:()=>{l.style.setProperty("--tab-max-width",`${we}px`)}}))},it);function T(o){if(!l)return;const m=o.getBoundingClientRect().width;Le({duration:pe,easing:de,onStep:(w,q)=>{n.tabs.length==1?t(2,l.style.gridTemplateColumns=`minmax(${w*he}px, ${w*m}px)`,l):t(2,l.style.gridTemplateColumns=`repeat(${n.tabs.length-1}, minmax(var(--tab-min-width), var(--tab-max-width))) minmax(${w*he}px, ${w*m}px)`,l),t(2,l.scrollLeft=l.scrollWidth,l)},onEnd:()=>{t(2,l.style.gridTemplateColumns="",l)}})}const D=(o,m)=>{const w=r[0].getBoundingClientRect().width;O.moveTab(o,m,()=>{if(o>m)for(let q=m;q<o;q++)He(r[q],{duration:pe,easing:de,css:(ce,X)=>`transform: translateX(-${X*w}px);`});if(o<m)for(let q=m;q>o;q--)He(r[q],{duration:pe,easing:de,css:(ce,X)=>`transform: translateX(${X*w}px);`})})};function me(o){!o.target||!o.dataTransfer||(o.dataTransfer.setData("text/plain",g.toString()),o.dataTransfer.setDragImage(new Image,0,0))}function ve(o,m){if(o==0&&m==0){t(5,f.style.left="-1000px",f),t(5,f.style.top="-1000px",f);return}let w=P.getBoundingClientRect();if(o<w.left||o>w.right||m<w.top||m>w.bottom){C||(H=0),t(5,f.style.left=`${o+_}px`,f),t(5,f.style.top=`${m+p}px`,f),t(6,C=!0);return}C&&t(6,C=!1),t(5,f.style.left=`${o+_}px`,f),t(5,f.style.top=`${c.top}px`,f);const q=-l.scrollLeft,ce=r[0].getBoundingClientRect().width;let X=-1;if(o>q+n.tabs.length*ce)X=n.tabs.length-1;else for(let fe=0;fe<n.tabs.length;fe++)if(o>q+fe*ce&&o<q+(fe+1)*ce){X=fe;break}o<20?(H=-Me,requestAnimationFrame(Q)):o>l.clientWidth-10?(H=Me,requestAnimationFrame(Q)):H=0,!(X==-1||X==n.placeholderIndex)&&D(n.placeholderIndex,X)}let Y=0;function Q(o){if(!v||H==0){Y=0;return}Y==0&&(Y=o);const m=o-Y;Y=o,l.scrollBy({left:H*m}),requestAnimationFrame(Q)}function Z(o,m){if(!o.target)return;let w,q;o instanceof TouchEvent?(w=o.touches[0].clientX,q=o.touches[0].clientY):(w=o.clientX,q=o.clientY),window.addEventListener("touchmove",J,{passive:!1}),window.addEventListener("touchend",z),window.addEventListener("mousemove",J),window.addEventListener("mouseup",z),window.addEventListener("drag",J),window.addEventListener("dragend",z),window.addEventListener("blur",z),O.setActiveIndex(m),h=o.target,c=h.getBoundingClientRect(),i=[w,q],_=c.left-w,p=c.top-q,t(5,f.style.width=`${c.width}px`,f),t(5,f.style.left=`${c.left}px`,f),t(5,f.style.top=`${c.top}px`,f),g=m,t(4,d=n.tabs[m].title)}function J(o){let m,w;if(o instanceof TouchEvent?(m=o.touches[0].clientX,w=o.touches[0].clientY,o.preventDefault()):(m=o.clientX,w=o.clientY),v){ve(m,w);return}i===null||Math.hypot(i[0]-m,i[1]-w)<at||(t(1,v=!0),O.setPlaceholderIndex(g),O.setActiveIndex(g))}function z(){window.removeEventListener("touchmove",J),window.removeEventListener("touchend",z),window.removeEventListener("mousemove",J),window.removeEventListener("mouseup",z),window.removeEventListener("drag",J),window.removeEventListener("dragend",z),window.removeEventListener("blur",z),i=null,t(6,C=!1),g=-1,_=0,p=0,O.setPlaceholderIndex(),t(1,v=!1)}ke(()=>{l.style.setProperty("--tab-max-width",`${we}px`),l.style.setProperty("--tab-min-width",`${he}px`)});const We=o=>ue(o),Fe=(o,m)=>Z(m,o);function Xe(o,m){s.$$.not_equal(n.tabs[m].title,o)&&(n.tabs[m].title=o,W.set(n))}function Ye(o,m){j[o?"unshift":"push"](()=>{r[m]=o,t(3,r)})}function ze(o){j[o?"unshift":"push"](()=>{l=o,t(2,l)})}function je(o){j[o?"unshift":"push"](()=>{f=o,t(5,f)})}function Ge(o){j[o?"unshift":"push"](()=>{P=o,t(7,P)})}return s.$$set=o=>{"logout"in o&&t(0,a=o.logout)},s.$$.update=()=>{s.$$.dirty[0]&2&&(v?t(8,G=!0):setTimeout(()=>t(8,G=!1),20))},[a,v,l,r,d,f,C,P,G,n,K,ue,T,me,Z,We,Fe,Xe,Ye,ze,je,Ge]}class rt extends se{constructor(e){super(),le(this,e,ot,lt,ne,{logout:0},null,[-1,-1])}}function ut(s){let e,t;return{c(){e=E("div"),t=E("div"),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=A(e);t=I(a,"DIV",{class:!0}),A(t).forEach(k),a.forEach(k),this.h()},h(){b(t,"class","quill-editor svelte-1kerahx"),b(e,"class","quill-editor-wrapper svelte-1kerahx"),F(e,"disabled",s[0])},m(n,a){V(n,e,a),y(e,t),s[3](t)},p(n,[a]){a&1&&F(e,"disabled",n[0])},i:M,o:M,d(n){n&&k(e),s[3](null)}}}function ct(s,e,t){let n;Te(s,W,c=>t(4,n=c));let{disabled:a=!1}=e,l,r;function u(){l&&l.setContents(n.tabs[n.activeIndex].ops)}function i(){l&&Je(W,n.tabs[n.activeIndex].ops=l.getContents().ops,n)}function g(c,f,v){v==="user"&&i()}async function d(){const{default:c}=await et(()=>import("../chunks/quill.BqYzQad1.js"),[],import.meta.url);t(2,l=new c(r,{formats:["bold","italic","underline","strike","code"],placeholder:"Enter text here"})),u(),l.on("text-change",g),l.keyboard.addBinding({key:"/",altKey:!0},()=>{l.format("code",!l.getFormat().code)}),l.keyboard.addBinding({key:"-",altKey:!0},()=>{l.format("strike",!l.getFormat().strike)})}ke(()=>{d()});function h(c){j[c?"unshift":"push"](()=>{r=c,t(1,r)})}return s.$$set=c=>{"disabled"in c&&t(0,a=c.disabled)},s.$$.update=()=>{s.$$.dirty&5&&(a?l==null||l.disable():l==null||l.enable())},[a,r,l,h]}class ft extends se{constructor(e){super(),le(this,e,ct,ut,ne,{disabled:0})}}function Be(s){let e,t="Wrong password!";return{c(){e=E("b"),e.textContent=t,this.h()},l(n){e=I(n,"B",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1rh5isq"&&(e.textContent=t),this.h()},h(){b(e,"class","error svelte-gqaqy8")},m(n,a){V(n,e,a)},d(n){n&&k(e)}}}function dt(s){let e,t,n,a,l,r,u,i,g,d,h=s[2]&&Be();return{c(){e=E("div"),t=E("form"),n=E("input"),a=R(),l=E("input"),r=R(),h&&h.c(),u=R(),i=E("input"),this.h()},l(c){e=I(c,"DIV",{class:!0});var f=A(e);t=I(f,"FORM",{class:!0});var v=A(t);n=I(v,"INPUT",{class:!0,type:!0,placeholder:!0}),a=U(v),l=I(v,"INPUT",{class:!0,type:!0,placeholder:!0}),r=U(v),h&&h.l(v),u=U(v),i=I(v,"INPUT",{type:!0,class:!0}),v.forEach(k),f.forEach(k),this.h()},h(){b(n,"class","email svelte-gqaqy8"),b(n,"type","email"),b(n,"placeholder","Email"),n.required=!0,b(l,"class","password svelte-gqaqy8"),b(l,"type","password"),b(l,"placeholder","Password"),l.required=!0,b(i,"type","submit"),i.value="Login",b(i,"class","btn svelte-gqaqy8"),b(t,"class","form svelte-gqaqy8"),b(e,"class","form-container svelte-gqaqy8")},m(c,f){V(c,e,f),y(e,t),y(t,n),x(n,s[0]),y(t,a),y(t,l),x(l,s[1]),y(t,r),h&&h.m(t,null),y(t,u),y(t,i),g||(d=[B(n,"input",s[4]),B(l,"input",s[5]),B(t,"submit",s[3])],g=!0)},p(c,[f]){f&1&&n.value!==c[0]&&x(n,c[0]),f&2&&l.value!==c[1]&&x(l,c[1]),c[2]?h||(h=Be(),h.c(),h.m(t,u)):h&&(h.d(1),h=null)},i:M,o:M,d(c){c&&k(e),h&&h.d(),g=!1,De(d)}}}function ht(s,e,t){let n="",a="",l=!1;async function r(){try{t(2,l=!1),await Ue.login(n,a)}catch{console.log("Login failed!"),t(2,l=!0)}}function u(){n=this.value,t(0,n)}function i(){a=this.value,t(1,a)}return[n,a,l,r,u,i]}class pt extends se{constructor(e){super(),le(this,e,ht,dt,ne,{})}}function gt(s){let e,t='<span class="spinner svelte-1qqzqd5"></span>';return{c(){e=E("div"),e.innerHTML=t,this.h()},l(n){e=I(n,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1ofjtkb"&&(e.innerHTML=t),this.h()},h(){b(e,"class","spinner-container svelte-1qqzqd5")},m(n,a){V(n,e,a)},p:M,i:M,o:M,d(n){n&&k(e)}}}class bt extends se{constructor(e){super(),le(this,e,null,gt,ne,{})}}function Se(s,e,t){const n=s.slice();return n[7]=e[t],n[9]=t,n}function mt(s){let e,t;return e=new pt({}),{c(){ae(e.$$.fragment)},l(n){ie(e.$$.fragment,n)},m(n,a){oe(e,n,a),t=!0},p:M,i(n){t||(S(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function vt(s){let e,t;return e=new bt({}),{c(){ae(e.$$.fragment)},l(n){ie(e.$$.fragment,n)},m(n,a){oe(e,n,a),t=!0},p:M,i(n){t||(S(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function _t(s){let e,t,n,a,l,r;t=new rt({props:{logout:Ue.logout}});const u=[Tt,wt],i=[];function g(d,h){return d[1].tabs.length>0?0:1}return a=g(s),l=i[a]=u[a](s),{c(){e=E("div"),ae(t.$$.fragment),n=R(),l.c(),this.h()},l(d){e=I(d,"DIV",{class:!0});var h=A(e);ie(t.$$.fragment,h),n=U(h),l.l(h),h.forEach(k),this.h()},h(){b(e,"class","container svelte-fhhrsl")},m(d,h){V(d,e,h),oe(t,e,null),y(e,n),i[a].m(e,null),r=!0},p(d,h){let c=a;a=g(d),a===c?i[a].p(d,h):(Ee(),N(i[c],1,1,()=>{i[c]=null}),Ie(),l=i[a],l?l.p(d,h):(l=i[a]=u[a](d),l.c()),S(l,1),l.m(e,null))},i(d){r||(S(t.$$.fragment,d),S(l),r=!0)},o(d){N(t.$$.fragment,d),N(l),r=!1},d(d){d&&k(e),re(t),i[a].d()}}}function wt(s){let e;return{c(){e=E("div"),this.h()},l(t){e=I(t,"DIV",{class:!0}),A(e).forEach(k),this.h()},h(){b(e,"class","editor-placeholder svelte-fhhrsl")},m(t,n){V(t,e,n)},p:M,i:M,o:M,d(t){t&&k(e)}}}function Tt(s){let e=[],t=new Map,n,a,l=ye(s[1].tabs);const r=u=>u[7];for(let u=0;u<l.length;u+=1){let i=Se(s,l,u),g=r(i);t.set(g,e[u]=Ne(g,i))}return{c(){for(let u=0;u<e.length;u+=1)e[u].c();n=te()},l(u){for(let i=0;i<e.length;i+=1)e[i].l(u);n=te()},m(u,i){for(let g=0;g<e.length;g+=1)e[g]&&e[g].m(u,i);V(u,n,i),a=!0},p(u,i){i&2&&(l=ye(u[1].tabs),Ee(),e=Ve(e,i,r,1,u,l,t,n.parentNode,Re,Ne,n,Se),Ie())},i(u){if(!a){for(let i=0;i<l.length;i+=1)S(e[i]);a=!0}},o(u){for(let i=0;i<e.length;i+=1)N(e[i]);a=!1},d(u){u&&k(n);for(let i=0;i<e.length;i+=1)e[i].d(u)}}}function Ne(s,e){let t,n,a;return n=new ft({props:{disabled:e[9]!==e[1].activeIndex}}),{key:s,first:null,c(){t=te(),ae(n.$$.fragment),this.h()},l(l){t=te(),ie(n.$$.fragment,l),this.h()},h(){this.first=t},m(l,r){V(l,t,r),oe(n,l,r),a=!0},p(l,r){e=l;const u={};r&2&&(u.disabled=e[9]!==e[1].activeIndex),n.$set(u)},i(l){a||(S(n.$$.fragment,l),a=!0)},o(l){N(n.$$.fragment,l),a=!1},d(l){l&&k(t),re(n,l)}}}function yt(s){let e,t,n,a;const l=[_t,vt,mt],r=[];function u(i,g){return i[0].currentUser?0:i[0].isLoading?1:2}return e=u(s),t=r[e]=l[e](s),{c(){t.c(),n=te()},l(i){t.l(i),n=te()},m(i,g){r[e].m(i,g),V(i,n,g),a=!0},p(i,[g]){let d=e;e=u(i),e===d?r[e].p(i,g):(Ee(),N(r[d],1,1,()=>{r[d]=null}),Ie(),t=r[e],t?t.p(i,g):(t=r[e]=l[e](i),t.c()),S(t,1),t.m(n.parentNode,n))},i(i){a||(S(t),a=!0)},o(i){N(t),a=!1},d(i){i&&k(n),r[e].d(i)}}}function kt(s,e,t){let n,a;Te(s,qe,r=>t(0,n=r)),Te(s,W,r=>t(1,a=r)),qe.subscribe(r=>{r.currentUser&&r.currentUser,r.data&&r.data});function l(){O.newTab({data:{id:-1,title:"Hello ðŸ‘‹",ops:[{insert:"Welcome to Not Notepad ðŸŽ‰. v0.24"}]}})}return ke(()=>{l()}),[n,a]}class At extends se{constructor(e){super(),le(this,e,kt,yt,ne,{})}}export{At as component};
