import{o as T,p as b}from"./index.CFDFe1_f.js";import{r as I}from"./scheduler.DVqiRabw.js";function k(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function z(n,l){T(n,1,1,()=>{l.delete(n.key)})}function B(n,l,w,r,p,a,t,f,o,m,u,y){let c=n.length,h=a.length,d=c;const S={};for(;d--;)S[n[d].key]=d;const g=[],q=new Map,v=new Map,M=[];for(d=h;d--;){const e=y(p,a,d),s=w(e);let i=t.get(s);i?M.push(()=>i.p(e,l)):(i=m(s,e),i.c()),q.set(s,g[d]=i),s in S&&v.set(s,Math.abs(d-S[s]))}const x=new Set,C=new Set;function F(e){b(e,1),e.m(f,u),t.set(e.key,e),u=e.first,h--}for(;c&&h;){const e=g[h-1],s=n[c-1],i=e.key,A=s.key;e===s?(u=e.first,c--,h--):q.has(A)?!t.has(i)||x.has(i)?F(e):C.has(A)?c--:v.get(i)>v.get(A)?(C.add(i),F(e)):(x.add(A),c--):(o(s,t),c--)}for(;c--;){const e=n[c];q.has(e.key)||o(e,t)}for(;h;)F(g[h-1]);return I(M),g}function E(n){return n<.5?4*n*n*n:.5*Math.pow(2*n-2,3)+1}const D=(n,l)=>{const{duration:w=300,easing:r=E,onEnd:p=()=>{},onStep:a=()=>{},css:t}=l;let f;function o(m){if(!n){console.warn("Cannot find element to animate");return}f===void 0&&(f=m);const u=r((m-f)/w),y=1-u;u<1?(n.style.cssText=t(u,y),a(u,y),requestAnimationFrame(o)):(n.style.cssText="",p())}requestAnimationFrame(o)},G=n=>{const{duration:l=300,easing:w=E,onEnd:r=()=>{},onStep:p=()=>{}}=n;let a;function t(f){a===void 0&&(a=f);const o=w((f-a)/l),m=1-o;o<1?(p(o,m),requestAnimationFrame(t)):r()}requestAnimationFrame(t)};export{G as a,D as b,E as c,k as e,z as o,B as u};
