import{o as b,p as C}from"./index.CRfKgsjb.js";import{r as I}from"./scheduler.enZu1EuY.js";function k(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function z(e,l){b(e,1,1,()=>{l.delete(e.key)})}function B(e,l,w,y,p,a,s,u,o,m,f,g){let c=e.length,h=a.length,d=c;const S={};for(;d--;)S[e[d].key]=d;const r=[],q=new Map,v=new Map,M=[];for(d=h;d--;){const n=g(p,a,d),t=w(n);let i=s.get(t);i?M.push(()=>i.p(n,l)):(i=m(t,n),i.c()),q.set(t,r[d]=i),t in S&&v.set(t,Math.abs(d-S[t]))}const x=new Set,E=new Set;function F(n){C(n,1),n.m(u,f),s.set(n.key,n),f=n.first,h--}for(;c&&h;){const n=r[h-1],t=e[c-1],i=n.key,A=t.key;n===t?(f=n.first,c--,h--):q.has(A)?!s.has(i)||x.has(i)?F(n):E.has(A)?c--:v.get(i)>v.get(A)?(E.add(i),F(n)):(x.add(A),c--):(o(t,s),c--)}for(;c--;){const n=e[c];q.has(n.key)||o(n,s)}for(;h;)F(r[h-1]);return I(M),r}function T(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}const D=(e,l)=>{const{duration:w=300,easing:y=T,onEnd:p=()=>{},onStep:a=()=>{},css:s}=l;let u;function o(m){u===void 0&&(u=m);const f=y((m-u)/w),g=1-f;f<1?(e.style.cssText=s(f,g),a(f,g),requestAnimationFrame(o)):(e.style.cssText="",p())}requestAnimationFrame(o)},G=e=>{const{duration:l=300,easing:w=T,onEnd:y=()=>{},onStep:p=()=>{}}=e;let a;function s(u){a===void 0&&(a=u);const o=w((u-a)/l),m=1-o;o<1?(p(o,m),requestAnimationFrame(s)):y()}requestAnimationFrame(s)};export{D as a,G as b,T as c,k as e,z as o,B as u};
