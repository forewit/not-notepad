import{n as C,o as E}from"./index.DfRyX0YP.js";import{r as O}from"./scheduler.DvlNEcs7.js";function j(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function T(n,t){n.d(1),t.delete(n.key)}function z(n,t){E(n,1,1,()=>{t.delete(n.key)})}function B(n,t){n.f(),T(n,t)}function D(n,t,w,y,r,f,s,u,c,m,d,p){let a=n.length,h=f.length,l=a;const S={};for(;l--;)S[n[l].key]=l;const g=[],q=new Map,v=new Map,F=[];for(l=h;l--;){const e=p(r,f,l),i=w(e);let o=s.get(i);o?F.push(()=>o.p(e,t)):(o=m(i,e),o.c()),q.set(i,g[l]=o),i in S&&v.set(i,Math.abs(l-S[i]))}const M=new Set,_=new Set;function x(e){C(e,1),e.m(u,d),s.set(e.key,e),d=e.first,h--}for(;a&&h;){const e=g[h-1],i=n[a-1],o=e.key,A=i.key;e===i?(d=e.first,a--,h--):q.has(A)?!s.has(o)||M.has(o)?x(e):_.has(A)?a--:v.get(o)>v.get(A)?(_.add(o),x(e)):(M.add(A),a--):(c(i,s),a--)}for(;a--;){const e=n[a];q.has(e.key)||c(e,s)}for(;h;)x(g[h-1]);return O(F),g}function b(n){return n<.5?4*n*n*n:.5*Math.pow(2*n-2,3)+1}function G(n){const t=n-1;return t*t*t+1}const H=(n,t)=>{const{duration:w=300,easing:y=b,onEnd:r=()=>{},onStep:f=()=>{},css:s}=t;let u;function c(m){if(!n){console.warn("Cannot find element to animate");return}u===void 0&&(u=m);const d=y((m-u)/w),p=1-d;d<1?(n.style.cssText=s(d,p),f(d,p),requestAnimationFrame(c)):(n.style.cssText="",r())}requestAnimationFrame(c)},J=n=>{const{duration:t=300,easing:w=b,onEnd:y=()=>{},onStep:r=()=>{}}=n;let f;function s(u){f===void 0&&(f=u);const c=w((u-f)/t),m=1-c;c<1?(r(c,m),requestAnimationFrame(s)):y()}requestAnimationFrame(s)};export{J as a,b,G as c,H as d,j as e,B as f,z as o,D as u};
